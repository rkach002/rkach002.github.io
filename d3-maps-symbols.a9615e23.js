!function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,n,e){return t(e={path:n,exports:{},require:function(t,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&e.path)}},e.exports),e.exports}function r(t){if(t.__esModule)return t;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}var i=n(e((function(t){t.exports=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t},t.exports.default=t.exports,t.exports.__esModule=!0}))),o=e((function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0})),a=e((function(t){t.exports=function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o=[],a=!0,u=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(t){u=!0,i=t}finally{try{a||null==e.return||e.return()}finally{if(u)throw i}}return o}},t.exports.default=t.exports,t.exports.__esModule=!0})),u=e((function(t){t.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r},t.exports.default=t.exports,t.exports.__esModule=!0})),c=e((function(t){t.exports=function(t,n){if(t){if("string"==typeof t)return u(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,n):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0})),l=e((function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0})),s=n(e((function(t){t.exports=function(t,n){return o(t)||a(t,n)||c(t,n)||l()},t.exports.default=t.exports,t.exports.__esModule=!0}))),f="http://www.w3.org/1999/xhtml",h={svg:"http://www.w3.org/2000/svg",xhtml:f,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function p(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),h.hasOwnProperty(n)?{space:h[n],local:t}:t}function d(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===f&&n.documentElement.namespaceURI===f?n.createElement(t):n.createElementNS(e,t)}}function g(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function v(t){var n=p(t);return(n.local?g:d)(n)}function m(){}function y(t){return null==t?m:function(){return this.querySelector(t)}}function b(){return[]}function w(t){return null==t?b:function(){return this.querySelectorAll(t)}}function _(t){return function(){return this.matches(t)}}function x(t){return new Array(t.length)}function M(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}M.prototype={constructor:M,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function k(t,n,e,r,i,o){for(var a,u=0,c=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new M(t,o[u]);for(;u<c;++u)(a=n[u])&&(i[u]=a)}function S(t,n,e,r,i,o,a){var u,c,l,s={},f=n.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(c=n[u])&&(p[u]=l="$"+a.call(c,c.__data__,u,n),l in s?i[u]=c:s[l]=c);for(u=0;u<h;++u)(c=s[l="$"+a.call(t,o[u],u,o)])?(r[u]=c,c.__data__=o[u],s[l]=null):e[u]=new M(t,o[u]);for(u=0;u<f;++u)(c=n[u])&&s[p[u]]===c&&(i[u]=c)}function A(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function E(t){return function(){this.removeAttribute(t)}}function j(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $(t,n){return function(){this.setAttribute(t,n)}}function O(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function N(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function z(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function T(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function L(t){return function(){this.style.removeProperty(t)}}function P(t,n,e){return function(){this.style.setProperty(t,n,e)}}function D(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function C(t,n){return t.style.getPropertyValue(n)||T(t).getComputedStyle(t,null).getPropertyValue(n)}function R(t){return function(){delete this[t]}}function F(t,n){return function(){this[t]=n}}function B(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function q(t){return t.trim().split(/^|\s+/)}function W(t){return t.classList||new Y(t)}function Y(t){this._node=t,this._names=q(t.getAttribute("class")||"")}function H(t,n){for(var e=W(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function I(t,n){for(var e=W(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function U(t){return function(){H(this,t)}}function Z(t){return function(){I(this,t)}}function X(t,n){return function(){(n.apply(this,arguments)?H:I)(this,t)}}function V(){this.textContent=""}function G(t){return function(){this.textContent=t}}function K(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function J(){this.innerHTML=""}function Q(t){return function(){this.innerHTML=t}}function tt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function nt(){this.nextSibling&&this.parentNode.appendChild(this)}function et(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rt(){return null}function it(){var t=this.parentNode;t&&t.removeChild(this)}function ot(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function at(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}Y.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ut={},ct=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ut={mouseenter:"mouseover",mouseleave:"mouseout"}));function lt(t,n,e){return t=st(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function st(t,n,e){return function(r){var i=ct;ct=r;try{t.call(this,this.__data__,n,e)}finally{ct=i}}}function ft(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function ht(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function pt(t,n,e){var r=ut.hasOwnProperty(t.type)?lt:st;return function(i,o,a){var u,c=this.__on,l=r(n,o,a);if(c)for(var s=0,f=c.length;s<f;++s)if((u=c[s]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=e),void(u.value=n);this.addEventListener(t.type,l,e),u={type:t.type,name:t.name,value:n,listener:l,capture:e},c?c.push(u):this.__on=[u]}}function dt(t,n,e){var r=T(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function gt(t,n){return function(){return dt(this,t,n)}}function vt(t,n){return function(){return dt(this,t,n.apply(this,arguments))}}var mt=[null];function yt(t,n){this._groups=t,this._parents=n}function bt(){return new yt([[document.documentElement]],mt)}function wt(t){return"string"==typeof t?new yt([[document.querySelector(t)]],[document.documentElement]):new yt([[t]],mt)}function _t(){for(var t,n=ct;t=n.sourceEvent;)n=t;return n}function xt(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function Mt(t){var n=_t();return n.changedTouches&&(n=n.changedTouches[0]),xt(t,n)}function kt(t,n,e){arguments.length<3&&(e=n,n=_t().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return xt(t,r);return null}function St(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}yt.prototype=bt.prototype={constructor:yt,select:function(t){"function"!=typeof t&&(t=y(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],c=u.length,l=r[i]=new Array(c),s=0;s<c;++s)(o=u[s])&&(a=t.call(o,o.__data__,s,u))&&("__data__"in o&&(a.__data__=o.__data__),l[s]=a);return new yt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=w(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],c=u.length,l=0;l<c;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new yt(r,i)},filter:function(t){"function"!=typeof t&&(t=_(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new yt(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),s=-1,this.each((function(t){d[++s]=t})),d;var e,r=n?S:k,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),c=new Array(a),l=new Array(a),s=0;s<a;++s){var f=i[s],h=o[s],p=h.length,d=t.call(f,f&&f.__data__,s,i),g=d.length,v=c[s]=new Array(g),m=u[s]=new Array(g);r(f,h,v,m,l[s]=new Array(p),d,n);for(var y,b,w=0,_=0;w<g;++w)if(y=v[w]){for(w>=_&&(_=w+1);!(b=m[_])&&++_<g;);y._next=b||null}}return(u=new yt(u,i))._enter=c,u._exit=l,u},enter:function(){return new yt(this._enter||this._groups.map(x),this._parents)},exit:function(){return new yt(this._exit||this._groups.map(x),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,l=n[u],s=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;u<r;++u)a[u]=n[u];return new yt(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=A);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],c=u.length,l=i[o]=new Array(c),s=0;s<c;++s)(a=u[s])&&(l[s]=a);l.sort(n)}return new yt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=p(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?j:E:"function"==typeof n?e.local?z:N:e.local?O:$)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?L:"function"==typeof n?D:P)(t,n,null==e?"":e)):C(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?R:"function"==typeof n?B:F)(t,n)):this.node()[t]},classed:function(t,n){var e=q(t+"");if(arguments.length<2){for(var r=W(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?X:n?U:Z)(e,n))},text:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?K:G)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?J:("function"==typeof t?tt:Q)(t)):this.node().innerHTML},raise:function(){return this.each(nt)},lower:function(){return this.each(et)},append:function(t){var n="function"==typeof t?t:v(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:v(t),r=null==n?rt:"function"==typeof n?n:y(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(it)},clone:function(t){return this.select(t?at:ot)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=ft(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?pt:ht,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var c,l=0,s=u.length;l<s;++l)for(r=0,c=u[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?vt:gt)(t,n))}};var At=function(t){return 1===t.length&&(t=function(t){return function(n,e){return St(t(n),e)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}(St).right;function Et(t){return null===t?NaN:+t}function jt(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}var $t=Math.sqrt(50),Ot=Math.sqrt(10),Nt=Math.sqrt(2);function zt(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=$t?10:o>=Ot?5:o>=Nt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=$t?10:o>=Ot?5:o>=Nt?2:1)}function Tt(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r}function Lt(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--a]=r[n];return e}function Pt(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o}function Dt(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}var Ct="$";function Rt(){}function Ft(t,n){var e=new Rt;if(t instanceof Rt)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function Bt(){}Rt.prototype=Ft.prototype={constructor:Rt,has:function(t){return Ct+t in this},get:function(t){return this[Ct+t]},set:function(t,n){return this[Ct+t]=n,this},remove:function(t){var n=Ct+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===Ct&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===Ct&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===Ct&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===Ct&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===Ct&&++t;return t},empty:function(){for(var t in this)if(t[0]===Ct)return!1;return!0},each:function(t){for(var n in this)n[0]===Ct&&t(this[n],n.slice(1),this)}};var qt=Ft.prototype;function Wt(t){var n=[];for(var e in t)n.push(t[e]);return n}Bt.prototype=function(t,n){var e=new Bt;if(t instanceof Bt)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:Bt,has:qt.has,add:function(t){return this[Ct+(t+="")]=t,this},remove:qt.remove,clear:qt.clear,values:qt.keys,size:qt.size,empty:qt.empty,each:qt.each};var Yt=Array.prototype,Ht=Yt.map,It=Yt.slice,Ut={name:"implicit"};function Zt(){var t=Ft(),n=[],e=[],r=Ut;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Ut)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Ft();for(var r,o,a=-1,u=e.length;++a<u;)t.has(o=(r=e[a])+"")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=It.call(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Zt(n,e).unknown(r)},Dt.apply(i,arguments),i}var Xt=n(e((function(t){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=n=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),n(e)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0})));function Vt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Gt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Kt(){}var Jt=.7,Qt=1/Jt,tn="\\s*([+-]?\\d+)\\s*",nn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",en="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rn=/^#([0-9a-f]{3,8})$/,on=new RegExp("^rgb\\("+[tn,tn,tn]+"\\)$"),an=new RegExp("^rgb\\("+[en,en,en]+"\\)$"),un=new RegExp("^rgba\\("+[tn,tn,tn,nn]+"\\)$"),cn=new RegExp("^rgba\\("+[en,en,en,nn]+"\\)$"),ln=new RegExp("^hsl\\("+[nn,en,en]+"\\)$"),sn=new RegExp("^hsla\\("+[nn,en,en,nn]+"\\)$"),fn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hn(){return this.rgb().formatHex()}function pn(){return this.rgb().formatRgb()}function dn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=rn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?gn(n):3===e?new bn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?vn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?vn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=on.exec(t))?new bn(n[1],n[2],n[3],1):(n=an.exec(t))?new bn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=un.exec(t))?vn(n[1],n[2],n[3],n[4]):(n=cn.exec(t))?vn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=ln.exec(t))?Mn(n[1],n[2]/100,n[3]/100,1):(n=sn.exec(t))?Mn(n[1],n[2]/100,n[3]/100,n[4]):fn.hasOwnProperty(t)?gn(fn[t]):"transparent"===t?new bn(NaN,NaN,NaN,0):null}function gn(t){return new bn(t>>16&255,t>>8&255,255&t,1)}function vn(t,n,e,r){return r<=0&&(t=n=e=NaN),new bn(t,n,e,r)}function mn(t){return t instanceof Kt||(t=dn(t)),t?new bn((t=t.rgb()).r,t.g,t.b,t.opacity):new bn}function yn(t,n,e,r){return 1===arguments.length?mn(t):new bn(t,n,e,null==r?1:r)}function bn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function wn(){return"#"+xn(this.r)+xn(this.g)+xn(this.b)}function _n(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function xn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Mn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Sn(t,n,e,r)}function kn(t){if(t instanceof Sn)return new Sn(t.h,t.s,t.l,t.opacity);if(t instanceof Kt||(t=dn(t)),!t)return new Sn;if(t instanceof Sn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new Sn(a,u,c,t.opacity)}function Sn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function An(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Vt(Kt,dn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:hn,formatHex:hn,formatHsl:function(){return kn(this).formatHsl()},formatRgb:pn,toString:pn}),Vt(bn,yn,Gt(Kt,{brighter:function(t){return t=null==t?Qt:Math.pow(Qt,t),new bn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Jt:Math.pow(Jt,t),new bn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wn,formatHex:wn,formatRgb:_n,toString:_n})),Vt(Sn,(function(t,n,e,r){return 1===arguments.length?kn(t):new Sn(t,n,e,null==r?1:r)}),Gt(Kt,{brighter:function(t){return t=null==t?Qt:Math.pow(Qt,t),new Sn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Jt:Math.pow(Jt,t),new Sn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new bn(An(t>=240?t-240:t+120,i,r),An(t,i,r),An(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var En=Math.PI/180,jn=180/Math.PI,$n=.96422,On=.82521,Nn=4/29,zn=6/29,Tn=3*zn*zn;function Ln(t){if(t instanceof Dn)return new Dn(t.l,t.a,t.b,t.opacity);if(t instanceof Yn)return Hn(t);t instanceof bn||(t=mn(t));var n,e,r=Bn(t.r),i=Bn(t.g),o=Bn(t.b),a=Cn((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?n=e=a:(n=Cn((.4360747*r+.3850649*i+.1430804*o)/$n),e=Cn((.0139322*r+.0971045*i+.7141733*o)/On)),new Dn(116*a-16,500*(n-a),200*(a-e),t.opacity)}function Pn(t,n,e,r){return 1===arguments.length?Ln(t):new Dn(t,n,e,null==r?1:r)}function Dn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Cn(t){return t>.008856451679035631?Math.pow(t,1/3):t/Tn+Nn}function Rn(t){return t>zn?t*t*t:Tn*(t-Nn)}function Fn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Bn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function qn(t){if(t instanceof Yn)return new Yn(t.h,t.c,t.l,t.opacity);if(t instanceof Dn||(t=Ln(t)),0===t.a&&0===t.b)return new Yn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*jn;return new Yn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Wn(t,n,e,r){return 1===arguments.length?qn(t):new Yn(t,n,e,null==r?1:r)}function Yn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Hn(t){if(isNaN(t.h))return new Dn(t.l,0,0,t.opacity);var n=t.h*En;return new Dn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function In(t){return function(){return t}}function Un(t){return 1==(t=+t)?Zn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):In(isNaN(n)?e:n)}}function Zn(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):In(isNaN(t)?n:t)}Vt(Dn,Pn,Gt(Kt,{brighter:function(t){return new Dn(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Dn(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new bn(Fn(3.1338561*(n=$n*Rn(n))-1.6168667*(t=1*Rn(t))-.4906146*(e=On*Rn(e))),Fn(-.9787684*n+1.9161415*t+.033454*e),Fn(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),Vt(Yn,Wn,Gt(Kt,{brighter:function(t){return new Yn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Yn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Hn(this).rgb()}}));var Xn=function t(n){var e=Un(n);function r(t,n){var r=e((t=yn(t)).r,(n=yn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=Zn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Vn(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Gn(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=re(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function Kn(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Jn(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Qn(t,n){var e,r={},i={};for(e in null!==t&&"object"===Xt(t)||(t={}),null!==n&&"object"===Xt(n)||(n={}),n)e in t?r[e]=re(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var te=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ne=new RegExp(te.source,"g");function ee(t,n){var e,r,i,o=te.lastIndex=ne.lastIndex=0,a=-1,u=[],c=[];for(t+="",n+="";(e=te.exec(t))&&(r=ne.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:Jn(e,r)})),o=ne.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)u[(e=c[r]).i]=e.x(t);return u.join("")})}function re(t,n){var e,r,i=Xt(n);return null==n||"boolean"===i?In(n):("number"===i?Jn:"string"===i?(e=dn(n))?(n=e,Xn):ee:n instanceof dn?Xn:n instanceof Date?Kn:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?Gn:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Qn:Jn:Vn))(t,n)}function ie(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var oe,ae,ue,ce,le=180/Math.PI,se={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function fe(t,n,e,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,c/=u),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*le,skewX:Math.atan(c)*le,scaleX:a,scaleY:u}}function he(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],c=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var c=a.push("translate(",null,n,null,e);u.push({i:c-4,x:Jn(t,i)},{i:c-2,x:Jn(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Jn(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Jn(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,c),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Jn(t,e)},{i:u-2,x:Jn(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,c),o=a=null,function(t){for(var n,e=-1,r=c.length;++e<r;)u[(n=c[e]).i]=n.x(t);return u.join("")}}}var pe=he((function(t){return"none"===t?se:(oe||(oe=document.createElement("DIV"),ae=document.documentElement,ue=document.defaultView),oe.style.transform=t,t=ue.getComputedStyle(ae.appendChild(oe),null).getPropertyValue("transform"),ae.removeChild(oe),fe(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),de=he((function(t){return null==t?se:(ce||(ce=document.createElementNS("http://www.w3.org/2000/svg","g")),ce.setAttribute("transform",t),(t=ce.transform.baseVal.consolidate())?fe((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):se)}),", ",")",")"),ge=Math.SQRT2;function ve(t){return((t=Math.exp(t))+1/t)/2}function me(t,n){var e,r,i=t[0],o=t[1],a=t[2],u=n[0],c=n[1],l=n[2],s=u-i,f=c-o,h=s*s+f*f;if(h<1e-12)r=Math.log(l/a)/ge,e=function(t){return[i+t*s,o+t*f,a*Math.exp(ge*t*r)]};else{var p=Math.sqrt(h),d=(l*l-a*a+4*h)/(2*a*2*p),g=(l*l-a*a-4*h)/(2*l*2*p),v=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/ge,e=function(t){var n,e=t*r,u=ve(v),c=a/(2*p)*(u*(n=ge*e+v,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+c*s,o+c*f,a*u/ve(ge*e+v)]}}return e.duration=1e3*r,e}function ye(t,n){var e=Zn((t=Pn(t)).l,(n=Pn(n)).l),r=Zn(t.a,n.a),i=Zn(t.b,n.b),o=Zn(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}function be(t){return+t}var we=[0,1];function _e(t){return t}function xe(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Me(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function ke(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=xe(i,r),o=e(a,o)):(r=xe(r,i),o=e(o,a)),function(t){return o(r(t))}}function Se(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=xe(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=At(t,n,1,r)-1;return o[e](i[e](n))}}function Ae(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ee(){var t,n,e,r,i,o,a=we,u=we,c=re,l=_e;function s(){return r=Math.min(a.length,u.length)>2?Se:ke,i=o=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,c)))(t(l(n)))}return f.invert=function(e){return l(n((o||(o=r(u,a.map(t),Jn)))(e)))},f.domain=function(t){return arguments.length?(a=Ht.call(t,be),l===_e||(l=Me(a)),s()):a.slice()},f.range=function(t){return arguments.length?(u=It.call(t),s()):u.slice()},f.rangeRound=function(t){return u=It.call(t),c=ie,s()},f.clamp=function(t){return arguments.length?(l=t?Me(a):_e,f):l!==_e},f.interpolate=function(t){return arguments.length?(c=t,s()):c},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,s()}}function je(t,n){return Ee()(t,n)}function $e(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Oe(t){return(t=$e(Math.abs(t)))?t[1]:NaN}var Ne,ze=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Te(t){if(!(n=ze.exec(t)))throw new Error("invalid format: "+t);var n;return new Le({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Le(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Pe(t,n){var e=$e(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Te.prototype=Le.prototype,Le.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var De={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Pe(100*t,n)},r:Pe,s:function(t,n){var e=$e(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Ne=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+$e(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ce(t){return t}var Re,Fe,Be,qe=Array.prototype.map,We=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ye(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Ce:(n=qe.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(t.substring(i-=u,i+u)),!((c+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Ce:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(qe.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=Te(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,g=t.comma,v=t.precision,m=t.trim,y=t.type;"n"===y?(g=!0,y="g"):De[y]||(void 0===v&&(v=12),m=!0,y="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?o:/[%p]/.test(y)?c:"",_=De[y],x=/[defgprs%]/.test(y);function M(t){var i,o,c,h=b,M=w;if("c"===y)M=_(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:_(Math.abs(t),v),m&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),h=(k?"("===f?f:l:"-"===f||"("===f?"":f)+h,M=("s"===y?We[8+Ne/3]:"")+M+(k&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){M=(46===c?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var S=h.length+t.length+M.length,A=S<d?new Array(d-S+1).join(n):"";switch(g&&p&&(t=r(A+t,A.length?d-M.length:1/0),A=""),e){case"<":t=h+t+M+A;break;case"=":t=h+A+t+M;break;case"^":t=A.slice(0,S=A.length>>1)+h+t+M+A.slice(S);break;default:t=A+h+t+M}return u(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,n){var e=f(((t=Te(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Oe(n)/3))),i=Math.pow(10,-r),o=We[8+r/3];return function(t){return e(i*t)+o}}}}function He(t){return Math.max(0,-Oe(Math.abs(t)))}function Ie(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Oe(n)/3)))-Oe(Math.abs(t)))}function Ue(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Oe(n)-Oe(t))+1}function Ze(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=$t?i*=10:o>=Ot?i*=5:o>=Nt&&(i*=2),n<t?-i:i}(t,n,e);switch((r=Te(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=Ie(o,a))||(r.precision=i),Be(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Ue(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=He(o))||(r.precision=i-2*("%"===r.type))}return Fe(r)}function Xe(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=zt(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Ze(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,a=i.length-1,u=i[o],c=i[a];return c<u&&(r=u,u=c,c=r,r=o,o=a,a=r),(r=zt(u,c,e))>0?r=zt(u=Math.floor(u/r)*r,c=Math.ceil(c/r)*r,e):r<0&&(r=zt(u=Math.ceil(u*r)/r,c=Math.floor(c*r)/r,e)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(c/r)*r,n(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(c*r)/r,n(i)),t},t}function Ve(){var t=je(_e,_e);return t.copy=function(){return Ae(t,Ve())},Dt.apply(t,arguments),Xe(t)}function Ge(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Ke(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Je(t){return t<0?-t*t:t*t}function Qe(t){var n=t(_e,_e),e=1;function r(){return 1===e?t(_e,_e):.5===e?t(Ke,Je):t(Ge(e),Ge(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},Xe(n)}function tr(){var t=Qe(Ee());return t.copy=function(){return Ae(t,tr()).exponent(t.exponent())},Dt.apply(t,arguments),t}function nr(){return tr.apply(null,arguments).exponent(.5)}Re=Ye({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Fe=Re.format,Be=Re.formatPrefix;var er={value:function(){}};function rr(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ir(r)}function ir(t){this._=t}function or(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function ar(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function ur(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=er,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function cr(){ct.preventDefault(),ct.stopImmediatePropagation()}function lr(t){var n=t.document.documentElement,e=wt(t).on("dragstart.drag",cr,!0);"onselectstart"in n?e.on("selectstart.drag",cr,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function sr(t,n){var e=t.document.documentElement,r=wt(t).on("dragstart.drag",null);n&&(r.on("click.drag",cr,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}ir.prototype=rr.prototype={constructor:ir,on:function(t,n){var e,r=this._,i=or(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=ur(r[e],t.name,n);else if(null==n)for(e in r)r[e]=ur(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=ar(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new ir(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var fr,hr,pr=0,dr=0,gr=0,vr=0,mr=0,yr=0,br="object"===("undefined"==typeof performance?"undefined":Xt(performance))&&performance.now?performance:Date,wr="object"===("undefined"==typeof window?"undefined":Xt(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _r(){return mr||(wr(xr),mr=br.now()+yr)}function xr(){mr=0}function Mr(){this._call=this._time=this._next=null}function kr(t,n,e){var r=new Mr;return r.restart(t,n,e),r}function Sr(){mr=(vr=br.now())+yr,pr=dr=0;try{!function(){_r(),++pr;for(var t,n=fr;n;)(t=mr-n._time)>=0&&n._call.call(null,t),n=n._next;--pr}()}finally{pr=0,function(){var t,n,e=fr,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:fr=n);hr=t,Er(r)}(),mr=0}}function Ar(){var t=br.now(),n=t-vr;n>1e3&&(yr-=n,vr=t)}function Er(t){pr||(dr&&(dr=clearTimeout(dr)),t-mr>24?(t<1/0&&(dr=setTimeout(Sr,t-br.now()-yr)),gr&&(gr=clearInterval(gr))):(gr||(vr=br.now(),gr=setInterval(Ar,1e3)),pr=1,wr(Sr)))}function jr(t,n,e){var r=new Mr;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r}Mr.prototype=kr.prototype={constructor:Mr,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?_r():+e)+(null==n?0:+n),this._next||hr===this||(hr?hr._next=this:fr=this,hr=this),this._call=t,this._time=e,Er()},stop:function(){this._call&&(this._call=null,this._time=1/0,Er())}};var $r=rr("start","end","cancel","interrupt"),Or=[];function Nr(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var l,s,f,h;if(1!==e.state)return c();for(l in i)if((h=i[l]).name===e.name){if(3===h.state)return jr(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(jr((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(o))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),l=0,s=-1;l<f;++l)(h=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(c),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=kr(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:$r,tween:Or,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function zr(t,n){var e=Lr(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Tr(t,n){var e=Lr(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Lr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Pr(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}function Dr(t,n){var e,r;return function(){var i=Tr(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function Cr(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Tr(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},c=0,l=i.length;c<l;++c)if(i[c].name===n){i[c]=u;break}c===l&&i.push(u)}o.tween=i}}function Rr(t,n,e){var r=t._id;return t.each((function(){var t=Tr(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Lr(t,r).value[n]}}function Fr(t,n){var e;return("number"==typeof n?Jn:n instanceof dn?Xn:(e=dn(n))?(n=e,Xn):ee)(t,n)}function Br(t){return function(){this.removeAttribute(t)}}function qr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function Yr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function Hr(t,n,e){var r,i,o;return function(){var a,u,c=e(this);if(null!=c)return(a=this.getAttribute(t))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,c));this.removeAttribute(t)}}function Ir(t,n,e){var r,i,o;return function(){var a,u,c=e(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,c));this.removeAttributeNS(t.space,t.local)}}function Ur(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Zr(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Xr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Zr(t,i)),e}return i._value=n,i}function Vr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Ur(t,i)),e}return i._value=n,i}function Gr(t,n){return function(){zr(this,t).delay=+n.apply(this,arguments)}}function Kr(t,n){return n=+n,function(){zr(this,t).delay=n}}function Jr(t,n){return function(){Tr(this,t).duration=+n.apply(this,arguments)}}function Qr(t,n){return n=+n,function(){Tr(this,t).duration=n}}function ti(t,n){if("function"!=typeof n)throw new Error;return function(){Tr(this,t).ease=n}}function ni(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?zr:Tr;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var ei=bt.prototype.constructor;function ri(t){return function(){this.style.removeProperty(t)}}function ii(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function oi(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&ii(t,o,e)),r}return o._value=n,o}function ai(t){return function(n){this.textContent=t.call(this,n)}}function ui(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&ai(r)),n}return r._value=t,r}var ci=0;function li(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function si(t){return bt().transition(t)}function fi(){return++ci}var hi=bt.prototype;li.prototype=si.prototype={constructor:li,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=y(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,l=r[a],s=l.length,f=o[a]=new Array(s),h=0;h<s;++h)(u=l[h])&&(c=t.call(u,u.__data__,h,l))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,Nr(f[h],n,e,h,f,Lr(u,e)));return new li(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=w(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,l=r[u],s=l.length,f=0;f<s;++f)if(c=l[f]){for(var h,p=t.call(c,c.__data__,f,l),d=Lr(c,e),g=0,v=p.length;g<v;++g)(h=p[g])&&Nr(h,n,e,g,p,d);o.push(p),a.push(c)}return new li(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=_(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new li(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,l=n[u],s=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;u<r;++u)a[u]=n[u];return new li(a,this._parents,this._name,this._id)},selection:function(){return new ei(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=fi(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,l=0;l<c;++l)if(a=u[l]){var s=Lr(a,n);Nr(a,t,e,l,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new li(r,this._parents,t,e)},call:hi.call,nodes:hi.nodes,node:hi.node,size:hi.size,empty:hi.empty,each:hi.each,on:function(t,n){var e=this._id;return arguments.length<2?Lr(this.node(),e).on.on(t):this.each(ni(e,t,n))},attr:function(t,n){var e=p(t),r="transform"===e?de:Fr;return this.attrTween(t,"function"==typeof n?(e.local?Ir:Hr)(e,r,Rr(this,"attr."+t,n)):null==n?(e.local?qr:Br)(e):(e.local?Yr:Wr)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=p(t);return this.tween(e,(r.local?Xr:Vr)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?pe:Fr;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=C(this,t),a=(this.style.removeProperty(t),C(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,ri(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=C(this,t),u=e(this),c=u+"";return null==u&&(this.style.removeProperty(t),c=u=C(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,u))}}(t,r,Rr(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var c=Tr(this,t),l=c.on,s=null==c.value[a]?o||(o=ri(n)):void 0;l===e&&i===s||(r=(e=l).copy()).on(u,i=s),c.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=C(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,oi(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Rr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,ui(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Lr(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Dr:Cr)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Gr:Kr)(n,t)):Lr(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Jr:Qr)(n,t)):Lr(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(ti(n,t)):Lr(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},c={value:function(){0==--i&&o()}};e.each((function(){var e=Tr(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(c)),e.on=n}))}))}};var pi={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function di(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return pi.time=_r(),pi;return e}function gi(t){return function(){return t}}function vi(t,n,e){this.target=t,this.type=n,this.transform=e}function mi(t,n,e){this.k=t,this.x=n,this.y=e}bt.prototype.interrupt=function(t){return this.each((function(){Pr(this,t)}))},bt.prototype.transition=function(t){var n,e;t instanceof li?(n=t._id,t=t._name):(n=fi(),(e=pi).time=_r(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,l=0;l<c;++l)(a=u[l])&&Nr(a,t,n,l,u,e||di(a,n));return new li(r,this._parents,t,n)},mi.prototype={constructor:mi,scale:function(t){return 1===t?this:new mi(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new mi(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var yi=new mi(1,0,0);function bi(t){for(;!t.__zoom;)if(!(t=t.parentNode))return yi;return t.__zoom}function wi(){ct.stopImmediatePropagation()}function _i(){ct.preventDefault(),ct.stopImmediatePropagation()}function xi(){return!ct.ctrlKey&&!ct.button}function Mi(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function ki(){return this.__zoom||yi}function Si(){return-ct.deltaY*(1===ct.deltaMode?.05:ct.deltaMode?1:.002)}function Ai(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ei(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function ji(){var t,n,e=xi,r=Mi,i=Ei,o=Si,a=Ai,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,s=me,f=rr("start","zoom","end"),h=500,p=0;function d(t){t.property("__zoom",ki).on("wheel.zoom",_).on("mousedown.zoom",x).on("dblclick.zoom",M).filter(a).on("touchstart.zoom",k).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,n){return(n=Math.max(u[0],Math.min(u[1],n)))===t.k?t:new mi(n,t.x,t.y)}function v(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new mi(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function y(t,n,e){t.on("start.zoom",(function(){b(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=b(t,i),a=r.apply(t,i),u=null==e?m(a):"function"==typeof e?e.apply(t,i):e,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=t.__zoom,f="function"==typeof n?n.apply(t,i):n,h=s(l.invert(u).concat(c/l.k),f.invert(u).concat(c/f.k));return function(t){if(1===t)t=f;else{var n=h(t),e=c/n[2];t=new mi(e,u[0]-n[0]*e,u[1]-n[1]*e)}o.zoom(null,t)}}))}function b(t,n,e){return!e&&t.__zooming||new w(t,n)}function w(t,n){this.that=t,this.args=n,this.active=0,this.extent=r.apply(t,n),this.taps=0}function _(){if(e.apply(this,arguments)){var t=b(this,arguments),n=this.__zoom,r=Math.max(u[0],Math.min(u[1],n.k*Math.pow(2,o.apply(this,arguments)))),a=Mt(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=n.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(n.k===r)return;t.mouse=[a,n.invert(a)],Pr(this),t.start()}_i(),t.wheel=setTimeout(l,150),t.zoom("mouse",i(v(g(n,r),t.mouse[0],t.mouse[1]),t.extent,c))}function l(){t.wheel=null,t.end()}}function x(){if(!n&&e.apply(this,arguments)){var t=b(this,arguments,!0),r=wt(ct.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",s,!0),o=Mt(this),a=ct.clientX,u=ct.clientY;lr(ct.view),wi(),t.mouse=[o,this.__zoom.invert(o)],Pr(this),t.start()}function l(){if(_i(),!t.moved){var n=ct.clientX-a,e=ct.clientY-u;t.moved=n*n+e*e>p}t.zoom("mouse",i(v(t.that.__zoom,t.mouse[0]=Mt(t.that),t.mouse[1]),t.extent,c))}function s(){r.on("mousemove.zoom mouseup.zoom",null),sr(ct.view,t.moved),_i(),t.end()}}function M(){if(e.apply(this,arguments)){var t=this.__zoom,n=Mt(this),o=t.invert(n),a=t.k*(ct.shiftKey?.5:2),u=i(v(g(t,a),n,o),r.apply(this,arguments),c);_i(),l>0?wt(this).transition().duration(l).call(y,u,n):wt(this).call(d.transform,u)}}function k(){if(e.apply(this,arguments)){var n,r,i,o,a=ct.touches,u=a.length,c=b(this,arguments,ct.changedTouches.length===u);for(wi(),r=0;r<u;++r)o=[o=kt(this,a,(i=a[r]).identifier),this.__zoom.invert(o),i.identifier],c.touch0?c.touch1||c.touch0[2]===o[2]||(c.touch1=o,c.taps=0):(c.touch0=o,n=!0,c.taps=1+!!t);t&&(t=clearTimeout(t)),n&&(c.taps<2&&(t=setTimeout((function(){t=null}),h)),Pr(this),c.start())}}function S(){if(this.__zooming){var n,e,r,o,a=b(this,arguments),u=ct.changedTouches,l=u.length;for(_i(),t&&(t=clearTimeout(t)),a.taps=0,n=0;n<l;++n)r=kt(this,u,(e=u[n]).identifier),a.touch0&&a.touch0[2]===e.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===e.identifier&&(a.touch1[0]=r);if(e=a.that.__zoom,a.touch1){var s=a.touch0[0],f=a.touch0[1],h=a.touch1[0],p=a.touch1[1],d=(d=h[0]-s[0])*d+(d=h[1]-s[1])*d,m=(m=p[0]-f[0])*m+(m=p[1]-f[1])*m;e=g(e,Math.sqrt(d/m)),r=[(s[0]+h[0])/2,(s[1]+h[1])/2],o=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(v(e,r,o),a.extent,c))}}function A(){if(this.__zooming){var t,e,r=b(this,arguments),i=ct.changedTouches,o=i.length;for(wi(),n&&clearTimeout(n),n=setTimeout((function(){n=null}),h),t=0;t<o;++t)e=i[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=wt(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return d.transform=function(t,n,e){var r=t.selection?t.selection():t;r.property("__zoom",ki),t!==r?y(t,n,e):r.interrupt().each((function(){b(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},d.scaleBy=function(t,n,e){d.scaleTo(t,(function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e}),e)},d.scaleTo=function(t,n,e){d.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==e?m(t):"function"==typeof e?e.apply(this,arguments):e,u=o.invert(a),l="function"==typeof n?n.apply(this,arguments):n;return i(v(g(o,l),a,u),t,c)}),e)},d.translateBy=function(t,n,e){d.transform(t,(function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),r.apply(this,arguments),c)}))},d.translateTo=function(t,n,e,o){d.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,u=null==o?m(t):"function"==typeof o?o.apply(this,arguments):o;return i(yi.translate(u[0],u[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,c)}),o)},w.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){!function(t,n,e,r){var i=ct;t.sourceEvent=ct,ct=t;try{n.apply(e,r)}finally{ct=i}}(new vi(d,t,this.that.__zoom),f.apply,f,[t,this.that,this.args])}},d.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:gi(+t),d):o},d.filter=function(t){return arguments.length?(e="function"==typeof t?t:gi(!!t),d):e},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:gi(!!t),d):a},d.extent=function(t){return arguments.length?(r="function"==typeof t?t:gi([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),d):r},d.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],d):[u[0],u[1]]},d.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],d):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},d.constrain=function(t){return arguments.length?(i=t,d):i},d.duration=function(t){return arguments.length?(l=+t,d):l},d.interpolate=function(t){return arguments.length?(s=t,d):s},d.on=function(){var t=f.on.apply(f,arguments);return t===f?d:t},d.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,d):Math.sqrt(p)},d}function $i(t,n){var e=this.node();return e?e.getBBox?this.attr("transform",(function(e,r){var i="function"==typeof t?t.call(this,e,r):t;return 0===n?i=[i,0]:1===n&&(i=[0,i]),"translate("+i[0]+","+i[1]+")"})):this.style("transform",(function(e,r){var i="function"==typeof t?t.call(this,e,r):t;return 0===n?i=[i,0]:1===n&&(i=[0,i]),"translate("+i[0]+"px,"+i[1]+"px)"})):this}function Oi(t){if("string"==typeof t){var n,e={},r=t.split(/([\.#])/g);for(t=r.shift();n=r.shift();)"."==n?e.class=e.class?e.class+" "+r.shift():r.shift():"#"==n&&(e.id=r.shift());return{tag:t,attr:e}}return t}function Ni(t){var n,e;"function"==typeof t?n=t:(e=Oi(t),n=v(e.tag));var r=this.select((function(){return this.appendChild(n.apply(this,arguments))}));if(e)for(var i in e.attr)r.attr(i,e.attr[i]);return r}function zi(){return null}function Ti(t,n){var e=Oi(t),r=v(e.tag),i=null==n?zi:"function"==typeof n?n:y(n),o=this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}));for(var a in e.attr)o.attr(a,e.attr[a]);return o}function Li(){var t=[];return this.filter((function(){return!(t.indexOf(this.parentNode)>-1)&&(t.push(this.parentNode),!0)})).select((function(){return this.parentNode}))}function Pi(t){var n,e=y(t),r=Oi(t);for(var i in t=v(r.tag),n=this.select((function(){return e.apply(this,arguments)||this.appendChild(t.apply(this,arguments))})),r.attr)n.attr(i,r.attr[i]);return n}function Di(t,n){return this.selectAll("tspan").data((function(n,e){return("function"==typeof t?t.call(this,n,e):t).map((function(t){return{line:t,parent:n}}))})).enter().append("tspan").text((function(t){return t.line})).attr("x",0).attr("dy",(function(t,e){return e?("function"==typeof n?n.call(this,t.parent,t.line,e):n)||15:0}))}function Ci(t,n){if("string"==typeof n){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var e=n;n=t,t=e}return this.selectAll(null).data(n).enter().append(t)}bi.prototype=mi.prototype;var Ri=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;function Fi(t,n){if("object"==Xt(t)){for(var e in t)this.attr(Ri.test(e)?e:e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[e]);return this}return 1==arguments.length?this.attr(t):this.attr(t,n)}function Bi(){for(var t=arguments,n=0,e=t.length;n<e;)"string"!=typeof t[n]&&"number"!=typeof t[n]||(t[n]=function(t){return function(n){return n[t]}}(t[n])),n++;return function(n){for(var e=0,r=t.length;e++<r;)n=t[e-1].call(this,n);return n}}function qi(t,n){if("object"==Xt(t)){for(var e in t)r(this,e,t[e]);return this}return 1==arguments.length?this.style(t):r(this,t,n);function r(t,n,e){n=n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();return~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(n)?t.style(n,"function"==typeof e?o(e):i(e)):t.style(n,e),t}function i(t){return t.match?t:t+"px"}function o(t){return function(){var n=t.apply(this,arguments);return i(n)}}}Bi.not=function(t){return!t},Bi.run=function(t){return t()},Bi.objToFn=function(t,n){return 1==arguments.length&&(n=void 0),function(e){return void 0!==t[e]?t[e]:n}};var Wi={A:7,a:7,B:8,b:7,C:8,c:6,D:9,d:7,E:7,e:7,F:7,f:4,G:9,g:7,H:9,h:7,I:3,i:3,J:5,j:3,K:8,k:6,L:7,l:3,M:11,m:11,N:9,n:7,O:9,o:7,P:8,p:7,Q:9,q:7,R:8,r:4,S:8,s:6,T:7,t:4,U:9,u:7,V:7,v:6,W:11,w:9,X:7,x:6,Y:7,y:6,Z:7,z:5,".":2,",":2,":":2,";":2};function Yi(){return new Hi}function Hi(){this.reset()}bt.prototype.translate=$i,si.prototype.translate=$i,bt.prototype.append=Ni,bt.prototype.insert=Ti,bt.prototype.parent=Li,bt.prototype.selectAppend=Pi,bt.prototype.tspans=Di,bt.prototype.appendMany=Ci,bt.prototype.at=Fi,bt.prototype.st=qi,si.prototype.at=Fi,si.prototype.st=qi,bt.prototype.prop=bt.prototype.property,Hi.prototype={constructor:Hi,reset:function(){this.s=this.t=0},add:function(t){Ui(Ii,t,this.t),Ui(this,Ii.s,this.s),this.s?this.t+=Ii.t:this.s=Ii.t},valueOf:function(){return this.s}};var Ii=new Hi;function Ui(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var Zi=1e-6,Xi=1e-12,Vi=Math.PI,Gi=Vi/2,Ki=Vi/4,Ji=2*Vi,Qi=180/Vi,to=Vi/180,no=Math.abs,eo=Math.atan,ro=Math.atan2,io=Math.cos,oo=Math.ceil,ao=Math.exp,uo=Math.log,co=Math.pow,lo=Math.sin,so=Math.sign||function(t){return t>0?1:t<0?-1:0},fo=Math.sqrt,ho=Math.tan;function po(t){return t>1?0:t<-1?Vi:Math.acos(t)}function go(t){return t>1?Gi:t<-1?-Gi:Math.asin(t)}function vo(t){return(t=lo(t/2))*t}function mo(){}function yo(t,n){t&&wo.hasOwnProperty(t.type)&&wo[t.type](t,n)}var bo={Feature:function(t,n){yo(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)yo(e[r].geometry,n)}},wo={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){_o(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)_o(e[r],n,0)},Polygon:function(t,n){xo(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)xo(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)yo(e[r],n)}};function _o(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function xo(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)_o(t[e],n,1);n.polygonEnd()}function Mo(t,n){t&&bo.hasOwnProperty(t.type)?bo[t.type](t,n):yo(t,n)}var ko,So,Ao,Eo,jo,$o=Yi(),Oo=Yi(),No={point:mo,lineStart:mo,lineEnd:mo,polygonStart:function(){$o.reset(),No.lineStart=zo,No.lineEnd=To},polygonEnd:function(){var t=+$o;Oo.add(t<0?Ji+t:t),this.lineStart=this.lineEnd=this.point=mo},sphere:function(){Oo.add(Ji)}};function zo(){No.point=Lo}function To(){Po(ko,So)}function Lo(t,n){No.point=Po,ko=t,So=n,Ao=t*=to,Eo=io(n=(n*=to)/2+Ki),jo=lo(n)}function Po(t,n){var e=(t*=to)-Ao,r=e>=0?1:-1,i=r*e,o=io(n=(n*=to)/2+Ki),a=lo(n),u=jo*a,c=Eo*o+u*io(i),l=u*r*lo(i);$o.add(ro(l,c)),Ao=t,Eo=o,jo=a}function Do(t){return[ro(t[1],t[0]),go(t[2])]}function Co(t){var n=t[0],e=t[1],r=io(e);return[r*io(n),r*lo(n),lo(e)]}function Ro(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Fo(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Bo(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function qo(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Wo(t){var n=fo(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var Yo,Ho,Io,Uo,Zo,Xo,Vo,Go,Ko,Jo,Qo,ta,na,ea,ra,ia,oa,aa,ua,ca,la,sa,fa,ha,pa,da,ga=Yi(),va={point:ma,lineStart:ba,lineEnd:wa,polygonStart:function(){va.point=_a,va.lineStart=xa,va.lineEnd=Ma,ga.reset(),No.polygonStart()},polygonEnd:function(){No.polygonEnd(),va.point=ma,va.lineStart=ba,va.lineEnd=wa,$o<0?(Yo=-(Io=180),Ho=-(Uo=90)):ga>Zi?Uo=90:ga<-Zi&&(Ho=-90),Jo[0]=Yo,Jo[1]=Io},sphere:function(){Yo=-(Io=180),Ho=-(Uo=90)}};function ma(t,n){Ko.push(Jo=[Yo=t,Io=t]),n<Ho&&(Ho=n),n>Uo&&(Uo=n)}function ya(t,n){var e=Co([t*to,n*to]);if(Go){var r=Fo(Go,e),i=Fo([r[1],-r[0],0],r);Wo(i),i=Do(i);var o,a=t-Zo,u=a>0?1:-1,c=i[0]*Qi*u,l=no(a)>180;l^(u*Zo<c&&c<u*t)?(o=i[1]*Qi)>Uo&&(Uo=o):l^(u*Zo<(c=(c+360)%360-180)&&c<u*t)?(o=-i[1]*Qi)<Ho&&(Ho=o):(n<Ho&&(Ho=n),n>Uo&&(Uo=n)),l?t<Zo?ka(Yo,t)>ka(Yo,Io)&&(Io=t):ka(t,Io)>ka(Yo,Io)&&(Yo=t):Io>=Yo?(t<Yo&&(Yo=t),t>Io&&(Io=t)):t>Zo?ka(Yo,t)>ka(Yo,Io)&&(Io=t):ka(t,Io)>ka(Yo,Io)&&(Yo=t)}else Ko.push(Jo=[Yo=t,Io=t]);n<Ho&&(Ho=n),n>Uo&&(Uo=n),Go=e,Zo=t}function ba(){va.point=ya}function wa(){Jo[0]=Yo,Jo[1]=Io,va.point=ma,Go=null}function _a(t,n){if(Go){var e=t-Zo;ga.add(no(e)>180?e+(e>0?360:-360):e)}else Xo=t,Vo=n;No.point(t,n),ya(t,n)}function xa(){No.lineStart()}function Ma(){_a(Xo,Vo),No.lineEnd(),no(ga)>Zi&&(Yo=-(Io=180)),Jo[0]=Yo,Jo[1]=Io,Go=null}function ka(t,n){return(n-=t)<0?n+360:n}function Sa(t,n){return t[0]-n[0]}function Aa(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var Ea={sphere:mo,point:ja,lineStart:Oa,lineEnd:Ta,polygonStart:function(){Ea.lineStart=La,Ea.lineEnd=Pa},polygonEnd:function(){Ea.lineStart=Oa,Ea.lineEnd=Ta}};function ja(t,n){t*=to;var e=io(n*=to);$a(e*io(t),e*lo(t),lo(n))}function $a(t,n,e){++Qo,na+=(t-na)/Qo,ea+=(n-ea)/Qo,ra+=(e-ra)/Qo}function Oa(){Ea.point=Na}function Na(t,n){t*=to;var e=io(n*=to);ha=e*io(t),pa=e*lo(t),da=lo(n),Ea.point=za,$a(ha,pa,da)}function za(t,n){t*=to;var e=io(n*=to),r=e*io(t),i=e*lo(t),o=lo(n),a=ro(fo((a=pa*o-da*i)*a+(a=da*r-ha*o)*a+(a=ha*i-pa*r)*a),ha*r+pa*i+da*o);ta+=a,ia+=a*(ha+(ha=r)),oa+=a*(pa+(pa=i)),aa+=a*(da+(da=o)),$a(ha,pa,da)}function Ta(){Ea.point=ja}function La(){Ea.point=Da}function Pa(){Ca(sa,fa),Ea.point=ja}function Da(t,n){sa=t,fa=n,t*=to,n*=to,Ea.point=Ca;var e=io(n);ha=e*io(t),pa=e*lo(t),da=lo(n),$a(ha,pa,da)}function Ca(t,n){t*=to;var e=io(n*=to),r=e*io(t),i=e*lo(t),o=lo(n),a=pa*o-da*i,u=da*r-ha*o,c=ha*i-pa*r,l=fo(a*a+u*u+c*c),s=go(l),f=l&&-s/l;ua+=f*a,ca+=f*u,la+=f*c,ta+=s,ia+=s*(ha+(ha=r)),oa+=s*(pa+(pa=i)),aa+=s*(da+(da=o)),$a(ha,pa,da)}function Ra(t){return function(){return t}}function Fa(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Ba(t,n){return[no(t)>Vi?t+Math.round(-t/Ji)*Ji:t,n]}function qa(t,n,e){return(t%=Ji)?n||e?Fa(Ya(t),Ha(n,e)):Ya(t):n||e?Ha(n,e):Ba}function Wa(t){return function(n,e){return[(n+=t)>Vi?n-Ji:n<-Vi?n+Ji:n,e]}}function Ya(t){var n=Wa(t);return n.invert=Wa(-t),n}function Ha(t,n){var e=io(t),r=lo(t),i=io(n),o=lo(n);function a(t,n){var a=io(n),u=io(t)*a,c=lo(t)*a,l=lo(n),s=l*e+u*r;return[ro(c*i-s*o,u*e-l*r),go(s*i+c*o)]}return a.invert=function(t,n){var a=io(n),u=io(t)*a,c=lo(t)*a,l=lo(n),s=l*i-c*o;return[ro(c*i+l*o,u*e+s*r),go(s*e-u*r)]},a}function Ia(t){function n(n){return(n=t(n[0]*to,n[1]*to))[0]*=Qi,n[1]*=Qi,n}return t=qa(t[0]*to,t[1]*to,t.length>2?t[2]*to:0),n.invert=function(n){return(n=t.invert(n[0]*to,n[1]*to))[0]*=Qi,n[1]*=Qi,n},n}function Ua(t,n,e,r,i,o){if(e){var a=io(n),u=lo(n),c=r*e;null==i?(i=n+r*Ji,o=n-c/2):(i=Za(a,i),o=Za(a,o),(r>0?i<o:i>o)&&(i+=r*Ji));for(var l,s=i;r>0?s>o:s<o;s-=c)l=Do([a,-u*io(s),-u*lo(s)]),t.point(l[0],l[1])}}function Za(t,n){(n=Co(n))[0]-=t,Wo(n);var e=po(-n[1]);return((-n[2]<0?-e:e)+Ji-Zi)%Ji}function Xa(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:mo,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Va(t,n){return no(t[0]-n[0])<Zi&&no(t[1]-n[1])<Zi}function Ga(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Ka(t,n,e,r,i){var o,a,u=[],c=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(Va(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}u.push(e=new Ga(r,t,null,!0)),c.push(e.o=new Ga(r,null,e,!1)),u.push(e=new Ga(a,t,null,!1)),c.push(e.o=new Ga(a,null,e,!0))}})),u.length){for(c.sort(n),Ja(u),Ja(c),o=0,a=c.length;o<a;++o)c[o].e=e=!e;for(var l,s,f=u[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=l.length;o<a;++o)i.point((s=l[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(l=h.p.z,o=l.length-1;o>=0;--o)i.point((s=l[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Ja(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}Ba.invert=Ba;var Qa=Yi();function tu(t){return no(t[0])<=Vi?t[0]:so(t[0])*((no(t[0])+Vi)%Ji-Vi)}function nu(t,n){var e=tu(n),r=n[1],i=lo(r),o=[lo(e),-io(e),0],a=0,u=0;Qa.reset(),1===i?r=Gi+Zi:-1===i&&(r=-Gi-Zi);for(var c=0,l=t.length;c<l;++c)if(f=(s=t[c]).length)for(var s,f,h=s[f-1],p=tu(h),d=h[1]/2+Ki,g=lo(d),v=io(d),m=0;m<f;++m,p=b,g=_,v=x,h=y){var y=s[m],b=tu(y),w=y[1]/2+Ki,_=lo(w),x=io(w),M=b-p,k=M>=0?1:-1,S=k*M,A=S>Vi,E=g*_;if(Qa.add(ro(E*k*lo(S),v*x+E*io(S))),a+=A?M+k*Ji:M,A^p>=e^b>=e){var j=Fo(Co(h),Co(y));Wo(j);var $=Fo(o,j);Wo($);var O=(A^M>=0?-1:1)*go($[2]);(r>O||r===O&&(j[0]||j[1]))&&(u+=A^M>=0?1:-1)}}return(a<-Zi||a<Zi&&Qa<-Zi)^1&u}function eu(t,n,e,r){return function(i){var o,a,u,c=n(i),l=Xa(),s=n(l),f=!1,h={point:p,lineStart:g,lineEnd:v,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=v,a=Lt(a);var t=nu(o,r);a.length?(f||(i.polygonStart(),f=!0),Ka(a,iu,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(n,e){t(n,e)&&i.point(n,e)}function d(t,n){c.point(t,n)}function g(){h.point=d,c.lineStart()}function v(){h.point=p,c.lineEnd()}function m(t,n){u.push([t,n]),s.point(t,n)}function y(){s.lineStart(),u=[]}function b(){m(u[0][0],u[0][1]),s.lineEnd();var t,n,e,r,c=s.clean(),h=l.result(),p=h.length;if(u.pop(),o.push(u),u=null,p)if(1&c){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else p>1&&2&c&&h.push(h.pop().concat(h.shift())),a.push(h.filter(ru))}return h}}function ru(t){return t.length>1}function iu(t,n){return((t=t.x)[0]<0?t[1]-Gi-Zi:Gi-t[1])-((n=n.x)[0]<0?n[1]-Gi-Zi:Gi-n[1])}var ou=eu((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?Vi:-Vi,c=no(o-e);no(c-Vi)<Zi?(t.point(e,r=(r+a)/2>0?Gi:-Gi),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&c>=Vi&&(no(e-i)<Zi&&(e-=i*Zi),no(o-u)<Zi&&(o-=u*Zi),r=function(t,n,e,r){var i,o,a=lo(t-e);return no(a)>Zi?eo((lo(n)*(o=io(r))*lo(e)-lo(r)*(i=io(n))*lo(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*Gi,r.point(-Vi,i),r.point(0,i),r.point(Vi,i),r.point(Vi,0),r.point(Vi,-i),r.point(0,-i),r.point(-Vi,-i),r.point(-Vi,0),r.point(-Vi,i);else if(no(t[0]-n[0])>Zi){var o=t[0]<n[0]?Vi:-Vi;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-Vi,-Gi]);function au(t){var n=io(t),e=6*to,r=n>0,i=no(n)>Zi;function o(t,e){return io(t)*io(e)>n}function a(t,e,r){var i=[1,0,0],o=Fo(Co(t),Co(e)),a=Ro(o,o),u=o[0],c=a-u*u;if(!c)return!r&&t;var l=n*a/c,s=-n*u/c,f=Fo(i,o),h=qo(i,l);Bo(h,qo(o,s));var p=f,d=Ro(h,p),g=Ro(p,p),v=d*d-g*(Ro(h,h)-1);if(!(v<0)){var m=fo(v),y=qo(p,(-d-m)/g);if(Bo(y,h),y=Do(y),!r)return y;var b,w=t[0],_=e[0],x=t[1],M=e[1];_<w&&(b=w,w=_,_=b);var k=_-w,S=no(k-Vi)<Zi;if(!S&&M<x&&(b=x,x=M,M=b),S||k<Zi?S?x+M>0^y[1]<(no(y[0]-w)<Zi?x:M):x<=y[1]&&y[1]<=M:k>Vi^(w<=y[0]&&y[0]<=_)){var A=qo(p,(-d+m)/g);return Bo(A,h),[y,Do(A)]}}}function u(n,e){var i=r?t:Vi-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return eu(o,(function(t){var n,e,c,l,s;return{lineStart:function(){l=c=!1,s=1},point:function(f,h){var p,d=[f,h],g=o(f,h),v=r?g?0:u(f,h):g?u(f+(f<0?Vi:-Vi),h):0;if(!n&&(l=c=g)&&t.lineStart(),g!==c&&(!(p=a(n,d))||Va(n,p)||Va(d,p))&&(d[2]=1),g!==c)s=0,g?(t.lineStart(),p=a(d,n),t.point(p[0],p[1])):(p=a(n,d),t.point(p[0],p[1],2),t.lineEnd()),n=p;else if(i&&n&&r^g){var m;v&e||!(m=a(d,n,!0))||(s=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!g||n&&Va(n,d)||t.point(d[0],d[1]),n=d,c=g,e=v},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return s|(l&&c)<<1}}}),(function(n,r,i,o){Ua(o,t,e,i,n,r)}),r?[0,-t]:[-Vi,t-Vi])}var uu=1e9,cu=-uu;function lu(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,l){var s=0,f=0;if(null==i||(s=a(i,u))!==(f=a(o,u))||c(i,o)<0^u>0)do{l.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+u+4)%4)!==f);else l.point(o[0],o[1])}function a(r,i){return no(r[0]-t)<Zi?i>0?0:3:no(r[0]-e)<Zi?i>0?2:1:no(r[1]-n)<Zi?i>0?1:0:i>0?3:2}function u(t,n){return c(t.x,n.x)}function c(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var c,l,s,f,h,p,d,g,v,m,y,b=a,w=Xa(),_={point:x,lineStart:function(){_.point=M,l&&l.push(s=[]);m=!0,v=!1,d=g=NaN},lineEnd:function(){c&&(M(f,h),p&&v&&w.rejoin(),c.push(w.result()));_.point=x,v&&b.lineEnd()},polygonStart:function(){b=w,c=[],l=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=l.length;e<i;++e)for(var o,a,u=l[e],c=1,s=u.length,f=u[0],h=f[0],p=f[1];c<s;++c)o=h,a=p,h=(f=u[c])[0],p=f[1],a<=r?p>r&&(h-o)*(r-a)>(p-a)*(t-o)&&++n:p<=r&&(h-o)*(r-a)<(p-a)*(t-o)&&--n;return n}(),e=y&&n,i=(c=Lt(c)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Ka(c,u,n,o,a),a.polygonEnd());b=a,c=l=s=null}};function x(t,n){i(t,n)&&b.point(t,n)}function M(o,a){var u=i(o,a);if(l&&s.push([o,a]),m)f=o,h=a,p=u,m=!1,u&&(b.lineStart(),b.point(o,a));else if(u&&v)b.point(o,a);else{var c=[d=Math.max(cu,Math.min(uu,d)),g=Math.max(cu,Math.min(uu,g))],w=[o=Math.max(cu,Math.min(uu,o)),a=Math.max(cu,Math.min(uu,a))];!function(t,n,e,r,i,o){var a,u=t[0],c=t[1],l=0,s=1,f=n[0]-u,h=n[1]-c;if(a=e-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<s&&(s=a)}else if(f>0){if(a>s)return;a>l&&(l=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>s)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<s&&(s=a)}if(a=r-c,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<s&&(s=a)}else if(h>0){if(a>s)return;a>l&&(l=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(a>s)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<s&&(s=a)}return l>0&&(t[0]=u+l*f,t[1]=c+l*h),s<1&&(n[0]=u+s*f,n[1]=c+s*h),!0}}}}}(c,w,t,n,e,r)?u&&(b.lineStart(),b.point(o,a),y=!1):(v||(b.lineStart(),b.point(c[0],c[1])),b.point(w[0],w[1]),u||b.lineEnd(),y=!1)}d=o,g=a,v=u}return _}}var su,fu,hu,pu=Yi(),du={sphere:mo,point:mo,lineStart:function(){du.point=vu,du.lineEnd=gu},lineEnd:mo,polygonStart:mo,polygonEnd:mo};function gu(){du.point=du.lineEnd=mo}function vu(t,n){su=t*=to,fu=lo(n*=to),hu=io(n),du.point=mu}function mu(t,n){t*=to;var e=lo(n*=to),r=io(n),i=no(t-su),o=io(i),a=r*lo(i),u=hu*e-fu*r*o,c=fu*e+hu*r*o;pu.add(ro(fo(a*a+u*u),c)),su=t,fu=e,hu=r}function yu(t){return pu.reset(),Mo(t,du),+pu}var bu=[null,null],wu={type:"LineString",coordinates:bu};function _u(t,n){return bu[0]=t,bu[1]=n,yu(wu)}var xu={Feature:function(t,n){return ku(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(ku(e[r].geometry,n))return!0;return!1}},Mu={Sphere:function(){return!0},Point:function(t,n){return Su(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Su(e[r],n))return!0;return!1},LineString:function(t,n){return Au(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Au(e[r],n))return!0;return!1},Polygon:function(t,n){return Eu(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Eu(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(ku(e[r],n))return!0;return!1}};function ku(t,n){return!(!t||!Mu.hasOwnProperty(t.type))&&Mu[t.type](t,n)}function Su(t,n){return 0===_u(t,n)}function Au(t,n){for(var e,r,i,o=0,a=t.length;o<a;o++){if(0===(r=_u(t[o],n)))return!0;if(o>0&&(i=_u(t[o],t[o-1]))>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<Xi*i)return!0;e=r}return!1}function Eu(t,n){return!!nu(t.map(ju),$u(n))}function ju(t){return(t=t.map($u)).pop(),t}function $u(t){return[t[0]*to,t[1]*to]}function Ou(t,n,e){var r=jt(t,n-Zi,e).concat(n);return function(t){return r.map((function(n){return[t,n]}))}}function Nu(t,n,e){var r=jt(t,n-Zi,e).concat(n);return function(t){return r.map((function(n){return[n,t]}))}}function zu(){var t,n,e,r,i,o,a,u,c,l,s,f,h=10,p=h,d=90,g=360,v=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return jt(oo(r/d)*d,e,d).map(s).concat(jt(oo(u/g)*g,a,g).map(f)).concat(jt(oo(n/h)*h,t,h).filter((function(t){return no(t%d)>Zi})).map(c)).concat(jt(oo(o/p)*p,i,p).filter((function(t){return no(t%g)>Zi})).map(l))}return m.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},m.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(f(a).slice(1),s(e).reverse().slice(1),f(u).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],u=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),u>a&&(t=u,u=a,a=t),m.precision(v)):[[r,u],[e,a]]},m.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),m.precision(v)):[[n,o],[t,i]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(d=+t[0],g=+t[1],m):[d,g]},m.stepMinor=function(t){return arguments.length?(h=+t[0],p=+t[1],m):[h,p]},m.precision=function(h){return arguments.length?(v=+h,c=Ou(o,i,90),l=Nu(n,t,v),s=Ou(u,a,90),f=Nu(r,e,v),m):v},m.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Tu(t){return t}var Lu,Pu,Du,Cu,Ru=Yi(),Fu=Yi(),Bu={point:mo,lineStart:mo,lineEnd:mo,polygonStart:function(){Bu.lineStart=qu,Bu.lineEnd=Hu},polygonEnd:function(){Bu.lineStart=Bu.lineEnd=Bu.point=mo,Ru.add(no(Fu)),Fu.reset()},result:function(){var t=Ru/2;return Ru.reset(),t}};function qu(){Bu.point=Wu}function Wu(t,n){Bu.point=Yu,Lu=Du=t,Pu=Cu=n}function Yu(t,n){Fu.add(Cu*t-Du*n),Du=t,Cu=n}function Hu(){Yu(Lu,Pu)}var Iu=1/0,Uu=Iu,Zu=-Iu,Xu=Zu,Vu={point:function(t,n){t<Iu&&(Iu=t);t>Zu&&(Zu=t);n<Uu&&(Uu=n);n>Xu&&(Xu=n)},lineStart:mo,lineEnd:mo,polygonStart:mo,polygonEnd:mo,result:function(){var t=[[Iu,Uu],[Zu,Xu]];return Zu=Xu=-(Uu=Iu=1/0),t}};var Gu,Ku,Ju,Qu,tc=0,nc=0,ec=0,rc=0,ic=0,oc=0,ac=0,uc=0,cc=0,lc={point:sc,lineStart:fc,lineEnd:dc,polygonStart:function(){lc.lineStart=gc,lc.lineEnd=vc},polygonEnd:function(){lc.point=sc,lc.lineStart=fc,lc.lineEnd=dc},result:function(){var t=cc?[ac/cc,uc/cc]:oc?[rc/oc,ic/oc]:ec?[tc/ec,nc/ec]:[NaN,NaN];return tc=nc=ec=rc=ic=oc=ac=uc=cc=0,t}};function sc(t,n){tc+=t,nc+=n,++ec}function fc(){lc.point=hc}function hc(t,n){lc.point=pc,sc(Ju=t,Qu=n)}function pc(t,n){var e=t-Ju,r=n-Qu,i=fo(e*e+r*r);rc+=i*(Ju+t)/2,ic+=i*(Qu+n)/2,oc+=i,sc(Ju=t,Qu=n)}function dc(){lc.point=sc}function gc(){lc.point=mc}function vc(){yc(Gu,Ku)}function mc(t,n){lc.point=yc,sc(Gu=Ju=t,Ku=Qu=n)}function yc(t,n){var e=t-Ju,r=n-Qu,i=fo(e*e+r*r);rc+=i*(Ju+t)/2,ic+=i*(Qu+n)/2,oc+=i,ac+=(i=Qu*t-Ju*n)*(Ju+t),uc+=i*(Qu+n),cc+=3*i,sc(Ju=t,Qu=n)}function bc(t){this._context=t}bc.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ji)}},result:mo};var wc,_c,xc,Mc,kc,Sc=Yi(),Ac={point:mo,lineStart:function(){Ac.point=Ec},lineEnd:function(){wc&&jc(_c,xc),Ac.point=mo},polygonStart:function(){wc=!0},polygonEnd:function(){wc=null},result:function(){var t=+Sc;return Sc.reset(),t}};function Ec(t,n){Ac.point=jc,_c=Mc=t,xc=kc=n}function jc(t,n){Mc-=t,kc-=n,Sc.add(fo(Mc*Mc+kc*kc)),Mc=t,kc=n}function $c(){this._string=[]}function Oc(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Nc(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Mo(t,e(r))),r.result()}return o.area=function(t){return Mo(t,e(Bu)),Bu.result()},o.measure=function(t){return Mo(t,e(Ac)),Ac.result()},o.bounds=function(t){return Mo(t,e(Vu)),Vu.result()},o.centroid=function(t){return Mo(t,e(lc)),lc.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,Tu):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new $c):new bc(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)}function zc(t){return{stream:Tc(t)}}function Tc(t){return function(n){var e=new Lc;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Lc(){}function Pc(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Mo(e,t.stream(Vu)),n(Vu.result()),null!=r&&t.clipExtent(r),t}function Dc(t,n,e){return Pc(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])}),e)}function Cc(t,n,e){return Dc(t,[[0,0],n],e)}function Rc(t,n,e){return Pc(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])}),e)}function Fc(t,n,e){return Pc(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])}),e)}$c.prototype={_radius:4.5,_circle:Oc(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=Oc(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Lc.prototype={constructor:Lc,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Bc=io(30*to);function qc(t,n){return+n?function(t,n){function e(r,i,o,a,u,c,l,s,f,h,p,d,g,v){var m=l-r,y=s-i,b=m*m+y*y;if(b>4*n&&g--){var w=a+h,_=u+p,x=c+d,M=fo(w*w+_*_+x*x),k=go(x/=M),S=no(no(x)-1)<Zi||no(o-f)<Zi?(o+f)/2:ro(_,w),A=t(S,k),E=A[0],j=A[1],$=E-r,O=j-i,N=y*$-m*O;(N*N/b>n||no((m*$+y*O)/b-.5)>.3||a*h+u*p+c*d<Bc)&&(e(r,i,o,a,u,c,E,j,S,w/=M,_/=M,x,g,v),v.point(E,j),e(E,j,S,w,_,x,l,s,f,h,p,d,g,v))}}return function(n){var r,i,o,a,u,c,l,s,f,h,p,d,g={point:v,lineStart:m,lineEnd:b,polygonStart:function(){n.polygonStart(),g.lineStart=w},polygonEnd:function(){n.polygonEnd(),g.lineStart=m}};function v(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){s=NaN,g.point=y,n.lineStart()}function y(r,i){var o=Co([r,i]),a=t(r,i);e(s,f,l,h,p,d,s=a[0],f=a[1],l=r,h=o[0],p=o[1],d=o[2],16,n),n.point(s,f)}function b(){g.point=v,n.lineEnd()}function w(){m(),g.point=_,g.lineEnd=x}function _(t,n){y(r=t,n),i=s,o=f,a=h,u=p,c=d,g.point=y}function x(){e(s,f,l,h,p,d,i,o,r,a,u,c,16,n),g.lineEnd=b,b()}return g}}(t,n):function(t){return Tc({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Wc=Tc({point:function(t,n){this.stream.point(t*to,n*to)}});function Yc(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}function Hc(t,n,e,r,i,o){var a=io(o),u=lo(o),c=a*t,l=u*t,s=a/t,f=u/t,h=(u*e-a*n)/t,p=(u*n+a*e)/t;function d(t,o){return[c*(t*=r)-l*(o*=i)+n,e-l*t-c*o]}return d.invert=function(t,n){return[r*(s*t-f*n+h),i*(p-f*t-s*n)]},d}function Ic(t){return Uc((function(){return t}))()}function Uc(t){var n,e,r,i,o,a,u,c,l,s,f=150,h=480,p=250,d=0,g=0,v=0,m=0,y=0,b=0,w=1,_=1,x=null,M=ou,k=null,S=Tu,A=.5;function E(t){return c(t[0]*to,t[1]*to)}function j(t){return(t=c.invert(t[0],t[1]))&&[t[0]*Qi,t[1]*Qi]}function $(){var t=Hc(f,0,0,w,_,b).apply(null,n(d,g)),r=(b?Hc:Yc)(f,h-t[0],p-t[1],w,_,b);return e=qa(v,m,y),u=Fa(n,r),c=Fa(e,u),a=qc(u,A),O()}function O(){return l=s=null,E}return E.stream=function(t){return l&&s===t?l:l=Wc(function(t){return Tc({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(M(a(S(s=t)))))},E.preclip=function(t){return arguments.length?(M=t,x=void 0,O()):M},E.postclip=function(t){return arguments.length?(S=t,k=r=i=o=null,O()):S},E.clipAngle=function(t){return arguments.length?(M=+t?au(x=t*to):(x=null,ou),O()):x*Qi},E.clipExtent=function(t){return arguments.length?(S=null==t?(k=r=i=o=null,Tu):lu(k=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),O()):null==k?null:[[k,r],[i,o]]},E.scale=function(t){return arguments.length?(f=+t,$()):f},E.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],$()):[h,p]},E.center=function(t){return arguments.length?(d=t[0]%360*to,g=t[1]%360*to,$()):[d*Qi,g*Qi]},E.rotate=function(t){return arguments.length?(v=t[0]%360*to,m=t[1]%360*to,y=t.length>2?t[2]%360*to:0,$()):[v*Qi,m*Qi,y*Qi]},E.angle=function(t){return arguments.length?(b=t%360*to,$()):b*Qi},E.reflectX=function(t){return arguments.length?(w=t?-1:1,$()):w<0},E.reflectY=function(t){return arguments.length?(_=t?-1:1,$()):_<0},E.precision=function(t){return arguments.length?(a=qc(u,A=t*t),O()):fo(A)},E.fitExtent=function(t,n){return Dc(E,t,n)},E.fitSize=function(t,n){return Cc(E,t,n)},E.fitWidth=function(t,n){return Rc(E,t,n)},E.fitHeight=function(t,n){return Fc(E,t,n)},function(){return n=t.apply(this,arguments),E.invert=n.invert&&j,$()}}function Zc(t){var n=0,e=Vi/3,r=Uc(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*to,e=t[1]*to):[n*Qi,e*Qi]},i}function Xc(t,n){var e=lo(t),r=(e+lo(n))/2;if(no(r)<Zi)return function(t){var n=io(t);function e(t,e){return[t*n,lo(e)/n]}return e.invert=function(t,e){return[t/n,go(e*n)]},e}(t);var i=1+e*(2*r-e),o=fo(i)/r;function a(t,n){var e=fo(i-2*r*lo(n))/r;return[e*lo(t*=r),o-e*io(t)]}return a.invert=function(t,n){var e=o-n,a=ro(t,no(e))*so(e);return e*r<0&&(a-=Vi*so(t)*so(e)),[a/r,go((i-(t*t+e*e)*r*r)/(2*r))]},a}function Vc(){return Zc(Xc).scale(155.424).center([0,33.6442])}function Gc(){return Vc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Kc(t){return function(n,e){var r=io(n),i=io(e),o=t(r*i);return[o*i*lo(n),o*lo(e)]}}function Jc(t){return function(n,e){var r=fo(n*n+e*e),i=t(r),o=lo(i),a=io(i);return[ro(n*o,r*a),go(r&&e*o/r)]}}var Qc=Kc((function(t){return fo(2/(1+t))}));Qc.invert=Jc((function(t){return 2*go(t/2)}));var tl=Kc((function(t){return(t=po(t))&&t/lo(t)}));function nl(t,n){return[t,uo(ho((Gi+n)/2))]}function el(t){var n,e,r,i=Ic(t),o=i.center,a=i.scale,u=i.translate,c=i.clipExtent,l=null;function s(){var o=Vi*a(),u=i(Ia(i.rotate()).invert([0,0]));return c(null==l?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===nl?[[Math.max(u[0]-o,l),n],[Math.min(u[0]+o,e),r]]:[[l,Math.max(u[1]-o,n)],[e,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),s()):a()},i.translate=function(t){return arguments.length?(u(t),s()):u()},i.center=function(t){return arguments.length?(o(t),s()):o()},i.clipExtent=function(t){return arguments.length?(null==t?l=n=e=r=null:(l=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),s()):null==l?null:[[l,n],[e,r]]},s()}function rl(t){return ho((Gi+t)/2)}function il(t,n){var e=io(t),r=t===n?lo(t):uo(e/io(n))/uo(rl(n)/rl(t)),i=e*co(rl(t),r)/r;if(!r)return nl;function o(t,n){i>0?n<-Gi+Zi&&(n=-Gi+Zi):n>Gi-Zi&&(n=Gi-Zi);var e=i/co(rl(n),r);return[e*lo(r*t),i-e*io(r*t)]}return o.invert=function(t,n){var e=i-n,o=so(r)*fo(t*t+e*e),a=ro(t,no(e))*so(e);return e*r<0&&(a-=Vi*so(t)*so(e)),[a/r,2*eo(co(i/o,1/r))-Gi]},o}function ol(t,n){return[t,n]}function al(t,n){var e=io(t),r=t===n?lo(t):(e-io(n))/(n-t),i=e/r+t;if(no(r)<Zi)return ol;function o(t,n){var e=i-n,o=r*t;return[e*lo(o),i-e*io(o)]}return o.invert=function(t,n){var e=i-n,o=ro(t,no(e))*so(e);return e*r<0&&(o-=Vi*so(t)*so(e)),[o/r,i-so(r)*fo(t*t+e*e)]},o}tl.invert=Jc((function(t){return t})),nl.invert=function(t,n){return[t,2*eo(ao(n))-Gi]},ol.invert=ol;var ul=1.340264,cl=-.081106,ll=893e-6,sl=.003796,fl=fo(3)/2;function hl(t,n){var e=go(fl*lo(n)),r=e*e,i=r*r*r;return[t*io(e)/(fl*(ul+3*cl*r+i*(7*ll+9*sl*r))),e*(ul+cl*r+i*(ll+sl*r))]}function pl(t,n){var e=io(n),r=io(t)*e;return[e*lo(t)/r,lo(n)/r]}function dl(){var t,n,e,r,i,o,a,u=1,c=0,l=0,s=1,f=1,h=0,p=null,d=1,g=1,v=Tc({point:function(t,n){var e=b([t,n]);this.stream.point(e[0],e[1])}}),m=Tu;function y(){return d=u*s,g=u*f,o=a=null,b}function b(e){var r=e[0]*d,i=e[1]*g;if(h){var o=i*t-r*n;r=r*t+i*n,i=o}return[r+c,i+l]}return b.invert=function(e){var r=e[0]-c,i=e[1]-l;if(h){var o=i*t+r*n;r=r*t-i*n,i=o}return[r/d,i/g]},b.stream=function(t){return o&&a===t?o:o=v(m(a=t))},b.postclip=function(t){return arguments.length?(m=t,p=e=r=i=null,y()):m},b.clipExtent=function(t){return arguments.length?(m=null==t?(p=e=r=i=null,Tu):lu(p=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),y()):null==p?null:[[p,e],[r,i]]},b.scale=function(t){return arguments.length?(u=+t,y()):u},b.translate=function(t){return arguments.length?(c=+t[0],l=+t[1],y()):[c,l]},b.angle=function(e){return arguments.length?(n=lo(h=e%360*to),t=io(h),y()):h*Qi},b.reflectX=function(t){return arguments.length?(s=t?-1:1,y()):s<0},b.reflectY=function(t){return arguments.length?(f=t?-1:1,y()):f<0},b.fitExtent=function(t,n){return Dc(b,t,n)},b.fitSize=function(t,n){return Cc(b,t,n)},b.fitWidth=function(t,n){return Rc(b,t,n)},b.fitHeight=function(t,n){return Fc(b,t,n)},b}function gl(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function vl(t,n){return[io(n)*lo(t),lo(n)]}function ml(t,n){var e=io(n),r=1+io(t)*e;return[e*lo(t)/r,lo(n)/r]}function yl(t,n){return[uo(ho((Gi+n)/2)),-t]}hl.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(ul+cl*i+o*(ll+sl*i))-n)/(ul+3*cl*i+o*(7*ll+9*sl*i)))*r)*i*i,!(no(e)<Xi));++a);return[fl*t*(ul+3*cl*i+o*(7*ll+9*sl*i))/io(r),go(lo(r)/fl)]},pl.invert=Jc(eo),gl.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(no(e)>Zi&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},vl.invert=Jc(go),ml.invert=Jc((function(t){return 2*eo(t)})),yl.invert=function(t,n){return[-n,2*eo(ao(t))-Gi]};var bl=Object.freeze({__proto__:null,geoArea:function(t){return Oo.reset(),Mo(t,No),2*Oo},geoBounds:function(t){var n,e,r,i,o,a,u;if(Uo=Io=-(Yo=Ho=1/0),Ko=[],Mo(t,va),e=Ko.length){for(Ko.sort(Sa),n=1,o=[r=Ko[0]];n<e;++n)Aa(r,(i=Ko[n])[0])||Aa(r,i[1])?(ka(r[0],i[1])>ka(r[0],r[1])&&(r[1]=i[1]),ka(i[0],r[1])>ka(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=ka(r[1],i[0]))>a&&(a=u,Yo=i[0],Io=r[1])}return Ko=Jo=null,Yo===1/0||Ho===1/0?[[NaN,NaN],[NaN,NaN]]:[[Yo,Ho],[Io,Uo]]},geoCentroid:function(t){Qo=ta=na=ea=ra=ia=oa=aa=ua=ca=la=0,Mo(t,Ea);var n=ua,e=ca,r=la,i=n*n+e*e+r*r;return i<Xi&&(n=ia,e=oa,r=aa,ta<Zi&&(n=na,e=ea,r=ra),(i=n*n+e*e+r*r)<Xi)?[NaN,NaN]:[ro(e,n)*Qi,go(r/fo(i))*Qi]},geoCircle:function(){var t,n,e=Ra([0,0]),r=Ra(90),i=Ra(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=Qi,e[1]*=Qi}};function a(){var a=e.apply(this,arguments),u=r.apply(this,arguments)*to,c=i.apply(this,arguments)*to;return t=[],n=qa(-a[0]*to,-a[1]*to,0).invert,Ua(o,u,c,1),a={type:"Polygon",coordinates:[t]},t=n=null,a}return a.center=function(t){return arguments.length?(e="function"==typeof t?t:Ra([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:Ra(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:Ra(+t),a):i},a},geoClipAntimeridian:ou,geoClipCircle:au,geoClipExtent:function(){var t,n,e,r=0,i=0,o=960,a=500;return e={stream:function(e){return t&&n===e?t:t=lu(r,i,o,a)(n=e)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=n=null,e):[[r,i],[o,a]]}}},geoClipRectangle:lu,geoContains:function(t,n){return(t&&xu.hasOwnProperty(t.type)?xu[t.type]:ku)(t,n)},geoDistance:_u,geoGraticule:zu,geoGraticule10:function(){return zu()()},geoInterpolate:function(t,n){var e=t[0]*to,r=t[1]*to,i=n[0]*to,o=n[1]*to,a=io(r),u=lo(r),c=io(o),l=lo(o),s=a*io(e),f=a*lo(e),h=c*io(i),p=c*lo(i),d=2*go(fo(vo(o-r)+a*c*vo(i-e))),g=lo(d),v=d?function(t){var n=lo(t*=d)/g,e=lo(d-t)/g,r=e*s+n*h,i=e*f+n*p,o=e*u+n*l;return[ro(i,r)*Qi,ro(o,fo(r*r+i*i))*Qi]}:function(){return[e*Qi,r*Qi]};return v.distance=d,v},geoLength:yu,geoPath:Nc,geoAlbers:Gc,geoAlbersUsa:function(){var t,n,e,r,i,o,a=Gc(),u=Vc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=Vc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){o=[t,n]}};function s(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function f(){return t=n=null,s}return s.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:a).invert(t)},s.stream=function(e){return t&&n===e?t:(r=[a.stream(n=e),u.stream(e),c.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},s.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),c.precision(t),f()):a.precision()},s.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),c.scale(t),s.translate(a.translate())):a.scale()},s.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],s=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,s-.238*n],[o+.455*n,s+.238*n]]).stream(l),r=u.translate([o-.307*n,s+.201*n]).clipExtent([[o-.425*n+Zi,s+.12*n+Zi],[o-.214*n-Zi,s+.234*n-Zi]]).stream(l),i=c.translate([o-.205*n,s+.212*n]).clipExtent([[o-.214*n+Zi,s+.166*n+Zi],[o-.115*n-Zi,s+.234*n-Zi]]).stream(l),f()},s.fitExtent=function(t,n){return Dc(s,t,n)},s.fitSize=function(t,n){return Cc(s,t,n)},s.fitWidth=function(t,n){return Rc(s,t,n)},s.fitHeight=function(t,n){return Fc(s,t,n)},s.scale(1070)},geoAzimuthalEqualArea:function(){return Ic(Qc).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:Qc,geoAzimuthalEquidistant:function(){return Ic(tl).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:tl,geoConicConformal:function(){return Zc(il).scale(109.5).parallels([30,30])},geoConicConformalRaw:il,geoConicEqualArea:Vc,geoConicEqualAreaRaw:Xc,geoConicEquidistant:function(){return Zc(al).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:al,geoEqualEarth:function(){return Ic(hl).scale(177.158)},geoEqualEarthRaw:hl,geoEquirectangular:function(){return Ic(ol).scale(152.63)},geoEquirectangularRaw:ol,geoGnomonic:function(){return Ic(pl).scale(144.049).clipAngle(60)},geoGnomonicRaw:pl,geoIdentity:dl,geoProjection:Ic,geoProjectionMutator:Uc,geoMercator:function(){return el(nl).scale(961/Ji)},geoMercatorRaw:nl,geoNaturalEarth1:function(){return Ic(gl).scale(175.295)},geoNaturalEarth1Raw:gl,geoOrthographic:function(){return Ic(vl).scale(249.5).clipAngle(90.000001)},geoOrthographicRaw:vl,geoStereographic:function(){return Ic(ml).scale(250).clipAngle(142)},geoStereographicRaw:ml,geoTransverseMercator:function(){var t=el(yl),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:yl,geoRotation:Ia,geoStream:Mo,geoTransform:zc}),wl=r(bl);function _l(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return xl(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return xl(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==e.return||e.return()}finally{if(u)throw o}}}}function xl(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var Ml=e((function(t,n){!function(t,n){var e=1e-6;function r(t){return{point:function(n,e){var r,i=_l(t);try{for(i.s();!(r=i.n()).done;)r.value.point(n,e)}catch(t){i.e(t)}finally{i.f()}},sphere:function(){var n,e=_l(t);try{for(e.s();!(n=e.n()).done;)n.value.sphere()}catch(t){e.e(t)}finally{e.f()}},lineStart:function(){var n,e=_l(t);try{for(e.s();!(n=e.n()).done;)n.value.lineStart()}catch(t){e.e(t)}finally{e.f()}},lineEnd:function(){var n,e=_l(t);try{for(e.s();!(n=e.n()).done;)n.value.lineEnd()}catch(t){e.e(t)}finally{e.f()}},polygonStart:function(){var n,e=_l(t);try{for(e.s();!(n=e.n()).done;)n.value.polygonStart()}catch(t){e.e(t)}finally{e.f()}},polygonEnd:function(){var n,e=_l(t);try{for(e.s();!(n=e.n()).done;)n.value.polygonEnd()}catch(t){e.e(t)}finally{e.f()}}}}function i(){var t,i,o,a,u,c,l,s,f,h=n.geoAlbers(),p=n.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=n.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),g=n.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),v=n.geoConicEqualArea().rotate([-145,0]).center([0,16]).parallels([10,20]),m=n.geoConicEqualArea().rotate([170,0]).center([0,-14]).parallels([-14,0]),y={point:function(t,n){f=[t,n]}};function b(t){var n=t[0],e=t[1];return f=null,o.point(n,e),f||(a.point(n,e),f)||(u.point(n,e),f)||(c.point(n,e),f)||(l.point(n,e),f)||(s.point(n,e),f)}function w(){return t=i=null,b}return b.invert=function(t){var n=h.scale(),e=h.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.225&&r<-.185?p:i>=.166&&i<.234&&r>=-.185&&r<-.08?d:i>=.204&&i<.234&&r>=.3&&r<.38?g:i>=.05&&i<.204&&r>=-.415&&r<-.225?v:i>=.18&&i<.234&&r>=-.415&&r<-.225?m:h).invert(t)},b.stream=function(n){return t&&i===n?t:t=r([h.stream(i=n),p.stream(n),d.stream(n),g.stream(n),v.stream(n),m.stream(n)])},b.precision=function(t){return arguments.length?(h.precision(t),p.precision(t),d.precision(t),g.precision(t),v.precision(t),m.precision(t),w()):h.precision()},b.scale=function(t){return arguments.length?(h.scale(t),p.scale(.35*t),d.scale(t),g.scale(t),v.scale(t),m.scale(t),b.translate(h.translate())):h.scale()},b.translate=function(t){if(!arguments.length)return h.translate();var n=h.scale(),r=+t[0],i=+t[1];return o=h.translate(t).clipExtent([[r-.455*n,i-.238*n],[r+.455*n,i+.238*n]]).stream(y),a=p.translate([r-.275*n,i+.201*n]).clipExtent([[r-.425*n+e,i+.12*n+e],[r-.185*n-e,i+.234*n-e]]).stream(y),u=d.translate([r-.18*n,i+.212*n]).clipExtent([[r-.185*n+e,i+.166*n+e],[r-.08*n-e,i+.234*n-e]]).stream(y),c=g.translate([r+.335*n,i+.224*n]).clipExtent([[r+.3*n,i+.204*n],[r+.38*n,i+.234*n]]).stream(y),l=v.translate([r-.415*n,i+.14*n]).clipExtent([[r-.45*n,i+.05*n],[r-.39*n,i+.21*n]]).stream(y),s=m.translate([r-.415*n,i+.215*n]).clipExtent([[r-.45*n,i+.21*n],[r-.39*n,i+.234*n]]).stream(y),w()},b.scale(1070)}t.geoAlbersUsaTerritories=i,Object.defineProperty(t,"__esModule",{value:!0})}(n,wl)}));function kl(t){return t}function Sl(t){if(null==t)return kl;var n,e,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,u){u||(n=e=0);var c=2,l=t.length,s=new Array(l);for(s[0]=(n+=t[0])*r+o,s[1]=(e+=t[1])*i+a;c<l;)s[c]=t[c],++c;return s}}function Al(t,n){return"string"==typeof n&&(n=t.objects[n]),"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map((function(n){return El(t,n)}))}:El(t,n)}function El(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=jl(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}function jl(t,n){var e=Sl(t.transform),r=t.arcs;function i(t,n){n.length&&n.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)n.push(e(i[o],o));t<0&&function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}(n,a)}function o(t){return e(t)}function a(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function u(t){for(var n=a(t);n.length<4;)n.push(n[0]);return n}function c(t){return t.map(u)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=o(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(o);break;case"LineString":e=a(n.arcs);break;case"MultiLineString":e=n.arcs.map(a);break;case"Polygon":e=c(n.arcs);break;case"MultiPolygon":e=n.arcs.map(c);break;default:return null}return{type:r,coordinates:e}}(n)}function $l(t,n){var e={},r={},i={},o=[],a=-1;function u(t,n){for(var r in t){var i=t[r];delete n[i.start],delete i.start,delete i.end,i.forEach((function(t){e[t<0?~t:t]=1})),o.push(i)}}return n.forEach((function(e,r){var i,o=t.arcs[e<0?~e:e];o.length<3&&!o[1][0]&&!o[1][1]&&(i=n[++a],n[a]=e,n[r]=i)})),n.forEach((function(n){var e,o,a=function(n){var e,r=t.arcs[n<0?~n:n],i=r[0];t.transform?(e=[0,0],r.forEach((function(t){e[0]+=t[0],e[1]+=t[1]}))):e=r[r.length-1];return n<0?[e,i]:[i,e]}(n),u=a[0],c=a[1];if(e=i[u])if(delete i[e.end],e.push(n),e.end=c,o=r[c]){delete r[o.start];var l=o===e?e:e.concat(o);r[l.start=e.start]=i[l.end=o.end]=l}else r[e.start]=i[e.end]=e;else if(e=r[c])if(delete r[e.start],e.unshift(n),e.start=u,o=i[u]){delete i[o.end];var s=o===e?e:o.concat(e);r[s.start=o.start]=i[s.end=e.end]=s}else r[e.start]=i[e.end]=e;else r[(e=[n]).start=u]=i[e.end=c]=e})),u(i,r),u(r,i),n.forEach((function(t){e[t<0?~t:t]||o.push([t])})),o}function Ol(t,n,e){var r,i,o;if(arguments.length>1)r=Nl(t,n,e);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:$l(t,r)}}function Nl(t,n,e){var r,i=[],o=[];function a(t){var n=t<0?~t:t;(o[n]||(o[n]=[])).push({i:t,g:r})}function u(t){t.forEach(a)}function c(t){t.forEach(u)}return function t(n){switch(r=n,n.type){case"GeometryCollection":n.geometries.forEach(t);break;case"LineString":u(n.arcs);break;case"MultiLineString":case"Polygon":c(n.arcs);break;case"MultiPolygon":!function(t){t.forEach(c)}(n.arcs)}}(n),o.forEach(null==e?function(t){i.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}function zl(t){var n=t[0],e=t[1],r=t[2];return Math.abs((n[0]-r[0])*(e[1]-n[1])-(n[0]-e[0])*(r[1]-n[1]))/2}function Tl(t,n){return t[1][2]-n[1][2]}function Ll(t){return[t[0],t[1],0]}function Pl(t,n){var e=t.transform?Sl(t.transform):Ll,r=function(){var t={},n=[],e=0;function r(t,e){for(;e>0;){var r=(e+1>>1)-1,i=n[r];if(Tl(t,i)>=0)break;n[i._=e]=i,n[t._=e=r]=t}}function i(t,r){for(;;){var i=r+1<<1,o=i-1,a=r,u=n[a];if(o<e&&Tl(n[o],u)<0&&(u=n[a=o]),i<e&&Tl(n[i],u)<0&&(u=n[a=i]),a===r)break;n[u._=r]=u,n[t._=r=a]=t}}return t.push=function(t){return r(n[t._=e]=t,e++),e},t.pop=function(){if(!(e<=0)){var t,r=n[0];return--e>0&&(t=n[e],i(n[t._=0]=t,0)),r}},t.remove=function(t){var o,a=t._;if(n[a]===t)return a!==--e&&(Tl(o=n[e],t)<0?r:i)(n[o._=a]=o,a),a},t}();null==n&&(n=zl);var i=t.arcs.map((function(t){var i,a,u,c=[],l=0;for(a=1,u=(t=t.map(e)).length-1;a<u;++a)(i=[t[a-1],t[a],t[a+1]])[1][2]=n(i),c.push(i),r.push(i);for(t[0][2]=t[u][2]=1/0,a=0,u=c.length;a<u;++a)(i=c[a]).previous=c[a-1],i.next=c[a+1];for(;i=r.pop();){var s=i.previous,f=i.next;i[1][2]<l?i[1][2]=l:l=i[1][2],s&&(s.next=f,s[2]=i[2],o(s)),f&&(f.previous=s,f[0]=i[0],o(f))}return t}));function o(t){r.remove(t),t[1][2]=n(t),r.push(t)}return{type:"Topology",bbox:t.bbox,objects:t.objects,arcs:i}}var Dl=e((function(n){
/*! @preserve
	   * numeral.js
	   * version : 2.0.6
	   * author : Adam Draper
	   * license : MIT
	   * http://adamwdraper.github.com/Numeral-js/
	   */
!function(t,e){n.exports?n.exports=e():t.numeral=e()}(t,(function(){var t,n,e,r,i,o={},a={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},c={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function l(t,n){this._input=t,this._value=n}return(t=function(e){var r,i,a,u;if(t.isNumeral(e))r=e.value();else if(0===e||void 0===e)r=0;else if(null===e||n.isNaN(e))r=null;else if("string"==typeof e)if(c.zeroFormat&&e===c.zeroFormat)r=0;else if(c.nullFormat&&e===c.nullFormat||!e.replace(/[^0-9]+/g,"").length)r=null;else{for(i in o)if((u="function"==typeof o[i].regexps.unformat?o[i].regexps.unformat():o[i].regexps.unformat)&&e.match(u)){a=o[i].unformat;break}r=(a=a||t._.stringToNumber)(e)}else r=Number(e)||null;return new l(e,r)}).version="2.0.6",t.isNumeral=function(t){return t instanceof l},t._=n={numberToFormat:function(n,e,r){var i,o,u,c,l,s,f,h,p=a[t.options.currentLocale],d=!1,g=!1,v="",m=1e12,y=1e9,b=1e6,w="",_=!1;if(n=n||0,u=Math.abs(n),t._.includes(e,"(")?(d=!0,e=e.replace(/[\(|\)]/g,"")):(t._.includes(e,"+")||t._.includes(e,"-"))&&(s=t._.includes(e,"+")?e.indexOf("+"):n<0?e.indexOf("-"):-1,e=e.replace(/[\+|\-]/g,"")),t._.includes(e,"a")&&(o=!!(o=e.match(/a(k|m|b|t)?/))&&o[1],t._.includes(e," a")&&(v=" "),e=e.replace(new RegExp(v+"a[kmbt]?"),""),u>=m&&!o||"t"===o?(v+=p.abbreviations.trillion,n/=m):u<m&&u>=y&&!o||"b"===o?(v+=p.abbreviations.billion,n/=y):u<y&&u>=b&&!o||"m"===o?(v+=p.abbreviations.million,n/=b):(u<b&&u>=1e3&&!o||"k"===o)&&(v+=p.abbreviations.thousand,n/=1e3)),t._.includes(e,"[.]")&&(g=!0,e=e.replace("[.]",".")),c=n.toString().split(".")[0],l=e.split(".")[1],f=e.indexOf(","),i=(e.split(".")[0].split(",")[0].match(/0/g)||[]).length,l?(t._.includes(l,"[")?(l=(l=l.replace("]","")).split("["),w=t._.toFixed(n,l[0].length+l[1].length,r,l[1].length)):w=t._.toFixed(n,l.length,r),c=w.split(".")[0],w=t._.includes(w,".")?p.delimiters.decimal+w.split(".")[1]:"",g&&0===Number(w.slice(1))&&(w="")):c=t._.toFixed(n,0,r),v&&!o&&Number(c)>=1e3&&v!==p.abbreviations.trillion)switch(c=String(Number(c)/1e3),v){case p.abbreviations.thousand:v=p.abbreviations.million;break;case p.abbreviations.million:v=p.abbreviations.billion;break;case p.abbreviations.billion:v=p.abbreviations.trillion}if(t._.includes(c,"-")&&(c=c.slice(1),_=!0),c.length<i)for(var x=i-c.length;x>0;x--)c="0"+c;return f>-1&&(c=c.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p.delimiters.thousands)),0===e.indexOf(".")&&(c=""),h=c+w+(v||""),d?h=(d&&_?"(":"")+h+(d&&_?")":""):s>=0?h=0===s?(_?"-":"+")+h:h+(_?"-":"+"):_&&(h="-"+h),h},stringToNumber:function(t){var n,e,r,i=a[c.currentLocale],o=t,u={thousand:3,million:6,billion:9,trillion:12};if(c.zeroFormat&&t===c.zeroFormat)e=0;else if(c.nullFormat&&t===c.nullFormat||!t.replace(/[^0-9]+/g,"").length)e=null;else{for(n in e=1,"."!==i.delimiters.decimal&&(t=t.replace(/\./g,"").replace(i.delimiters.decimal,".")),u)if(r=new RegExp("[^a-zA-Z]"+i.abbreviations[n]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),o.match(r)){e*=Math.pow(10,u[n]);break}e*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),e*=Number(t)}return e},isNaN:function(t){function n(n){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}((function(t){return"number"==typeof t&&isNaN(t)})),includes:function(t,n){return-1!==t.indexOf(n)},insert:function(t,n,e){return t.slice(0,e)+n+t.slice(e)},reduce:function(t,n){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof n)throw new TypeError(n+" is not a function");var e,r=Object(t),i=r.length>>>0,o=0;if(3===arguments.length)e=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");e=r[o++]}for(;o<i;o++)o in r&&(e=n(e,r[o],o,r));return e},multiplier:function(t){var n=t.toString().split(".");return n.length<2?1:Math.pow(10,n[1].length)},correctionFactor:function(){var t=Array.prototype.slice.call(arguments);return t.reduce((function(t,e){var r=n.multiplier(e);return t>r?t:r}),1)},toFixed:function(t,n,e,r){var i,o,a,u,c=t.toString().split("."),l=n-(r||0);return i=2===c.length?Math.min(Math.max(c[1].length,l),n):l,a=Math.pow(10,i),u=(e(t+"e+"+i)/a).toFixed(i),r>n-i&&(o=new RegExp("\\.?0{1,"+(r-(n-i))+"}$"),u=u.replace(o,"")),u}},t.options=c,t.formats=o,t.locales=a,t.locale=function(t){return t&&(c.currentLocale=t.toLowerCase()),c.currentLocale},t.localeData=function(t){if(!t)return a[c.currentLocale];if(t=t.toLowerCase(),!a[t])throw new Error("Unknown locale : "+t);return a[t]},t.reset=function(){for(var t in u)c[t]=u[t]},t.zeroFormat=function(t){c.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){c.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){c.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,n,e){if(n=n.toLowerCase(),this[t+"s"][n])throw new TypeError(n+" "+t+" already registered.");return this[t+"s"][n]=e,e},t.validate=function(n,e){var r,i,o,a,u,c,l,s;if("string"!=typeof n&&(n+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",n)),(n=n.trim()).match(/^\d+$/))return!0;if(""===n)return!1;try{l=t.localeData(e)}catch(n){l=t.localeData(t.locale())}return o=l.currency.symbol,u=l.abbreviations,r=l.delimiters.decimal,i="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,(null===(s=n.match(/^[^\d]+/))||(n=n.substr(1),s[0]===o))&&((null===(s=n.match(/[^\d]+$/))||(n=n.slice(0,-1),s[0]===u.thousand||s[0]===u.million||s[0]===u.billion||s[0]===u.trillion))&&(c=new RegExp(i+"{2}"),!n.match(/[^\d.,]/g)&&(!((a=n.split(r)).length>2)&&(a.length<2?!!a[0].match(/^\d+.*\d$/)&&!a[0].match(c):1===a[0].length?!!a[0].match(/^\d+$/)&&!a[0].match(c)&&!!a[1].match(/^\d+$/):!!a[0].match(/^\d+.*\d$/)&&!a[0].match(c)&&!!a[1].match(/^\d+$/)))))},t.fn=l.prototype={clone:function(){return t(this)},format:function(n,e){var r,i,a,u=this._value,l=n||c.defaultFormat;if(e=e||Math.round,0===u&&null!==c.zeroFormat)i=c.zeroFormat;else if(null===u&&null!==c.nullFormat)i=c.nullFormat;else{for(r in o)if(l.match(o[r].regexps.format)){a=o[r].format;break}i=(a=a||t._.numberToFormat)(u,l,e)}return i},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var e=n.correctionFactor.call(null,this._value,t);return this._value=n.reduce([this._value,t],(function(t,n,r,i){return t+Math.round(e*n)}),0)/e,this},subtract:function(t){var e=n.correctionFactor.call(null,this._value,t);return this._value=n.reduce([t],(function(t,n,r,i){return t-Math.round(e*n)}),Math.round(this._value*e))/e,this},multiply:function(t){return this._value=n.reduce([this._value,t],(function(t,e,r,i){var o=n.correctionFactor(t,e);return Math.round(t*o)*Math.round(e*o)/Math.round(o*o)}),1),this},divide:function(t){return this._value=n.reduce([this._value,t],(function(t,e,r,i){var o=n.correctionFactor(t,e);return Math.round(t*o)/Math.round(e*o)})),this},difference:function(n){return Math.abs(t(this._value).subtract(n).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var n=t%10;return 1==~~(t%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(n,e,r){var i,o=t._.includes(e," BPS")?" ":"";return n*=1e4,e=e.replace(/\s?BPS/,""),i=t._.numberToFormat(n,e,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(n){return+(1e-4*t._.stringToNumber(n)).toFixed(15)}}),r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i="("+(i=(e={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(r.suffixes.filter((function(t){return e.suffixes.indexOf(t)<0}))).join("|")).replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(i)},format:function(n,i,o){var a,u,c,l=t._.includes(i,"ib")?r:e,s=t._.includes(i," b")||t._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),a=0;a<=l.suffixes.length;a++)if(u=Math.pow(l.base,a),c=Math.pow(l.base,a+1),null===n||0===n||n>=u&&n<c){s+=l.suffixes[a],u>0&&(n/=u);break}return t._.numberToFormat(n,i,o)+s},unformat:function(n){var i,o,a=t._.stringToNumber(n);if(a){for(i=e.suffixes.length-1;i>=0;i--){if(t._.includes(n,e.suffixes[i])){o=Math.pow(e.base,i);break}if(t._.includes(n,r.suffixes[i])){o=Math.pow(r.base,i);break}}a*=o||1}return a}}),t.register("format","currency",{regexps:{format:/(\$)/},format:function(n,e,r){var i,o,a=t.locales[t.options.currentLocale],u={before:e.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:e.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(e=e.replace(/\s?\$\s?/,""),i=t._.numberToFormat(n,e,r),n>=0?(u.before=u.before.replace(/[\-\(]/,""),u.after=u.after.replace(/[\-\)]/,"")):n<0&&!t._.includes(u.before,"-")&&!t._.includes(u.before,"(")&&(u.before="-"+u.before),o=0;o<u.before.length;o++)switch(u.before[o]){case"$":i=t._.insert(i,a.currency.symbol,o);break;case" ":i=t._.insert(i," ",o+a.currency.symbol.length-1)}for(o=u.after.length-1;o>=0;o--)switch(u.after[o]){case"$":i=o===u.after.length-1?i+a.currency.symbol:t._.insert(i,a.currency.symbol,-(u.after.length-(1+o)));break;case" ":i=o===u.after.length-1?i+" ":t._.insert(i," ",-(u.after.length-(1+o)+a.currency.symbol.length-1))}return i}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(n,e,r){var i=("number"!=typeof n||t._.isNaN(n)?"0e+0":n.toExponential()).split("e");return e=e.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(i[0]),e,r)+"e"+i[1]},unformat:function(n){var e=t._.includes(n,"e+")?n.split("e+"):n.split("e-"),r=Number(e[0]),i=Number(e[1]);return i=t._.includes(n,"e-")?i*=-1:i,t._.reduce([r,Math.pow(10,i)],(function(n,e,r,i){var o=t._.correctionFactor(n,e);return n*o*(e*o)/(o*o)}),1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(n,e,r){var i=t.locales[t.options.currentLocale],o=t._.includes(e," o")?" ":"";return e=e.replace(/\s?o/,""),o+=i.ordinal(n),t._.numberToFormat(n,e,r)+o}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(n,e,r){var i,o=t._.includes(e," %")?" ":"";return t.options.scalePercentBy100&&(n*=100),e=e.replace(/\s?\%/,""),i=t._.numberToFormat(n,e,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(n){var e=t._.stringToNumber(n);return t.options.scalePercentBy100?.01*e:e}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,n,e){var r=Math.floor(t/60/60),i=Math.floor((t-60*r*60)/60),o=Math.round(t-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(t){var n=t.split(":"),e=0;return 3===n.length?(e+=60*Number(n[0])*60,e+=60*Number(n[1]),e+=Number(n[2])):2===n.length&&(e+=60*Number(n[0]),e+=Number(n[1])),Number(e)}}),t}))})),Cl=e((function(t,n){t.exports=function(){var t="millisecond",n="second",e="minute",r="hour",i="day",o="week",a="month",u="quarter",c="year",l="date",s=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(t,n,e){var r=String(t);return!r||r.length>=n?t:""+Array(n+1-r.length).join(e)+t},d={s:p,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?"+":"-")+p(r,2,"0")+":"+p(i,2,"0")},m:function t(n,e){if(n.date()<e.date())return-t(e,n);var r=12*(e.year()-n.year())+(e.month()-n.month()),i=n.clone().add(r,a),o=e-i<0,u=n.clone().add(r+(o?-1:1),a);return+(-(r+(e-i)/(o?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(s){return{M:a,y:c,w:o,d:i,D:l,h:r,m:e,s:n,ms:t,Q:u}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",v={};v[g]=h;var m=function(t){return t instanceof _},y=function(t,n,e){var r;if(!t)return g;if("string"==typeof t)v[t]&&(r=t),n&&(v[t]=n,r=t);else{var i=t.name;v[i]=t,r=i}return!e&&r&&(g=r),r||!e&&g},b=function(t,n){if(m(t))return t.clone();var e="object"==Xt(n)?n:{};return e.date=t,e.args=arguments,new _(e)},w=d;w.l=y,w.i=m,w.w=function(t,n){return b(t,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var _=function(){function h(t){this.$L=y(t.locale,null,!0),this.parse(t)}var p=h.prototype;return p.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(w.u(n))return new Date;if(n instanceof Date)return new Date(n);if("string"==typeof n&&!/Z$/i.test(n)){var r=n.match(s);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return e?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(n)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return w},p.isValid=function(){return!("Invalid Date"===this.$d.toString())},p.isSame=function(t,n){var e=b(t);return this.startOf(n)<=e&&e<=this.endOf(n)},p.isAfter=function(t,n){return b(t)<this.startOf(n)},p.isBefore=function(t,n){return this.endOf(n)<b(t)},p.$g=function(t,n,e){return w.u(t)?this[n]:this.set(e,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,u){var s=this,f=!!w.u(u)||u,h=w.p(t),p=function(t,n){var e=w.w(s.$u?Date.UTC(s.$y,n,t):new Date(s.$y,n,t),s);return f?e:e.endOf(i)},d=function(t,n){return w.w(s.toDate()[t].apply(s.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(n)),s)},g=this.$W,v=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(h){case c:return f?p(1,0):p(31,11);case a:return f?p(1,v):p(0,v+1);case o:var b=this.$locale().weekStart||0,_=(g<b?g+7:g)-b;return p(f?m-_:m+(6-_),v);case i:case l:return d(y+"Hours",0);case r:return d(y+"Minutes",1);case e:return d(y+"Seconds",2);case n:return d(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(o,u){var s,f=w.p(o),h="set"+(this.$u?"UTC":""),p=(s={},s[i]=h+"Date",s[l]=h+"Date",s[a]=h+"Month",s[c]=h+"FullYear",s[r]=h+"Hours",s[e]=h+"Minutes",s[n]=h+"Seconds",s[t]=h+"Milliseconds",s)[f],d=f===i?this.$D+(u-this.$W):u;if(f===a||f===c){var g=this.clone().set(l,1);g.$d[p](d),g.init(),this.$d=g.set(l,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](d);return this.init(),this},p.set=function(t,n){return this.clone().$set(t,n)},p.get=function(t){return this[w.p(t)]()},p.add=function(t,u){var l,s=this;t=Number(t);var f=w.p(u),h=function(n){var e=b(s);return w.w(e.date(e.date()+Math.round(n*t)),s)};if(f===a)return this.set(a,this.$M+t);if(f===c)return this.set(c,this.$y+t);if(f===i)return h(1);if(f===o)return h(7);var p=(l={},l[e]=6e4,l[r]=36e5,l[n]=1e3,l)[f]||1,d=this.$d.getTime()+t*p;return w.w(d,this)},p.subtract=function(t,n){return this.add(-1*t,n)},p.format=function(t){var n=this;if(!this.isValid())return"Invalid Date";var e=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$locale(),o=this.$H,a=this.$m,u=this.$M,c=i.weekdays,l=i.months,s=function(t,r,i,o){return t&&(t[r]||t(n,e))||i[r].substr(0,o)},h=function(t){return w.s(o%12||12,t,"0")},p=i.meridiem||function(t,n,e){var r=t<12?"AM":"PM";return e?r.toLowerCase():r},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:w.s(u+1,2,"0"),MMM:s(i.monthsShort,u,l,3),MMMM:s(l,u),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:s(i.weekdaysMin,this.$W,c,2),ddd:s(i.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:w.s(o,2,"0"),h:h(1),hh:h(2),a:p(o,a,!0),A:p(o,a,!1),m:String(a),mm:w.s(a,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return e.replace(f,(function(t,n){return n||d[t]||r.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(t,l,s){var f,h=w.p(l),p=b(t),d=6e4*(p.utcOffset()-this.utcOffset()),g=this-p,v=w.m(this,p);return v=(f={},f[c]=v/12,f[a]=v,f[u]=v/3,f[o]=(g-d)/6048e5,f[i]=(g-d)/864e5,f[r]=g/36e5,f[e]=g/6e4,f[n]=g/1e3,f)[h]||g,s?v:w.a(v)},p.daysInMonth=function(){return this.endOf(a).$D},p.$locale=function(){return v[this.$L]},p.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),r=y(t,n,!0);return r&&(e.$L=r),e},p.clone=function(){return w.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},h}(),x=_.prototype;return b.prototype=x,[["$ms",t],["$s",n],["$m",e],["$H",r],["$W",i],["$M",a],["$y",c],["$D",l]].forEach((function(t){x[t[1]]=function(n){return this.$g(n,t[0],t[1])}})),b.extend=function(t,n){return t.$i||(t(n,_,b),t.$i=!0),b},b.locale=y,b.isDayjs=m,b.unix=function(t){return b(1e3*t)},b.en=v[g],b.Ls=v,b.p={},b}()})),Rl=e((function(t,n){t.exports=function(t,n,e){var r=n.prototype,i=r.format;e.en.ordinal=function(t){var n=["th","st","nd","rd"],e=t%100;return"["+t+(n[(e-20)%10]||n[e]||n[0])+"]"},r.format=function(t){var n=this,e=this.$locale(),r=this.$utils(),o=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(t){switch(t){case"Q":return Math.ceil((n.$M+1)/3);case"Do":return e.ordinal(n.$D);case"gggg":return n.weekYear();case"GGGG":return n.isoWeekYear();case"wo":return e.ordinal(n.week(),"W");case"w":case"ww":return r.s(n.week(),"w"===t?1:2,"0");case"W":case"WW":return r.s(n.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return r.s(String(0===n.$H?24:n.$H),"k"===t?1:2,"0");case"X":return Math.floor(n.$d.getTime()/1e3);case"x":return n.$d.getTime();case"z":return"["+n.offsetName()+"]";case"zzz":return"["+n.offsetName("long")+"]";default:return t}}));return i.bind(this)(o)}}})),Fl=e((function(t,n){t.exports=function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,e,r){var i=e.prototype,o=i.format;r.en.formats=t,i.format=function(n){void 0===n&&(n="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,r=function(n,e){return n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(n,r,i){var o=i&&i.toUpperCase();return r||e[i]||t[i]||e[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,n,e){return n||e.slice(1)}))}))}(n,void 0===e?{}:e);return o.call(this,r)}}}()}));var Bl=!1;function ql(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!n)return t;for(var r=Array.isArray(n)?n:n.split("."),i=t,o=0;o<r.length&&null!=i;o++)i=i[r[o]];return null==i?e:i}function Wl(t){if(!t||"object"!==Xt(t))return t;try{return JSON.parse(JSON.stringify(t))}catch(n){return t}}var Yl=e((function(n,e){n.exports=function(){function n(){}function e(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,n){return t!=t?n==n:t!==n||t&&"object"==Xt(t)||"function"==typeof t}function u(t,n){t.appendChild(n)}function c(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function s(t,n){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function f(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function p(t){return document.createTextNode(t)}function d(){return p(" ")}function g(){return p("")}function v(t,n,e,r){return t.addEventListener(n,e,r),function(){return t.removeEventListener(n,e,r)}}function m(t){return function(n){return n.stopPropagation(),t.call(this,n)}}function y(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function b(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function w(t,n,e){t.classList[e?"add":"remove"](n)}var _,x=function(t){void 0===t&&(t=null),this.a=t,this.e=this.n=null};function M(t){_=t}function k(){if(!_)throw new Error("Function called outside component initialization");return _}function S(t){k().$$.after_update.push(t)}function A(){var t=k();return function(n,e){var r=t.$$.callbacks[n];if(r){var i=function(t,n){var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);r.slice().forEach((function(n){n.call(t,i)}))}}}function E(t,n){var e=t.$$.callbacks[n.type];e&&e.slice().forEach((function(t){return t(n)}))}x.prototype.m=function(t,n,e){void 0===e&&(e=null),this.e||(this.e=f(n.nodeName),this.t=n,this.h(t)),this.i(e)},x.prototype.h=function(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)},x.prototype.i=function(t){for(var n=0;n<this.n.length;n+=1)c(this.t,this.n[n],t)},x.prototype.p=function(t){this.d(),this.h(t),this.i(this.a)},x.prototype.d=function(){this.n.forEach(l)};var j=[],$=[],O=[],N=[],z=Promise.resolve(),T=!1;function L(){T||(T=!0,z.then(F))}function P(t){O.push(t)}function D(t){N.push(t)}var C=!1,R=new Set;function F(){if(!C){C=!0;do{for(var t=0;t<j.length;t+=1){var n=j[t];M(n),B(n.$$)}for(M(null),j.length=0;$.length;)$.pop()();for(var e=0;e<O.length;e+=1){var r=O[e];R.has(r)||(R.add(r),r())}O.length=0}while(j.length);for(;N.length;)N.pop()();T=!1,C=!1,R.clear()}}function B(t){if(null!==t.fragment){t.update(),i(t.before_update);var n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(P)}}var q,W=new Set;function Y(){q={r:0,c:[],p:q}}function H(){q.r||i(q.c),q=q.p}function I(t,n){t&&t.i&&(W.delete(t),t.i(n))}function U(t,n,e,r){if(t&&t.o){if(W.has(t))return;W.add(t),q.c.push((function(){W.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}var Z="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:t;function X(t,n,e){var r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function V(t){t&&t.c()}function G(t,n,r){var a=t.$$,u=a.fragment,c=a.on_mount,l=a.on_destroy,s=a.after_update;u&&u.m(n,r),P((function(){var n=c.map(e).filter(o);l?l.push.apply(l,n):i(n),t.$$.on_mount=[]})),s.forEach(P)}function K(t,n){var e=t.$$;null!==e.fragment&&(i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function J(t,n){-1===t.$$.dirty[0]&&(j.push(t),L(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function Q(t,e,o,a,u,c,s){void 0===s&&(s=[-1]);var f=_;M(t);var h=e.props||{},p=t.$$={fragment:null,ctx:null,props:c,update:n,not_equal:u,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:r(),dirty:s,skip_bound:!1},d=!1;if(p.ctx=o?o(t,h,(function(n,e){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var o=r.length?r[0]:e;return p.ctx&&u(p.ctx[n],p.ctx[n]=o)&&(!p.skip_bound&&p.bound[n]&&p.bound[n](o),d&&J(t,n)),e})):[],p.update(),d=!0,i(p.before_update),p.fragment=!!a&&a(p.ctx),e.target){if(e.hydrate){var g=function(t){return Array.from(t.childNodes)}(e.target);p.fragment&&p.fragment.l(g),g.forEach(l)}else p.fragment&&p.fragment.c();e.intro&&I(t.$$.fragment),G(t,e.target,e.anchor),F()}M(f)}var tt=function(){};tt.prototype.$destroy=function(){K(this,1),this.$destroy=n},tt.prototype.$on=function(t,n){var e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),function(){var t=e.indexOf(n);-1!==t&&e.splice(t,1)}},tt.prototype.$set=function(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)};var nt="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:nt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),et.hasOwnProperty(n)?{space:et[n],local:t}:t}function it(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===nt&&n.documentElement.namespaceURI===nt?n.createElement(t):n.createElementNS(e,t)}}function ot(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function at(t){var n=rt(t);return(n.local?ot:it)(n)}function ut(){}function ct(t){return null==t?ut:function(){return this.querySelector(t)}}function lt(){return[]}function st(t){return new Array(t.length)}function ft(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function ht(t,n,e,r,i,o){for(var a,u=0,c=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new ft(t,o[u]);for(;u<c;++u)(a=n[u])&&(i[u]=a)}function pt(t,n,e,r,i,o,a){var u,c,l,s={},f=n.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(c=n[u])&&(p[u]=l="$"+a.call(c,c.__data__,u,n),l in s?i[u]=c:s[l]=c);for(u=0;u<h;++u)(c=s[l="$"+a.call(t,o[u],u,o)])?(r[u]=c,c.__data__=o[u],s[l]=null):e[u]=new ft(t,o[u]);for(u=0;u<f;++u)(c=n[u])&&s[p[u]]===c&&(i[u]=c)}function dt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function gt(t){return function(){this.removeAttribute(t)}}function vt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mt(t,n){return function(){this.setAttribute(t,n)}}function yt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function bt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function wt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function _t(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xt(t){return function(){this.style.removeProperty(t)}}function Mt(t,n,e){return function(){this.style.setProperty(t,n,e)}}function kt(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function St(t,n){return t.style.getPropertyValue(n)||_t(t).getComputedStyle(t,null).getPropertyValue(n)}function At(t){return function(){delete this[t]}}function Et(t,n){return function(){this[t]=n}}function jt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function $t(t){return t.trim().split(/^|\s+/)}function Ot(t){return t.classList||new Nt(t)}function Nt(t){this._node=t,this._names=$t(t.getAttribute("class")||"")}function zt(t,n){for(var e=Ot(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Tt(t,n){for(var e=Ot(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Lt(t){return function(){zt(this,t)}}function Pt(t){return function(){Tt(this,t)}}function Dt(t,n){return function(){(n.apply(this,arguments)?zt:Tt)(this,t)}}function Ct(){this.textContent=""}function Rt(t){return function(){this.textContent=t}}function Ft(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Bt(){this.innerHTML=""}function qt(t){return function(){this.innerHTML=t}}function Wt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Yt(){this.nextSibling&&this.parentNode.appendChild(this)}function Ht(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function It(){return null}function Ut(){var t=this.parentNode;t&&t.removeChild(this)}function Zt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Vt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}ft.prototype={constructor:ft,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Nt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Gt={};function Kt(t,n,e){return t=Jt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Jt(t,n,e){return function(r){try{t.call(this,this.__data__,n,e)}finally{}}}function Qt(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function tn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function nn(t,n,e){var r=Gt.hasOwnProperty(t.type)?Kt:Jt;return function(i,o,a){var u,c=this.__on,l=r(n,o,a);if(c)for(var s=0,f=c.length;s<f;++s)if((u=c[s]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=e),void(u.value=n);this.addEventListener(t.type,l,e),u={type:t.type,name:t.name,value:n,listener:l,capture:e},c?c.push(u):this.__on=[u]}}function en(t,n,e){var r=_t(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function rn(t,n){return function(){return en(this,t,n)}}function on(t,n){return function(){return en(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Gt={mouseenter:"mouseover",mouseleave:"mouseout"}));var an=[null];function un(t,n){this._groups=t,this._parents=n}function cn(){return new un([[document.documentElement]],an)}function ln(t){return"string"==typeof t?new un([[document.querySelector(t)]],[document.documentElement]):new un([[t]],an)}function sn(){window.getSelection().removeAllRanges()}function fn(t,n,e){var r=t.slice();return r[12]=n[e],r}function hn(t){var n,e,r,i,o,a;function s(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return t[10].apply(t,[t[12]].concat(n))}return{c:function(){n=f("div"),e=f("div"),r=d(),y(e,"class","resizer-inner svelte-15xph4v"),y(n,"class",i="resizer "+t[2]+" "+t[12].charAt(0)+" svelte-15xph4v"),w(n,"drag","line"===t[0].display)},m:function(t,i){c(t,n,i),u(n,e),u(n,r),o||(a=v(n,"mousedown",s),o=!0)},p:function(e,r){t=e,6&r&&i!==(i="resizer "+t[2]+" "+t[12].charAt(0)+" svelte-15xph4v")&&y(n,"class",i),7&r&&w(n,"drag","line"===t[0].display)},d:function(t){t&&l(n),o=!1,a()}}}function pn(t){for(var e,r=t[1],i=[],o=0;o<r.length;o+=1)i[o]=hn(fn(t,r,o));return{c:function(){e=f("div");for(var t=0;t<i.length;t+=1)i[t].c();y(e,"class","resizers svelte-15xph4v")},m:function(t,n){c(t,e,n);for(var r=0;r<i.length;r+=1)i[r].m(e,null)},p:function(t,n){var o=n[0];if(15&o){var a;for(r=t[1],a=0;a<r.length;a+=1){var u=fn(t,r,a);i[a]?i[a].p(u,o):(i[a]=hn(u),i[a].c(),i[a].m(e,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:n,o:n,d:function(t){t&&l(e),s(i,t)}}}function dn(t,n,e){var r,i,o=A(),a=n.annotation,u=n.type,c=n.index,l=n.activeResizer,s=n.resizing,f=n.noOffsetAtEventStart,h=n.orientation;function p(t,n){t.stopPropagation(),sn(),o("selectAnnotation",{type:u,index:c}),void 0===a.width&&o("setWidth"),e(4,l=n),e(5,s=!0),e(6,f=0===a.dx&&0===a.dy)}return t.$$set=function(t){"annotation"in t&&e(0,a=t.annotation),"type"in t&&e(7,u=t.type),"index"in t&&e(8,c=t.index),"activeResizer"in t&&e(4,l=t.activeResizer),"resizing"in t&&e(5,s=t.resizing),"noOffsetAtEventStart"in t&&e(6,f=t.noOffsetAtEventStart),"orientation"in t&&e(9,h=t.orientation)},t.$$.update=function(){513&t.$$.dirty&&e(1,r="y"===h?"line"===a.display?["t"]:["t","b"]:"line"===a.display?["l"]:["l","r"]),512&t.$$.dirty&&e(2,i="y"===h?"y":"x")},[a,r,i,p,l,s,f,u,c,h,function(t,n){return p(n,t)}]}un.prototype=cn.prototype={constructor:un,select:function(t){"function"!=typeof t&&(t=ct(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],c=u.length,l=r[i]=new Array(c),s=0;s<c;++s)(o=u[s])&&(a=t.call(o,o.__data__,s,u))&&("__data__"in o&&(a.__data__=o.__data__),l[s]=a);return new un(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?lt:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],c=u.length,l=0;l<c;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new un(r,i)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new un(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),s=-1,this.each((function(t){d[++s]=t})),d;var e,r=n?pt:ht,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),c=new Array(a),l=new Array(a),s=0;s<a;++s){var f=i[s],h=o[s],p=h.length,d=t.call(f,f&&f.__data__,s,i),g=d.length,v=c[s]=new Array(g),m=u[s]=new Array(g);r(f,h,v,m,l[s]=new Array(p),d,n);for(var y,b,w=0,_=0;w<g;++w)if(y=v[w]){for(w>=_&&(_=w+1);!(b=m[_])&&++_<g;);y._next=b||null}}return(u=new un(u,i))._enter=c,u._exit=l,u},enter:function(){return new un(this._enter||this._groups.map(st),this._parents)},exit:function(){return new un(this._exit||this._groups.map(st),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,l=n[u],s=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;u<r;++u)a[u]=n[u];return new un(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=dt);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],c=u.length,l=i[o]=new Array(c),s=0;s<c;++s)(a=u[s])&&(l[s]=a);l.sort(n)}return new un(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=rt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?vt:gt:"function"==typeof n?e.local?wt:bt:e.local?yt:mt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?xt:"function"==typeof n?kt:Mt)(t,n,null==e?"":e)):St(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?At:"function"==typeof n?jt:Et)(t,n)):this.node()[t]},classed:function(t,n){var e=$t(t+"");if(arguments.length<2){for(var r=Ot(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Dt:n?Lt:Pt)(e,n))},text:function(t){return arguments.length?this.each(null==t?Ct:("function"==typeof t?Ft:Rt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Bt:("function"==typeof t?Wt:qt)(t)):this.node().innerHTML},raise:function(){return this.each(Yt)},lower:function(){return this.each(Ht)},append:function(t){var n="function"==typeof t?t:at(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:at(t),r=null==n?It:"function"==typeof n?n:ct(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ut)},clone:function(t){return this.select(t?Vt:Zt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=Qt(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?nn:tn,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var c,l=0,s=u.length;l<s;++l)for(r=0,c=u[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?on:rn)(t,n))}};var gn=function(t){function n(n){t.call(this),Q(this,n,dn,pn,a,{annotation:0,type:7,index:8,activeResizer:4,resizing:5,noOffsetAtEventStart:6,orientation:9})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(tt);function vn(t){if("string"==typeof t){var n,e={},r=t.split(/([\.#])/g);for(t=r.shift();n=r.shift();)"."==n?e.class=e.class?e.class+" "+r.shift():r.shift():"#"==n&&(e.id=r.shift());return{tag:t,attr:e}}return t}function mn(){return null}var yn=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;function bn(){}function wn(t,n){var e=new bn;if(t instanceof bn)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function _n(){}bn.prototype=wn.prototype={constructor:bn,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var xn=wn.prototype;_n.prototype=function(t,n){var e=new _n;if(t instanceof _n)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:_n,has:xn.has,add:function(t){return this["$"+(t+="")]=t,this},remove:xn.remove,clear:xn.clear,values:xn.keys,size:xn.size,empty:xn.empty,each:xn.each},cn.prototype.translate=function(t,n){var e=this.node();return e?e.getBBox?this.attr("transform",(function(e,r){var i="function"==typeof t?t.call(this,e,r):t;return 0===n?i=[i,0]:1===n&&(i=[0,i]),"translate("+i[0]+","+i[1]+")"})):this.style("transform",(function(e,r){var i="function"==typeof t?t.call(this,e,r):t;return 0===n?i=[i,0]:1===n&&(i=[0,i]),"translate("+i[0]+"px,"+i[1]+"px)"})):this},cn.prototype.append=function(t){var n,e;"function"==typeof t?n=t:(e=vn(t),n=at(e.tag));var r=this.select((function(){return this.appendChild(n.apply(this,arguments))}));if(e)for(var i in e.attr)r.attr(i,e.attr[i]);return r},cn.prototype.insert=function(t,n){var e=vn(t),r=at(e.tag),i=null==n?mn:"function"==typeof n?n:ct(n),o=this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}));for(var a in e.attr)o.attr(a,e.attr[a]);return o},cn.prototype.parent=function(){var t=[];return this.filter((function(){return!(t.indexOf(this.parentNode)>-1||(t.push(this.parentNode),0))})).select((function(){return this.parentNode}))},cn.prototype.selectAppend=function(t){var n,e=ct(t),r=vn(t);for(var i in t=at(r.tag),n=this.select((function(){return e.apply(this,arguments)||this.appendChild(t.apply(this,arguments))})),r.attr)n.attr(i,r.attr[i]);return n},cn.prototype.tspans=function(t,n){return this.selectAll("tspan").data((function(n,e){return("function"==typeof t?t.call(this,n,e):t).map((function(t){return{line:t,parent:n}}))})).enter().append("tspan").text((function(t){return t.line})).attr("x",0).attr("dy",(function(t,e){return e?("function"==typeof n?n.call(this,t.parent,t.line,e):n)||15:0}))},cn.prototype.appendMany=function(t,n){if("string"==typeof n){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var e=n;n=t,t=e}return this.selectAll(null).data(n).enter().append(t)},cn.prototype.at=function(t,n){if("object"==Xt(t)){for(var e in t)this.attr(yn.test(e)?e:e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[e]);return this}return 1==arguments.length?this.attr(t):this.attr(t,n)},cn.prototype.st=function(t,n){if("object"==Xt(t)){for(var e in t)r(this,e,t[e]);return this}return 1==arguments.length?this.style(t):r(this,t,n);function r(t,n,e){return n=n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(n)?t.style(n,"function"==typeof e?o(e):i(e)):t.style(n,e),t}function i(t){return t.match?t:t+"px"}function o(t){return function(){return i(t.apply(this,arguments))}}},cn.prototype.prop=cn.prototype.property;var Mn=Math.cos(.25*Math.PI),kn=Math.sin(.25*Math.PI);function Sn(t){var n=t[0],e=t[1];return[n*Mn-e*kn,n*kn+e*Mn]}function An(t){var n=t[0],e=t[1];return[n*Mn+e*kn,e*Mn-n*kn]}function En(t,n,e,r){void 0===r&&(r=!0);var i=r?1:0,o=(e-t[i])/(n[i]-t[i]);if(o<0||o>1)return null;var a=r?0:1;return t[a]+o*(n[a]-t[a])}function jn(t){return void 0===t&&(t=!0),function(n){var e=n.source,r=n.sourcePadding,i=n.targetPadding,o=n.circle,a=n.circleRadius;return function(n){var u,c;o&&a&&(i+=a),r>0&&((e=Object.assign({},e)).x-=r,e.y-=r,e.width+=2*r,e.height+=2*r);var l=e.x+.5*e.width,s=e.y+.5*e.height,f=0,h=0,p=$n(l,s,f,h,.25,t),d=p[0],g=p[1],v=e.height/e.width,m=d-l,y=g-s;if(Math.abs(y/m)<v?(l+=.5*e.width*(m>0?1:-1),s+=.5*e.width*y/m*(m>0?1:-1)):(l+=.5*e.height*m/y*(y>0?1:-1),s+=.5*e.height*(y>0?1:-1)),d=(u=$n(l,s,f,h,.25,t))[0],g=u[1],i>0){var b=Math.atan2(-g,-d);d=(c=$n(l,s,f=-Math.cos(b)*i,h=-Math.sin(b)*i,.25,t))[0],g=c[1]}n.attr("d","M "+l+","+s+" Q "+d+","+g+" "+f+","+h)}}}function $n(t,n,e,r,i,o){void 0===i&&(i=.25),void 0===o&&(o=!0);var a=e-t,u=r-n,c=u,l=-a,s=.5*(t+e),f=.5*(n+r),h=Math.sqrt(c*c+l*l),p=Math.sqrt(a*a+u*u)*i/h*(o?-1:1);return[s+c*p,f+l*p]}var On=function(t){var n=t.source,e=t.sourcePadding,r=t.targetPadding,i=t.circle,o=t.circleRadius;return function(t){var a,u,c,l;i&&o&&(r+=o),e&&((n=Object.assign({},n)).x-=e,n.y-=e,n.width+=2*e,n.height+=2*e);var s=n.x+.5*n.width,f=n.y+.5*n.height,h=0,p=0,d=!0,g=-s,v=-f,m=n.height/n.width;if(2*Math.abs(s)<n.width)s=0,h=0,p=r*(f>0?1:-1),f+=.5*n.height*(f<0?1:-1),d=!1;else if(2*Math.abs(f)<n.height)f=0,p=0,h=r*(s>0?1:-1),s+=.5*n.width*(s<0?1:-1),d=!1;else{var y,b,w=Sn([-.5*n.width,0]),_=w[0],x=w[1],M=Sn([.5*n.width,0]),k=M[0],S=M[1],A=Sn([0,-.5*n.height]),E=A[0],j=A[1],$=Sn([0,.5*n.height]),O=$[0],N=$[1],z=Sn([-s,-f]),T=z[0],L=z[1];if(s>0&&f>0&&T>=_&&T<=E){var P=Sn([-.5*n.width,-.5*n.height]),D=P[0];y=(a=An([T,En(T<D?[_,x]:[E,j],[D,P[1]],T,!1)]))[0],b=a[1]}else if(s<0&&f<0&&T>=O&&T<=k){var C=Sn([.5*n.width,.5*n.height]),R=C[0];y=(u=An([T,En(T<R?[O,N]:[k,S],[R,C[1]],T,!1)]))[0],b=u[1]}else if(s>0&&f<0&&L>=x&&L<=N){var F=Sn([-.5*n.width,.5*n.height]),B=F[0],q=F[1];y=(c=An([En(L<q?[_,x]:[O,N],[B,q],L,!0),L]))[0],b=c[1]}else if(s<0&&f>0&&L>=j&&L<=S){var W=Sn([.5*n.width,-.5*n.height]),Y=W[0],H=W[1];y=(l=An([En(L<H?[E,j]:[k,S],[Y,H],L,!0),L]))[0],b=l[1]}else Math.abs(v/g)<m?(y=.5*n.width*(g>0?1:-1),b=.5*n.width*v/g*(g>0?1:-1)):(y=.5*n.height*g/v*(v>0?1:-1),b=.5*n.height*(v>0?1:-1));s+=y,f+=b}if(r>0&&d){g=-s,v=-f;var I=Math.atan2(v,g);h=-Math.cos(I)*r,p=-Math.sin(I)*r}t.attr("d","M "+s+","+f+" L "+h+","+p),t.classed("crisp",s.toFixed(1)===h.toFixed(1)||f.toFixed(1)===p.toFixed(1))}},Nn=jn(!0),zn=jn(!1),Tn=Object.freeze({__proto__:null,straight:On,curveLeft:Nn,curveRight:zn});function Ln(t){return void 0===t&&(t={}),t=Object.assign({},{sourcePadding:0,targetPadding:4,arrowHead:!1,type:"straight",circle:!1,circleRadius:15,strokeWidth:1,color:"black"},t),function(n){return n.each((function(n){var e=Object.assign({},t,n),r=ln(this).append("g.callout-line").attr("aria-hidden",!0);e.arrowHead&&(e.targetPadding+=e.strokeWidth,e.circleRadius+=e.strokeWidth);var i,o=r.append("path").style("stroke-width",e.strokeWidth).style("stroke",e.color).call(Tn[e.type](e));e.arrowHead&&function(t,n,e,r,i){var o=Pn[e];if(n.getTotalLength){var a=n.getTotalLength();if(0!==a){var u=n.getPointAtLength(a),c=n.getPointAtLength(a-10),l=Math.min(1,a/o.minLen/r),s=[u.x-c.x,u.y-c.y],f=s[0],h=s[1],p=Math.atan2(h,f)/Math.PI*180,d=t.append("path.callout-line-arrow-head").attr("d",o.path).attr("transform","translate("+u.x+", "+u.y+") rotate("+p+") scale("+r*l+") ").classed("callout-line-arrow-head-stroke",o.strokes);o.strokes?d.style("stroke",i).style("fill","none").style("stroke-width",1/l):d.style("fill",i).style("stroke","none")}}}(r,o.node(),e.arrowHead,e.strokeWidth,e.color),e.circle&&r.append("circle").style("stroke",e.color).style("stroke-width",e.strokeWidth).style("stroke-dasharray","dashed"===e.circleStyle?(i=e.strokeWidth,2+i+", "+(4+i)):void 0).attr("r",e.circleRadius-(e.arrowHead?e.strokeWidth:0))}))}}var Pn={triangle:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:20,path:"M-8.75,-3.75 L 1,0 L -8.75,3.75"},lines:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:15,path:"M-4.75,-3.75 L 0,0 L -4.75,3.75",strokes:!0}},Dn=Math.ceil,Cn=Math.max,Rn=function(t,n,e,r){for(var i=-1,o=Cn(Dn((n-t)/(e||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=e;return a},Fn=function(t,n){return t===n||t!=t&&n!=n},Bn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},qn="object"==Xt(Bn)&&Bn&&Bn.Object===Object&&Bn,Wn="object"==("undefined"==typeof self?"undefined":Xt(self))&&self&&self.Object===Object&&self,Yn=(qn||Wn||Function("return this")()).Symbol,Hn=Object.prototype,In=Hn.hasOwnProperty,Un=Hn.toString,Zn=Yn?Yn.toStringTag:void 0,Xn=function(t){var n=In.call(t,Zn),e=t[Zn];try{t[Zn]=void 0;var r=!0}catch(t){}var i=Un.call(t);return r&&(n?t[Zn]=e:delete t[Zn]),i},Vn=Object.prototype.toString,Gn=function(t){return Vn.call(t)},Kn=Yn?Yn.toStringTag:void 0,Jn=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Kn&&Kn in Object(t)?Xn(t):Gn(t)},Qn=function(t){var n=Xt(t);return null!=t&&("object"==n||"function"==n)},te=function(t){if(!Qn(t))return!1;var n=Jn(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n},ne=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},ee=function(t){return null!=t&&ne(t.length)&&!te(t)},re=/^(?:0|[1-9]\d*)$/,ie=function(t,n){var e=Xt(t);return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&re.test(t))&&t>-1&&t%1==0&&t<n},oe=function(t,n,e){if(!Qn(e))return!1;var r=Xt(n);return!!("number"==r?ee(e)&&ie(n,e.length):"string"==r&&n in e)&&Fn(e[n],t)},ae=function(t){return null!=t&&"object"==Xt(t)},ue=function(t){return"symbol"==Xt(t)||ae(t)&&"[object Symbol]"==Jn(t)},ce=/^\s+|\s+$/g,le=/^[-+]0x[0-9a-f]+$/i,se=/^0b[01]+$/i,fe=/^0o[0-7]+$/i,he=parseInt,pe=function(t){if("number"==typeof t)return t;if(ue(t))return NaN;if(Qn(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Qn(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ce,"");var e=se.test(t);return e||fe.test(t)?he(t.slice(2),e?2:8):le.test(t)?NaN:+t},de=function(t){return t?(t=pe(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},ge=function(t){return function(n,e,r){return r&&"number"!=typeof r&&oe(n,e,r)&&(e=r=void 0),n=de(n),void 0===e?(e=n,n=0):e=de(e),r=void 0===r?n<e?1:-1:de(r),Rn(n,e,r,t)}}();function ve(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function me(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function ye(){}var be="\\s*([+-]?\\d+)\\s*",we="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",_e="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xe=/^#([0-9a-f]{3,8})$/,Me=new RegExp("^rgb\\("+[be,be,be]+"\\)$"),ke=new RegExp("^rgb\\("+[_e,_e,_e]+"\\)$"),Se=new RegExp("^rgba\\("+[be,be,be,we]+"\\)$"),Ae=new RegExp("^rgba\\("+[_e,_e,_e,we]+"\\)$"),Ee=new RegExp("^hsl\\("+[we,_e,_e]+"\\)$"),je=new RegExp("^hsla\\("+[we,_e,_e,we]+"\\)$"),$e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Oe(){return this.rgb().formatHex()}function Ne(){return this.rgb().formatRgb()}function ze(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=xe.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Te(n):3===e?new Ce(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Le(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Le(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Me.exec(t))?new Ce(n[1],n[2],n[3],1):(n=ke.exec(t))?new Ce(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Se.exec(t))?Le(n[1],n[2],n[3],n[4]):(n=Ae.exec(t))?Le(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Ee.exec(t))?qe(n[1],n[2]/100,n[3]/100,1):(n=je.exec(t))?qe(n[1],n[2]/100,n[3]/100,n[4]):$e.hasOwnProperty(t)?Te($e[t]):"transparent"===t?new Ce(NaN,NaN,NaN,0):null}function Te(t){return new Ce(t>>16&255,t>>8&255,255&t,1)}function Le(t,n,e,r){return r<=0&&(t=n=e=NaN),new Ce(t,n,e,r)}function Pe(t){return t instanceof ye||(t=ze(t)),t?new Ce((t=t.rgb()).r,t.g,t.b,t.opacity):new Ce}function De(t,n,e,r){return 1===arguments.length?Pe(t):new Ce(t,n,e,null==r?1:r)}function Ce(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Re(){return"#"+Be(this.r)+Be(this.g)+Be(this.b)}function Fe(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Be(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function qe(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Ye(t,n,e,r)}function We(t){if(t instanceof Ye)return new Ye(t.h,t.s,t.l,t.opacity);if(t instanceof ye||(t=ze(t)),!t)return new Ye;if(t instanceof Ye)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new Ye(a,u,c,t.opacity)}function Ye(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function He(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Ie(t,n){return"translate("+Math.round(t)+"px, "+Math.round(n)+"px);"}function Ue(t){return!0===t||void 0===t}function Ze(t){return!(!Ue(t.showDesktop)||!1!==t.showMobile)}function Xe(t){return!1===t.showDesktop&&!1===t.showMobile}function Ve(t,n){return"function"==typeof n?n(t):t}ve(ye,ze,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Oe,formatHex:Oe,formatHsl:function(){return We(this).formatHsl()},formatRgb:Ne,toString:Ne}),ve(Ce,De,me(ye,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ce(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ce(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Re,formatHex:Re,formatRgb:Fe,toString:Fe})),ve(Ye,(function(t,n,e,r){return 1===arguments.length?We(t):new Ye(t,n,e,null==r?1:r)}),me(ye,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ye(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ye(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Ce(He(t>=240?t-240:t+120,i,r),He(t,i,r),He(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ge=180/Math.PI;function Ke(t,n){return Math.atan(t/n)*Ge}function Je(t,n,e){if(void 0===n&&(n=null),void 0===e&&(e=null),!n)return t;for(var r=n.split("."),i=t,o=0;o<r.length&&null!=i;o++)i=i[r[o]];return null==i?e:i}var Qe=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,tr=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;function nr(t,n){if(null===t)return null;if(void 0!==t){if((t=String(t)).indexOf("<")<0||t.indexOf(">")<0)return t;if(t=function(t,n){n=(((void 0!==n?n||"":"<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var e=t,r=t;;)if(r=(e=r).replace(tr,"").replace(Qe,(function(t,e){return n.indexOf("<"+e.toLowerCase()+">")>-1?t:""})),e===r)return r}(t,n),"undefined"==typeof document)return t;var e=document.createElement("div");e.innerHTML=t;for(var r=e.querySelectorAll("*"),i=0;i<r.length;i++){"a"===r[i].nodeName.toLowerCase()&&("_self"!==r[i].getAttribute("target")&&r[i].setAttribute("target","_blank"),r[i].setAttribute("rel","nofollow noopener noreferrer"),r[i].getAttribute("href")&&r[i].getAttribute("href").trim().replace(/[^a-zA-Z0-9 -:]/g,"").startsWith("javascript:")&&r[i].setAttribute("href",""));for(var o=[],a=0;a<r[i].attributes.length;a++){var u=r[i].attributes[a];u.specified&&"on"===u.name.substr(0,2)&&o.push(u.name)}o.forEach((function(t){return r[i].removeAttribute(t)}))}return e.innerHTML}}function er(t){var n,e,r;return{c:function(){n=f("div"),y(e=h("svg"),"width","1"),y(e,"height","1"),y(e,"class","svelte-t7ef7g"),y(n,"class","connector-line svelte-t7ef7g"),y(n,"aria-hidden","true"),y(n,"style",r="transform: "+Ie(t[9],t[10]))},m:function(r,i){c(r,n,i),u(n,e),t[57](e)},p:function(t,e){1536&e[0]&&r!==(r="transform: "+Ie(t[9],t[10]))&&y(n,"style",r)},d:function(e){e&&l(n),t[57](null)}}}function rr(t){var n,e,r,i;return{c:function(){n=f("div"),e=h("svg"),y(r=h("path"),"class","helper-line svelte-t7ef7g"),y(r,"d",i=t[27](t[0])),y(e,"width","1"),y(e,"height","1"),y(e,"class","svelte-t7ef7g"),y(n,"class","helper svelte-t7ef7g")},m:function(t,i){c(t,n,i),u(n,e),u(e,r)},p:function(t,n){134217729&n[0]&&i!==(i=t[27](t[0]))&&y(r,"d",i)},d:function(t){t&&l(n)}}}function ir(t){var n,e,r,i;return{c:function(){y(n=f("div"),"class","reference-point svelte-t7ef7g"),y(n,"style",e="transform: "+t[23]()),w(n,"hollow",t[22])},m:function(e,o){c(e,n,o),r||(i=v(n,"mousedown",m(t[32])),r=!0)},p:function(t,r){8388608&r[0]&&e!==(e="transform: "+t[23]())&&y(n,"style",e),4194304&r[0]&&w(n,"hollow",t[22])},d:function(t){t&&l(n),r=!1,i()}}}function or(t){var n,e;return{c:function(){y(n=f("div"),"class","offset-point svelte-t7ef7g"),y(n,"style",e="transform: "+t[25]())},m:function(t,e){c(t,n,e)},p:function(t,r){33554432&r[0]&&e!==(e="transform: "+t[25]())&&y(n,"style",e)},d:function(t){t&&l(n)}}}function ar(t){var n,e,r,i=nr(t[0].text)+"";return{c:function(){n=f("div"),y(e=f("span"),"class","export-text"),y(n,"class","shadow-text svelte-t7ef7g"),y(n,"aria-hidden","true"),y(n,"style",r=t[20](t[0])),w(n,"dw-bold",t[0].bold),w(n,"italic",t[0].italic),w(n,"underline",t[0].underline)},m:function(t,r){c(t,n,r),u(n,e),e.innerHTML=i},p:function(t,o){1&o[0]&&i!==(i=nr(t[0].text)+"")&&(e.innerHTML=i),1048577&o[0]&&r!==(r=t[20](t[0]))&&y(n,"style",r),1&o[0]&&w(n,"dw-bold",t[0].bold),1&o[0]&&w(n,"italic",t[0].italic),1&o[0]&&w(n,"underline",t[0].underline)},d:function(t){t&&l(n)}}}function ur(t){var n;function e(t,n){return t[12]?sr:lr}var r=e(t),i=r(t);return{c:function(){n=f("span"),i.c(),y(n,"class","export-text")},m:function(t,e){c(t,n,e),i.m(n,null)},p:function(t,o){r===(r=e(t))&&i?i.p(t,o):(i.d(1),(i=r(t))&&(i.c(),i.m(n,null)))},d:function(t){t&&l(n),i.d()}}}function cr(t){var n;function e(t,n){return t[12]?hr:fr}var r=e(t),i=r(t);return{c:function(){i.c(),n=g()},m:function(t,e){i.m(t,e),c(t,n,e)},p:function(t,o){r===(r=e(t))&&i?i.p(t,o):(i.d(1),(i=r(t))&&(i.c(),i.m(n.parentNode,n)))},d:function(t){i.d(t),t&&l(n)}}}function lr(t){var n,e,r=nr(t[0].text)+"";return{c:function(){e=g(),n=new x(e)},m:function(t,i){n.m(r,t,i),c(t,e,i)},p:function(t,e){1&e[0]&&r!==(r=nr(t[0].text)+"")&&n.p(r)},d:function(t){t&&l(e),t&&n.d()}}}function sr(t){var n,e=t[6].num+"";return{c:function(){n=p(e)},m:function(t,e){c(t,n,e)},p:function(t,r){64&r[0]&&e!==(e=t[6].num+"")&&b(n,e)},d:function(t){t&&l(n)}}}function fr(t){var n;function e(t,n){return t[1]&&t[13]?dr:pr}var r=e(t),i=r(t);return{c:function(){n=f("div"),i.c(),y(n,"class","text-background svelte-t7ef7g")},m:function(t,e){c(t,n,e),i.m(n,null)},p:function(t,o){r===(r=e(t))&&i?i.p(t,o):(i.d(1),(i=r(t))&&(i.c(),i.m(n,null)))},d:function(t){t&&l(n),i.d()}}}function hr(t){var n,e,r=t[6].num+"";return{c:function(){n=f("span"),e=p(r)},m:function(t,r){c(t,n,r),u(n,e)},p:function(t,n){64&n[0]&&r!==(r=t[6].num+"")&&b(e,r)},d:function(t){t&&l(n)}}}function pr(t){var n,e=nr(t[0].text)+"";return{c:function(){y(n=f("span"),"class","text-inner text-edit svelte-t7ef7g")},m:function(r,i){c(r,n,i),n.innerHTML=e,t[60](n)},p:function(t,r){1&r[0]&&e!==(e=nr(t[0].text)+"")&&(n.innerHTML=e)},d:function(e){e&&l(n),t[60](null)}}}function dr(t){var n,e,r,o=nr(t[17])+"";return{c:function(){y(n=f("span"),"contenteditable",""),y(n,"class","text-inner text-edit svelte-t7ef7g"),void 0===t[16]&&P((function(){return t[59].call(n)}))},m:function(i,a){c(i,n,a),n.innerHTML=o,t[58](n),void 0!==t[16]&&(n.innerHTML=t[16]),e||(r=[v(n,"input",t[59]),v(n,"input",t[33]),v(n,"blur",t[34])],e=!0)},p:function(t,e){131072&e[0]&&o!==(o=nr(t[17])+"")&&(n.innerHTML=o),65536&e[0]&&t[16]!==n.innerHTML&&(n.innerHTML=t[16])},d:function(o){o&&l(n),t[58](null),e=!1,i(r)}}}function gr(t){var n,e,r,i,o;function a(n){t[61].call(null,n)}function u(n){t[62].call(null,n)}function c(n){t[63].call(null,n)}var l={type:"text",annotation:t[0],index:t[7]};return void 0!==t[3]&&(l.noOffsetAtEventStart=t[3]),void 0!==t[4]&&(l.activeResizer=t[4]),void 0!==t[5]&&(l.resizing=t[5]),n=new gn({props:l}),$.push((function(){return X(n,"noOffsetAtEventStart",a)})),$.push((function(){return X(n,"activeResizer",u)})),$.push((function(){return X(n,"resizing",c)})),n.$on("selectAnnotation",t[64]),n.$on("setWidth",t[36]),{c:function(){V(n.$$.fragment)},m:function(t,e){G(n,t,e),o=!0},p:function(t,o){var a={};1&o[0]&&(a.annotation=t[0]),128&o[0]&&(a.index=t[7]),!e&&8&o[0]&&(e=!0,a.noOffsetAtEventStart=t[3],D((function(){return e=!1}))),!r&&16&o[0]&&(r=!0,a.activeResizer=t[4],D((function(){return r=!1}))),!i&&32&o[0]&&(i=!0,a.resizing=t[5],D((function(){return i=!1}))),n.$set(a)},i:function(t){o||(I(n.$$.fragment,t),o=!0)},o:function(t){U(n.$$.fragment,t),o=!1},d:function(t){K(n,t)}}}function vr(t){var n,e,r,o,a,s,h,p,g,b,_,x,M=t[0].connectorLine&&t[0].connectorLine.enabled&&er(t),k=t[26]&&rr(t),S=t[21]&&ir(t),A=t[24]&&or(t),E=t[0].bg&&t[28]&&!t[12]&&ar(t);function j(t,n){return t[8]?cr:ur}var $=j(t),O=$(t),N=t[8]&&!t[12]&&gr(t);return{c:function(){n=f("div"),M&&M.c(),e=d(),k&&k.c(),r=d(),S&&S.c(),o=d(),A&&A.c(),a=d(),E&&E.c(),s=d(),h=f("div"),O.c(),p=d(),N&&N.c(),y(h,"class","text svelte-t7ef7g"),y(h,"style",g=t[19](t[0])),w(h,"dw-bold",t[0].bold||t[12]),w(h,"italic",t[0].italic&&!t[12]),w(h,"underline",t[0].underline&&!t[12]),w(h,"dw-circle",t[12]),w(h,"num",t[12]),y(n,"class","text-annotation svelte-t7ef7g"),y(n,"role","listitem"),w(n,"hide",t[18]),w(n,"edit-mode",t[8]),w(n,"selected",t[13]),w(n,"editable",t[1]&&t[13]),w(n,"not-editable",!t[1]||!t[13]),w(n,"key",t[12]),w(n,"dragging",t[2]),w(n,"resizing",t[5])},m:function(i,l){c(i,n,l),M&&M.m(n,null),u(n,e),k&&k.m(n,null),u(n,r),S&&S.m(n,null),u(n,o),A&&A.m(n,null),u(n,a),E&&E.m(n,null),u(n,s),u(n,h),O.m(h,null),u(h,p),N&&N.m(h,null),t[65](h),b=!0,_||(x=[v(window,"keydown",t[35]),v(h,"mousedown",m(t[29])),v(h,"click",t[30]),v(h,"contextmenu",t[31])],_=!0)},p:function(t,i){t[0].connectorLine&&t[0].connectorLine.enabled?M?M.p(t,i):((M=er(t)).c(),M.m(n,e)):M&&(M.d(1),M=null),t[26]?k?k.p(t,i):((k=rr(t)).c(),k.m(n,r)):k&&(k.d(1),k=null),t[21]?S?S.p(t,i):((S=ir(t)).c(),S.m(n,o)):S&&(S.d(1),S=null),t[24]?A?A.p(t,i):((A=or(t)).c(),A.m(n,a)):A&&(A.d(1),A=null),t[0].bg&&t[28]&&!t[12]?E?E.p(t,i):((E=ar(t)).c(),E.m(n,s)):E&&(E.d(1),E=null),$===($=j(t))&&O?O.p(t,i):(O.d(1),(O=$(t))&&(O.c(),O.m(h,p))),t[8]&&!t[12]?N?(N.p(t,i),4352&i[0]&&I(N,1)):((N=gr(t)).c(),I(N,1),N.m(h,null)):N&&(Y(),U(N,1,1,(function(){N=null})),H()),(!b||524289&i[0]&&g!==(g=t[19](t[0])))&&y(h,"style",g),4097&i[0]&&w(h,"dw-bold",t[0].bold||t[12]),4097&i[0]&&w(h,"italic",t[0].italic&&!t[12]),4097&i[0]&&w(h,"underline",t[0].underline&&!t[12]),4096&i[0]&&w(h,"dw-circle",t[12]),4096&i[0]&&w(h,"num",t[12]),262144&i[0]&&w(n,"hide",t[18]),256&i[0]&&w(n,"edit-mode",t[8]),8192&i[0]&&w(n,"selected",t[13]),8194&i[0]&&w(n,"editable",t[1]&&t[13]),8194&i[0]&&w(n,"not-editable",!t[1]||!t[13]),4096&i[0]&&w(n,"key",t[12]),4&i[0]&&w(n,"dragging",t[2]),32&i[0]&&w(n,"resizing",t[5])},i:function(t){b||(I(N),b=!0)},o:function(t){U(N),b=!1},d:function(e){e&&l(n),M&&M.d(),k&&k.d(),S&&S.d(),A&&A.d(),E&&E.d(),O.d(),N&&N.d(),t[65](null),_=!1,i(x)}}}function mr(t,n,e){var r=n.annotation;void 0===r&&(r={});var i,o,a=n.dataToPx,u=n.pxToData,c=n.theme,l=Je(c,"colors.background",!1),s=Je(c,"style.chart.mobileAnnotations.icons.background",!1)||!!l&&function(t,n){void 0===n&&(n=1);var e=De(t);return e.opacity=n,e.formatRgb()}(l,.7)||"transparent",f=Je(c,"style.chart.textAnnotations.color",!1)||Je(c,"typography.chart.color",!1),h=n.cm,p=n.visWidth,d=n.isMobileWidth,g=n.key,v=0,m=0,y=0,b=0;function w(){var t=Ke(r.dy,r.dx)+90;return r.dx<0&&(t+=180),function(t){switch(!0){case t>337.5||t<=22.5:return"bc";case t>22.5&&t<=67.5:return"bl";case t>67.5&&t<=112.5:return"ml";case t>112.5&&t<=157.5:return"tl";case t>157.5&&t<=202.5:return"tc";case t>202.5&&t<=247.5:return"tr";case t>247.5&&t<=292.5:return"mr";case t>292.5&&t<=337.5:return"br";default:return"mc"}}(t)}function _(t){var n=N(r),e=n[0],i=n[1];return v>e-t&&v<e+y+t&&m>i-t&&m<i+b+t}S((function(){function t(){i&&(e(49,y=i.offsetWidth),e(50,b=i.offsetHeight),function(){if(r.connectorLine&&r.connectorLine.enabled){var t=ln(o);t.selectAll("*").remove();var n=N(r),e=n[0],i=n[1],a={x:e-v,y:i-m,width:y,height:b},u=r.connectorLine.arrowHead,c=function(){if(!O)return 4;var t=w();if(t.includes("c")||t.includes("m"))return 0;var n=(y*Math.sqrt(2)-y)/2;return-Math.sqrt(Math.pow(n,2)/2)}(),l=O?0:r.connectorLine.targetPadding,s=r.connectorLine.circle,h=r.connectorLine.circleStyle,p=r.connectorLine.circleRadius,d=r.connectorLine.type,g=O?1:r.connectorLine.stroke,x=f||"#222";r.connectorLine.inheritColor&&!O&&(x=k);var M=Ln({source:a,arrowHead:u,sourcePadding:c,targetPadding:l,circle:s,circleStyle:h,circleRadius:p,type:d,strokeWidth:g,color:x});t.call(M);var S=t.select(".callout-line").select("path").attr("d");(function(t,n){var e=t.replace("M","").replace("Q","").trim().replace(/ /g,",").split(","),r=Math.max(Math.abs(Number(e[0])),Math.abs(Number(e[1])))-n;return isNaN(r)&&(r=0),r})(S,l)<10||_(5)||function(t,n,e){if(t&&e){var r=n.indexOf("M ")+"M ".length,i=n.indexOf(" ",r),o=n.substring(r,i).split(",").map((function(t){return parseInt(t,10)}));return Math.pow(o[0]-0,2)+Math.pow(o[1]-0,2)<Math.pow(e,2)}}(s,S,p)?(t.selectAll("*").remove(),R&&X("updateEditorState",{hideConnectorLine:!0})):R&&X("updateEditorState",{hideConnectorLine:!1})}}())}G?t():(L(),z).then(t)}));var x,M,k,j,O,N,T,P,D,C,R,F,B,q,W,Y,H,I,U,Z,X=A(),V=n.index,G=n.editMode,K=n.isEditable,J=n.editorState,Q=n.moveX,tt=n.moveY,nt=n.dragging,et=n.noOffsetAtEventStart,rt=n.forceOffsetDrag,it=n.forceAnchorDrag,ot=n.forceAnchorDragTemp,at=n.activeResizer,ut=n.resizing,ct=r.text;return t.$$set=function(t){"annotation"in t&&e(0,r=t.annotation),"dataToPx"in t&&e(41,a=t.dataToPx),"pxToData"in t&&e(42,u=t.pxToData),"theme"in t&&e(43,c=t.theme),"cm"in t&&e(44,h=t.cm),"visWidth"in t&&e(45,p=t.visWidth),"isMobileWidth"in t&&e(46,d=t.isMobileWidth),"key"in t&&e(6,g=t.key),"index"in t&&e(7,V=t.index),"editMode"in t&&e(8,G=t.editMode),"isEditable"in t&&e(1,K=t.isEditable),"editorState"in t&&e(47,J=t.editorState),"moveX"in t&&e(37,Q=t.moveX),"moveY"in t&&e(38,tt=t.moveY),"dragging"in t&&e(2,nt=t.dragging),"noOffsetAtEventStart"in t&&e(3,et=t.noOffsetAtEventStart),"forceOffsetDrag"in t&&e(39,rt=t.forceOffsetDrag),"forceAnchorDrag"in t&&e(40,it=t.forceAnchorDrag),"forceAnchorDragTemp"in t&&e(48,ot=t.forceAnchorDragTemp),"activeResizer"in t&&e(4,at=t.activeResizer),"resizing"in t&&e(5,ut=t.resizing)},t.$$.update=function(){var n,i;if(1&t.$$.dirty[0]&&e(0,r.dx=+r.dx||0,r),1&t.$$.dirty[0]&&e(0,r.dy=+r.dy||0,r),128&t.$$.dirty[0]|65536&t.$$.dirty[1]&&e(13,R=1===J.selectedTextAnnotations.length&&J.selectedTextAnnotations[0]===V),8205&t.$$.dirty[0]|135104&t.$$.dirty[1]&&R&&nt&&(Q||tt)){if(et&&!rt||it||ot){var o=a(r.x,r.y),c=o[0],S=o[1],A=u(c+=Q,S+=tt),E=A[0],$=A[1];e(0,r.x=E,r),e(0,r.y=$,r)}else e(0,r.dx+=Q,r),e(0,r.dy+=tt,r);rt&&et&&!r.connectorLine.enabled&&!_(20)&&(e(0,r.connectorLine.enabled=!0,r),e(0,r.connectorLine.type="curveLeft",r)),e(37,Q=0),e(38,tt=0)}if(8249&t.$$.dirty[0]|19648&t.$$.dirty[1]&&R&&ut&&(Q||tt)){var z=Q/p*100,L=0;if(r.align.includes("c")?(L+=Q/2,"l"===at&&(z=-z)):r.align.includes("l")?"l"===at&&(L+=Q,z=-z):r.align.includes("r")&&("l"===at&&(z=-z),"r"===at&&(L+=Q)),et){var lt=a(r.x,r.y),st=lt[0],ft=lt[1],ht=u(st+=L,ft),pt=ht[0],dt=ht[1];e(0,r.x=pt,r),e(0,r.y=dt,r)}else e(0,r.dx+=L,r);e(0,r.width+=z,r),e(0,r.width=Math.max(5,r.width),r),e(37,Q=0)}1&t.$$.dirty[0]&&e(51,k=r.color||f||"#222"),1&t.$$.dirty[0]|32768&t.$$.dirty[1]&&e(18,j=Xe(r)||!(!Ue((i=r).showMobile)||!1!==i.showDesktop||d)||Ze(r)&&d),64&t.$$.dirty[0]&&e(12,O=g&&g.render),1&t.$$.dirty[0]|1024&t.$$.dirty[1]&&e(9,(n=a(r.x,r.y),v=n[0],m=n[1],n),v,(e(10,m),e(41,a),e(0,r),e(13,R),e(2,nt),e(37,Q),e(38,tt),e(3,et),e(39,rt),e(40,it),e(48,ot),e(42,u),e(5,ut),e(45,p),e(4,at),e(47,J),e(7,V))),1&t.$$.dirty[0]&&e(53,F=0===r.dx&&0===r.dy),5632&t.$$.dirty[0]|4980736&t.$$.dirty[1]&&e(52,N=function(t){var n,e=[v,m],i=e[0],o=e[1],a=t.align;O||(i+=t.dx,o+=t.dy),O&&!F&&(i=(n=function(t,n){var e=r.connectorLine.circle?Math.max(0,r.connectorLine.circleRadius):0,i=20+e,o=25+e,a=w(),u={br:[-i,-i],bc:[-o,0],bl:[-i,i],mr:[0,-o],mc:[-o-.5*b,0],ml:[0,o],tr:[i,-i],tc:[o,0],tl:[i,i]}[a],c=u[0];return[t+=u[1],n+=c]}(i,o))[0],o=n[1],a="mc");var u=a.charAt(1),c=a.charAt(0);return[i-=y*{l:0,c:.5,r:1}[u],o-=b*{t:0,m:.5,b:1}[c]]}),2097152&t.$$.dirty[1]&&e(54,T=function(t){var n=N(t);return Ie(n[0],n[1])}),4096&t.$$.dirty[0]|26222592&t.$$.dirty[1]&&e(19,D=function(t){var n=[];if(O){var e=f||"#222";n.push("color: "+Ve(e,h)),n.push("border-color: "+Ve(e,h)),n.push("background-color: "+Ve(s,h))}else n.push.apply(n,P(t)),n.push("color: "+Ve(k,h));return n.push("transform: "+T(t)),n.join("; ")}),25165824&t.$$.dirty[1]&&e(20,C=function(t){var n=[];return n.push.apply(n,P(t)),n.push("text-shadow: "+function(t,n,e){var r=[],i=ge(-t,t+1);return i.forEach((function(t){i.forEach((function(i){(t||i)&&r.push(t+"px "+i+"px "+(t&&i?0:n)+"px "+e)}))})),r.join(", ")}(2,2,l)),n.push("transform: "+T(t)),n.join("; ")}),2050&t.$$.dirty[0]&&!K&&x&&x.blur(),13824&t.$$.dirty[0]|786432&t.$$.dirty[1]&&R&&X("updateEditorState",{selectedAnnotationProps:{x:v,y:m,width:y,height:b,mobileFallback:O}}),1&t.$$.dirty[0]&&e(56,B="mc"===r.align),12544&t.$$.dirty[0]|37748736&t.$$.dirty[1]&&e(21,q=G&&R&&!O&&!(F&&B)),12544&t.$$.dirty[0]|4194304&t.$$.dirty[1]&&e(22,W=G&&R&&!O&&!F),1536&t.$$.dirty[0]&&e(23,Y=function(){var t=[v,m],n=t[0],e=t[1];return Ie(n-=2.5,e-=2.5)}),12544&t.$$.dirty[0]|37748736&t.$$.dirty[1]&&e(24,H=G&&R&&!O&&!F&&!B),1537&t.$$.dirty[0]&&e(25,I=function(){var t=[v,m],n=t[0],e=t[1];return n-=2.5,e-=2.5,Ie(n+=r.dx,e+=r.dy)}),1&t.$$.dirty[0]&&(document.activeElement.classList.contains("text-edit")||(e(16,M=nr(r.text)),e(17,ct=r.text))),12545&t.$$.dirty[0]|4194304&t.$$.dirty[1]&&e(26,U=G&&R&&!r.connectorLine.enabled&&!F&&!O),1536&t.$$.dirty[0]&&e(27,Z=function(t){var n=[v,m],e=n[0],r=n[1];return"M "+e+","+r+" L"+(e+t.dx)+","+(r+t.dy)})},e(55,P=function(t){var n=[];return t.width&&n.push("width: "+function(t){return p*(t.width/100)+"px"}(t)),n.push("font-size: "+(t.size||14)+"px"),n.push("min-height: "+(t.size||14)+"px"),n.push("text-align: "+function(t){return t.align?{l:"left",c:"center",r:"right"}[t.align.charAt(1)]:"center"}(t)),n}),[r,K,nt,et,at,ut,g,V,G,v,m,x,O,R,i,o,M,ct,j,D,C,q,W,Y,H,I,U,Z,l,function(t){if(G){sn(),X("selectAnnotation",{type:"text",index:V});var n="true"===t.target.contentEditable||"true"===t.target.parentNode.contentEditable;O||n&&R||(e(37,Q=0),e(38,tt=0),e(2,nt=!0),e(39,rt=t.ctrlKey),rt&&X("updateEditorState",{forceOffsetDrag:!0}),e(3,et=0===r.dx&&0===r.dy))}},function(t){G&&t.preventDefault()},function(t){G&&t.preventDefault()},function(t){G&&(sn(),X("selectAnnotation",{type:"text",index:V}),e(2,nt=!0),e(40,it=!0))},function(t){e(0,r.text=M.slice&&"&nbsp;"===M.slice(-6)&&"&nbsp;&nbsp;"!==M.slice(-12)?M.slice(0,-6)+" ":M,r),X("update")},function(){sn()},function(t){if(G&&!O){var n="ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key;if("Escape"===t.key&&R&&K)x.blur(),e(1,K=!1);else if("Escape"===t.key&&R)X("selectAnnotation",null);else if(n&&R&&!K){t.preventDefault();var i="ArrowLeft"===t.key?-1:"ArrowRight"===t.key?1:0,o="ArrowUp"===t.key?-1:"ArrowDown"===t.key?1:0;if(t.ctrlKey)e(0,r.dx+=i,r),e(0,r.dy+=o,r);else{var c=a(r.x,r.y),l=c[0],s=c[1],f=u(l+=i,s+=o),h=f[0],p=f[1];e(0,r.x=h,r),e(0,r.y=p,r)}X("update")}}},function(){e(0,r.width=y/p*100,r)},Q,tt,rt,it,a,u,c,h,p,d,J,ot,y,b,k,N,F,T,P,B,function(t){$[t?"unshift":"push"]((function(){e(15,o=t)}))},function(t){$[t?"unshift":"push"]((function(){e(11,x=t)}))},function(){M=this.innerHTML,e(16,M),e(0,r),e(13,R),e(2,nt),e(37,Q),e(38,tt),e(3,et),e(39,rt),e(40,it),e(48,ot),e(41,a),e(42,u),e(5,ut),e(45,p),e(4,at),e(47,J),e(7,V)},function(t){$[t?"unshift":"push"]((function(){e(11,x=t)}))},function(t){e(3,et=t)},function(t){e(4,at=t)},function(t){e(5,ut=t)},function(n){E(t,n)},function(t){$[t?"unshift":"push"]((function(){e(14,i=t)}))}]}var yr=function(t){function n(n){t.call(this),Q(this,n,mr,vr,a,{annotation:0,dataToPx:41,pxToData:42,theme:43,cm:44,visWidth:45,isMobileWidth:46,key:6,index:7,editMode:8,isEditable:1,editorState:47,moveX:37,moveY:38,dragging:2,noOffsetAtEventStart:3,forceOffsetDrag:39,forceAnchorDrag:40,forceAnchorDragTemp:48,activeResizer:4,resizing:5},[-1,-1,-1])}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(tt);function br(t){var n,e,r,i,o,a,u=t[3]&&_r(t);return{c:function(){n=f("div"),i=d(),u&&u.c(),o=g(),y(n,"class",e="range-annotation dw-rect range "+t[0].type+" svelte-11oj9tu"),y(n,"style",r=t[6](t[0]))},m:function(t,e){c(t,n,e),c(t,i,e),u&&u.m(t,e),c(t,o,e),a=!0},p:function(t,i){(!a||1&i&&e!==(e="range-annotation dw-rect range "+t[0].type+" svelte-11oj9tu"))&&y(n,"class",e),(!a||65&i&&r!==(r=t[6](t[0])))&&y(n,"style",r),t[3]?u?(u.p(t,i),8&i&&I(u,1)):((u=_r(t)).c(),I(u,1),u.m(o.parentNode,o)):u&&(Y(),U(u,1,1,(function(){u=null})),H())},i:function(t){a||(I(u),a=!0)},o:function(t){U(u),a=!1},d:function(t){t&&l(n),t&&l(i),u&&u.d(t),t&&l(o)}}}function wr(t){var n,e,r,i,o,a,u=t[3]&&xr(t);return{c:function(){n=f("div"),u&&u.c(),y(n,"class",e="range-annotation dw-line line "+t[0].type+" svelte-11oj9tu"),y(n,"style",r=t[7](t[0])),w(n,"edit-mode",t[3]),w(n,"no-edit-mode",!t[3]),w(n,"selected",t[5])},m:function(e,r){c(e,n,r),u&&u.m(n,null),i=!0,o||(a=v(n,"mousedown",m(t[21])),o=!0)},p:function(t,o){t[3]?u?(u.p(t,o),8&o&&I(u,1)):((u=xr(t)).c(),I(u,1),u.m(n,null)):u&&(Y(),U(u,1,1,(function(){u=null})),H()),(!i||1&o&&e!==(e="range-annotation dw-line line "+t[0].type+" svelte-11oj9tu"))&&y(n,"class",e),(!i||129&o&&r!==(r=t[7](t[0])))&&y(n,"style",r),9&o&&w(n,"edit-mode",t[3]),9&o&&w(n,"no-edit-mode",!t[3]),33&o&&w(n,"selected",t[5])},i:function(t){i||(I(u),i=!0)},o:function(t){U(u),i=!1},d:function(t){t&&l(n),u&&u.d(),o=!1,a()}}}function _r(t){var n,e,r,i,o,a,s,h,p,g,b;function _(n){t[25].call(null,n)}function x(n){t[26].call(null,n)}var M={type:"range",annotation:t[0],index:t[4],orientation:t[0].type};return void 0!==t[2]&&(M.activeResizer=t[2]),void 0!==t[1]&&(M.resizing=t[1]),i=new gn({props:M}),$.push((function(){return X(i,"activeResizer",_)})),$.push((function(){return X(i,"resizing",x)})),i.$on("selectAnnotation",t[27]),{c:function(){n=f("div"),(e=f("div")).innerHTML='<div class="dot svelte-11oj9tu"></div>',r=d(),V(i.$$.fragment),y(e,"class","dot-drag svelte-11oj9tu"),y(n,"style",s=t[6](t[0])),y(n,"class",h="range-annotation edit-mode range "+t[0].type+" svelte-11oj9tu"),w(n,"edit-mode",t[3]),w(n,"no-edit-mode",!t[3]),w(n,"selected",t[5])},m:function(o,a){c(o,n,a),u(n,e),u(n,r),G(i,n,null),p=!0,g||(b=v(e,"mousedown",m(t[9])),g=!0)},p:function(t,e){var r={};1&e&&(r.annotation=t[0]),16&e&&(r.index=t[4]),1&e&&(r.orientation=t[0].type),!o&&4&e&&(o=!0,r.activeResizer=t[2],D((function(){return o=!1}))),!a&&2&e&&(a=!0,r.resizing=t[1],D((function(){return a=!1}))),i.$set(r),(!p||65&e&&s!==(s=t[6](t[0])))&&y(n,"style",s),(!p||1&e&&h!==(h="range-annotation edit-mode range "+t[0].type+" svelte-11oj9tu"))&&y(n,"class",h),9&e&&w(n,"edit-mode",t[3]),9&e&&w(n,"no-edit-mode",!t[3]),33&e&&w(n,"selected",t[5])},i:function(t){p||(I(i.$$.fragment,t),p=!0)},o:function(t){U(i.$$.fragment,t),p=!1},d:function(t){t&&l(n),K(i),g=!1,b()}}}function xr(t){var n,e,r,i;function o(n){t[22].call(null,n)}function a(n){t[23].call(null,n)}var u={annotation:t[0],index:t[4],orientation:t[0].type};return void 0!==t[2]&&(u.activeResizer=t[2]),void 0!==t[1]&&(u.resizing=t[1]),n=new gn({props:u}),$.push((function(){return X(n,"activeResizer",o)})),$.push((function(){return X(n,"resizing",a)})),n.$on("selectAnnotation",t[24]),{c:function(){V(n.$$.fragment)},m:function(t,e){G(n,t,e),i=!0},p:function(t,i){var o={};1&i&&(o.annotation=t[0]),16&i&&(o.index=t[4]),1&i&&(o.orientation=t[0].type),!e&&4&i&&(e=!0,o.activeResizer=t[2],D((function(){return e=!1}))),!r&&2&i&&(r=!0,o.resizing=t[1],D((function(){return r=!1}))),n.$set(o)},i:function(t){i||(I(n.$$.fragment,t),i=!0)},o:function(t){U(n.$$.fragment,t),i=!1},d:function(t){K(n,t)}}}function Mr(t){var n,e,r,i,o,a,u=[wr,br],s=[];function f(t,n){return"line"===t[0].display?0:1}return n=f(t),e=s[n]=u[n](t),{c:function(){e.c(),r=g()},m:function(e,u){s[n].m(e,u),c(e,r,u),i=!0,o||(a=v(window,"keydown",t[8]),o=!0)},p:function(t,i){var o=i[0],a=n;(n=f(t))===a?s[n].p(t,o):(Y(),U(s[a],1,1,(function(){s[a]=null})),H(),(e=s[n])?e.p(t,o):(e=s[n]=u[n](t)).c(),I(e,1),e.m(r.parentNode,r))},i:function(t){i||(I(e),i=!0)},o:function(t){U(e),i=!1},d:function(t){s[n].d(t),t&&l(r),o=!1,a()}}}function kr(t,n,e){var r,i,o,a,u,c,l,s=n.annotation,f=n.dataToPx,h=n.pxToData,p=n.editorState,d=n.editMode,g=n.index,v=n.moveX,m=n.moveY,y=n.resizing,b=n.dragging,w=n.activeResizer,_=n.forceAnchorDragTemp,x=A();return t.$$set=function(t){"annotation"in t&&e(0,s=t.annotation),"dataToPx"in t&&e(13,f=t.dataToPx),"pxToData"in t&&e(14,h=t.pxToData),"editorState"in t&&e(15,p=t.editorState),"editMode"in t&&e(3,d=t.editMode),"index"in t&&e(4,g=t.index),"moveX"in t&&e(10,v=t.moveX),"moveY"in t&&e(11,m=t.moveY),"resizing"in t&&e(1,y=t.resizing),"dragging"in t&&e(12,b=t.dragging),"activeResizer"in t&&e(2,w=t.activeResizer),"forceAnchorDragTemp"in t&&e(16,_=t.forceAnchorDragTemp)},t.$$.update=function(){if(32784&t.$$.dirty&&e(5,r=1===p.selectedRangeAnnotations.length&&p.selectedRangeAnnotations[0]===g),93223&t.$$.dirty&&r&&y&&(v||m))if(["l","r"].includes(w)){var n,d=f(s.x0,0)[0],x=f(s.x1,0)[0];"l"===w&&"line"===s.display?n="x0":"l"===w?n=d>x?"x1":"x0":"r"===w&&(n=d>x?"x0":"x1");var M=f(s[n],0)[0],k=f(s["x1"===n?"x0":"x1"],0)[0];M-k>0!=M+v-k>0&&e(2,w="l"===w?"r":"l");var S=h(M+=v,0)[0];if(e(0,s[n]=S,s),_){var A=h(k-=v,0)[0];e(0,s["x1"===n?"x0":"x1"]=A,s)}e(10,v=0)}else{var E,j=f(0,s.y0)[1],$=f(0,s.y1)[1];"t"===w&&"line"===s.display?E="y0":"t"===w?E=j<$?"y0":"y1":"b"===w&&(E=j<$?"y1":"y0");var O=f(0,s[E]),N=O[0],z=O[1],T=f(0,s["y1"===E?"y0":"y1"])[1];z-T>0!=z+m-T>0&&e(2,w="t"===w?"b":"t");var L=h(N,z+=m),P=(L[0],L[1]);e(0,s[E]=P,s),e(11,m=0)}if(31777&t.$$.dirty&&r&&b&&(v||m))if("x"===s.type){var D=f(s.x0,0),C=D[0],R=(D[1],f(s.x1,0)),F=R[0];R[1],F+=v;var B=h(C+=v,0),q=B[0],W=(B[1],h(F,0)),Y=W[0];W[1],e(0,s.x0=q,s),e(0,s.x1=Y,s),e(10,v=0)}else{var H=f(0,s.y0),I=(H[0],H[1]),U=f(0,s.y1),Z=(U[0],U[1]);Z+=m;var X=h(0,I+=m),V=(X[0],X[1]),G=h(0,Z),K=(G[0],G[1]);e(0,s.y0=V,s),e(0,s.y1=K,s),e(11,m=0)}8193&t.$$.dirty&&e(17,i="x"===s.type?f(s.x0,0)[0]:f(0,s.y0)[1]),8193&t.$$.dirty&&e(18,o="x"===s.type?f(s.x1,0)[0]:f(0,s.y1)[1]),393216&t.$$.dirty&&e(19,a=Math.min(i,o)),393216&t.$$.dirty&&e(20,u=Math.max(i,o)),1572864&t.$$.dirty&&e(6,c=function(t){var n=[],e=ze(t.color),r=t.opacity/100;return n.push("background-color: rgba("+e.r+", "+e.g+", "+e.b+", "+r+")"),n.push(("x"===t.type?"left":"top")+": "+a+"px"),n.push(("x"===t.type?"width":"height")+": "+(u-a)+"px"),n.join("; ")}),131072&t.$$.dirty&&e(7,l=function(t){var n=[];n.push(("x"===t.type?"left":"top")+": "+i+"px");var e=ze(t.color),r=t.opacity/100;return n.push("border-color: rgba("+e.r+", "+e.g+", "+e.b+", "+r+")"),"x"===t.type?n.push("border-left-width: "+(t.strokeWidth||1)+"px"):n.push("border-top-width: "+(t.strokeWidth||1)+"px"),"dashed"===t.strokeType?n.push("border-style: dashed"):"dotted"===t.strokeType?n.push("border-style: dotted"):n.push("border-style: solid"),n.join("; ")})},[s,y,w,d,g,r,c,l,function(t){d&&"Escape"===t.key&&r&&x("selectAnnotation",null)},function(t){d&&(x("selectAnnotation",{type:"range",index:g}),e(12,b=!0))},v,m,b,f,h,p,_,i,o,a,u,function(n){E(t,n)},function(t){e(2,w=t),e(5,r),e(1,y),e(10,v),e(11,m),e(13,f),e(0,s),e(14,h),e(16,_),e(15,p),e(4,g),e(12,b)},function(t){e(1,y=t)},function(n){E(t,n)},function(t){e(2,w=t),e(5,r),e(1,y),e(10,v),e(11,m),e(13,f),e(0,s),e(14,h),e(16,_),e(15,p),e(4,g),e(12,b)},function(t){e(1,y=t)},function(n){E(t,n)}]}var Sr=function(t){function n(n){t.call(this),Q(this,n,kr,Mr,a,{annotation:0,dataToPx:13,pxToData:14,editorState:15,editMode:3,index:4,moveX:10,moveY:11,resizing:1,dragging:12,activeResizer:2,forceAnchorDragTemp:16})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(tt);function Ar(t){if(!t||"object"!=Xt(t))return t;try{return JSON.parse(JSON.stringify(t))}catch(n){return t}}var Er=Z.document;function jr(t,n,e){var r=t.slice();return r[67]=n[e],r[69]=e,r}function $r(t,n,e){var r=t.slice();return r[67]=n[e],r[69]=e,r}function Or(t){var n,e,r,i,o,a,u,c,l,s,f;function h(n){t[43].call(null,n)}function p(n){t[44].call(null,n)}function d(n){t[45].call(null,n)}function g(n){t[46].call(null,n)}function v(n){t[47].call(null,n)}function m(n){t[48].call(null,n)}function y(n){t[49].call(null,n)}function b(n){t[50].call(null,n)}function w(n){t[51].call(null,n)}var _={annotation:t[67],dataToPx:t[1],pxToData:t[2],theme:t[3],cm:t[4],visWidth:t[5],isMobileWidth:t[15],index:t[25].length-1-t[69],editMode:t[7],editorState:t[0],forceAnchorDragTemp:t[22],key:t[16][t[25].length-1-t[69]]};return void 0!==t[19]&&(_.noOffsetAtEventStart=t[19]),void 0!==t[24]&&(_.isEditable=t[24]),void 0!==t[11]&&(_.dragging=t[11]),void 0!==t[21]&&(_.forceAnchorDrag=t[21]),void 0!==t[20]&&(_.forceOffsetDrag=t[20]),void 0!==t[9]&&(_.moveX=t[9]),void 0!==t[10]&&(_.moveY=t[10]),void 0!==t[12]&&(_.resizing=t[12]),void 0!==t[23]&&(_.activeResizer=t[23]),n=new yr({props:_}),$.push((function(){return X(n,"noOffsetAtEventStart",h)})),$.push((function(){return X(n,"isEditable",p)})),$.push((function(){return X(n,"dragging",d)})),$.push((function(){return X(n,"forceAnchorDrag",g)})),$.push((function(){return X(n,"forceOffsetDrag",v)})),$.push((function(){return X(n,"moveX",m)})),$.push((function(){return X(n,"moveY",y)})),$.push((function(){return X(n,"resizing",b)})),$.push((function(){return X(n,"activeResizer",w)})),n.$on("selectAnnotation",t[28]),n.$on("updateEditorState",t[29]),n.$on("update",t[52]),{c:function(){V(n.$$.fragment)},m:function(t,e){G(n,t,e),f=!0},p:function(t,f){var h={};33554432&f[0]&&(h.annotation=t[67]),2&f[0]&&(h.dataToPx=t[1]),4&f[0]&&(h.pxToData=t[2]),8&f[0]&&(h.theme=t[3]),16&f[0]&&(h.cm=t[4]),32&f[0]&&(h.visWidth=t[5]),32768&f[0]&&(h.isMobileWidth=t[15]),33554432&f[0]&&(h.index=t[25].length-1-t[69]),128&f[0]&&(h.editMode=t[7]),1&f[0]&&(h.editorState=t[0]),4194304&f[0]&&(h.forceAnchorDragTemp=t[22]),33619968&f[0]&&(h.key=t[16][t[25].length-1-t[69]]),!e&&524288&f[0]&&(e=!0,h.noOffsetAtEventStart=t[19],D((function(){return e=!1}))),!r&&16777216&f[0]&&(r=!0,h.isEditable=t[24],D((function(){return r=!1}))),!i&&2048&f[0]&&(i=!0,h.dragging=t[11],D((function(){return i=!1}))),!o&&2097152&f[0]&&(o=!0,h.forceAnchorDrag=t[21],D((function(){return o=!1}))),!a&&1048576&f[0]&&(a=!0,h.forceOffsetDrag=t[20],D((function(){return a=!1}))),!u&&512&f[0]&&(u=!0,h.moveX=t[9],D((function(){return u=!1}))),!c&&1024&f[0]&&(c=!0,h.moveY=t[10],D((function(){return c=!1}))),!l&&4096&f[0]&&(l=!0,h.resizing=t[12],D((function(){return l=!1}))),!s&&8388608&f[0]&&(s=!0,h.activeResizer=t[23],D((function(){return s=!1}))),n.$set(h)},i:function(t){f||(I(n.$$.fragment,t),f=!0)},o:function(t){U(n.$$.fragment,t),f=!1},d:function(t){K(n,t)}}}function Nr(t){var n,e,r,i,o,a,u;function c(n){t[54].call(null,n)}function l(n){t[55].call(null,n)}function s(n){t[56].call(null,n)}function f(n){t[57].call(null,n)}function h(n){t[58].call(null,n)}var p={annotation:t[67],dataToPx:t[1],pxToData:t[2],visWidth:t[5],editMode:t[7],editorState:t[0],forceAnchorDragTemp:t[22],index:t[26].length-1-t[69]};return void 0!==t[11]&&(p.dragging=t[11]),void 0!==t[9]&&(p.moveX=t[9]),void 0!==t[10]&&(p.moveY=t[10]),void 0!==t[12]&&(p.resizing=t[12]),void 0!==t[23]&&(p.activeResizer=t[23]),n=new Sr({props:p}),$.push((function(){return X(n,"dragging",c)})),$.push((function(){return X(n,"moveX",l)})),$.push((function(){return X(n,"moveY",s)})),$.push((function(){return X(n,"resizing",f)})),$.push((function(){return X(n,"activeResizer",h)})),n.$on("selectAnnotation",t[28]),{c:function(){V(n.$$.fragment)},m:function(t,e){G(n,t,e),u=!0},p:function(t,u){var c={};67108864&u[0]&&(c.annotation=t[67]),2&u[0]&&(c.dataToPx=t[1]),4&u[0]&&(c.pxToData=t[2]),32&u[0]&&(c.visWidth=t[5]),128&u[0]&&(c.editMode=t[7]),1&u[0]&&(c.editorState=t[0]),4194304&u[0]&&(c.forceAnchorDragTemp=t[22]),67108864&u[0]&&(c.index=t[26].length-1-t[69]),!e&&2048&u[0]&&(e=!0,c.dragging=t[11],D((function(){return e=!1}))),!r&&512&u[0]&&(r=!0,c.moveX=t[9],D((function(){return r=!1}))),!i&&1024&u[0]&&(i=!0,c.moveY=t[10],D((function(){return i=!1}))),!o&&4096&u[0]&&(o=!0,c.resizing=t[12],D((function(){return o=!1}))),!a&&8388608&u[0]&&(a=!0,c.activeResizer=t[23],D((function(){return a=!1}))),n.$set(c)},i:function(t){u||(I(n.$$.fragment,t),u=!0)},o:function(t){U(n.$$.fragment,t),u=!1},d:function(t){K(n,t)}}}function zr(t){var n,e,r;return{c:function(){y(n=f("div"),"class",e="create-rect "+t[0].createMode+" svelte-1r6aetx"),y(n,"style",r=t[27]())},m:function(t,e){c(t,n,e)},p:function(t,i){1&i[0]&&e!==(e="create-rect "+t[0].createMode+" svelte-1r6aetx")&&y(n,"class",e),134217728&i[0]&&r!==(r=t[27]())&&y(n,"style",r)},d:function(t){t&&l(n)}}}function Tr(t){var n,e,r,o,a,h,p,g,m;P(t[42]);for(var b=t[25],_=[],x=0;x<b.length;x+=1)_[x]=Or($r(t,b,x));for(var M=function(t){return U(_[t],1,1,(function(){_[t]=null}))},k=t[26],S=[],A=0;A<k.length;A+=1)S[A]=Nr(jr(t,k,A));var E=function(t){return U(S[t],1,1,(function(){S[t]=null}))},j=t[7]&&t[13]&&zr(t);return{c:function(){n=d(),e=f("div"),r=f("div");for(var i=0;i<_.length;i+=1)_[i].c();o=d(),a=f("div");for(var u=0;u<S.length;u+=1)S[u].c();h=d(),j&&j.c(),y(r,"class","text-annotations"),y(r,"aria-label",t[6]),y(r,"role","list"),y(a,"class","range-annotations svelte-1r6aetx"),y(e,"class","annotations-inner svelte-1r6aetx"),w(e,"editing",t[14]),w(e,"create-mode",t[0].createMode),w(e,"creating",t[13])},m:function(i,l){c(i,n,l),c(i,e,l),u(e,r);for(var s=0;s<_.length;s+=1)_[s].m(r,null);t[53](r),u(e,o),u(e,a);for(var f=0;f<S.length;f+=1)S[f].m(a,null);var d;u(e,h),j&&j.m(e,null),t[59](e),p=!0,g||(m=[v(window,"keydown",t[30]),v(window,"mousedown",t[31]),v(window,"mousemove",t[32]),v(window,"mouseup",t[33]),v(window,"resize",t[42]),v(Er.body,"mouseleave",t[34]),v(e,"mousedown",(d=t[35],function(t){return t.preventDefault(),d.call(this,t)}))],g=!0)},p:function(t,n){if(871997119&n[0]){var i;for(b=t[25],i=0;i<b.length;i+=1){var o=$r(t,b,i);_[i]?(_[i].p(o,n),I(_[i],1)):(_[i]=Or(o),_[i].c(),I(_[i],1),_[i].m(r,null))}for(Y(),i=b.length;i<_.length;i+=1)M(i);H()}if((!p||64&n[0])&&y(r,"aria-label",t[6]),348135079&n[0]){var u;for(k=t[26],u=0;u<k.length;u+=1){var c=jr(t,k,u);S[u]?(S[u].p(c,n),I(S[u],1)):(S[u]=Nr(c),S[u].c(),I(S[u],1),S[u].m(a,null))}for(Y(),u=k.length;u<S.length;u+=1)E(u);H()}t[7]&&t[13]?j?j.p(t,n):((j=zr(t)).c(),j.m(e,null)):j&&(j.d(1),j=null),16384&n[0]&&w(e,"editing",t[14]),1&n[0]&&w(e,"create-mode",t[0].createMode),8192&n[0]&&w(e,"creating",t[13])},i:function(t){if(!p){for(var n=0;n<b.length;n+=1)I(_[n]);for(var e=0;e<k.length;e+=1)I(S[e]);p=!0}},o:function(t){_=_.filter(Boolean);for(var n=0;n<_.length;n+=1)U(_[n]);S=S.filter(Boolean);for(var e=0;e<S.length;e+=1)U(S[e]);p=!1},d:function(r){r&&l(n),r&&l(e),s(_,r),t[53](null),s(S,r),j&&j.d(),t[59](null),g=!1,i(m)}}}function Lr(t,n,e){var r=n.textAnnotations;void 0===r&&(r=[]);var i=n.rangeAnnotations;void 0===i&&(i=[]);var o,a,u=n.dataToPx,c=n.pxToData,l=n.theme,s=n.cm,f=n.visWidth,h=n.annotationKeysSel,p=n.ariaLabel;void 0===p&&(p="");var d=n.editMode;void 0===d&&(d=!1);var g,v=n.editorState;void 0===v&&(v={defaults:{},selectedTextAnnotations:[],selectedRangeAnnotations:[],createMode:!1,hideConnectorLine:!1,forceOffsetDrag:!1,pxToData:null,selectedAnnotationProps:{x:null,y:null,width:null,height:null,mobileFallback:!1}}),S((function(){v&&(e(0,v.width=g.offsetWidth,v),e(0,v.height=g.offsetHeight,v))}));var m,y,b,w,_,x=0,M=0,j=!1,O=!1,N=!1,z=0,T=0,L=!1,P=!1;function D(){e(19,m=!1),e(20,y=!1),e(21,b=!1),e(22,w=!1),e(0,v.forceOffsetDrag=!1,v),e(11,j=!1),O=!1,e(12,N=!1)}function C(){e(9,x=0),e(10,M=0),e(39,z=0),e(40,T=0),e(13,L=!1),e(0,v.createMode=!1,v)}var R,F=A();R=function(){d&&F("update")},k().$$.before_update.push(R);var B,q,W,Y,H,I,U=!1,Z=document.querySelector(".dw-chart-body");return t.$$set=function(t){"textAnnotations"in t&&e(36,r=t.textAnnotations),"rangeAnnotations"in t&&e(37,i=t.rangeAnnotations),"dataToPx"in t&&e(1,u=t.dataToPx),"pxToData"in t&&e(2,c=t.pxToData),"theme"in t&&e(3,l=t.theme),"cm"in t&&e(4,s=t.cm),"visWidth"in t&&e(5,f=t.visWidth),"annotationKeysSel"in t&&e(38,h=t.annotationKeysSel),"ariaLabel"in t&&e(6,p=t.ariaLabel),"editMode"in t&&e(7,d=t.editMode),"editorState"in t&&e(0,v=t.editorState)},t.$$.update=function(){if(32&t.$$.dirty[1]&&e(25,B=[].concat(r).reverse()),64&t.$$.dirty[1]&&e(26,q=[].concat(i).reverse()),256&t.$$.dirty[0]&&e(15,W=o<=450),32768&t.$$.dirty[0]|32&t.$$.dirty[1]&&e(41,Y=function(){var t=0;return r.map((function(n){var e=W&&n.mobileFallback&&!Ze(n)&&!Xe(n);return e&&t++,{render:e,num:e?t:null}}))}),1024&t.$$.dirty[1]&&e(16,H=Y()),98304&t.$$.dirty[0]|160&t.$$.dirty[1]&&(h.classed("hide",!0).html(""),W)){var n=!1;r.forEach((function(t,e){var r=H[e];r.render&&(n=!0,h.append("div.key").html('<div class="num dw-circle dw-bold"><span class="export-text">'+r.num+'</span></div><span class="text export-text">'+nr(t.text)+"</span>"))})),h.classed("hide",!n)}5&t.$$.dirty[0]&&v&&e(0,v.pxToData=c,v),3&t.$$.dirty[0]&&v&&e(0,v.dataToPx=u,v),1537&t.$$.dirty[0]|768&t.$$.dirty[1]&&e(27,I=function(){var t=[];if("text"===v.createMode){if(Math.abs(x)<1)return;return t.push("top: "+(M>0?T:T+M)+"px"),t.push("height: "+(M>0?M:-M)+"px"),t.push("left: "+(x>0?z:z+x)+"px"),t.push("width: "+(x>0?x:-x)+"px"),t.join("; ")}if("range"===v.createMode){if(Math.abs(x)<1&&Math.abs(M)<1)return;Math.abs(M)>Math.abs(x)?(t.push("top: "+(M<0?T+M:T)+"px"),t.push("left: 0px"),t.push("width: 100%"),t.push("height: "+Math.abs(M)+"px")):(t.push("top: 0px"),t.push("left: "+(x<0?z+x:z)+"px"),t.push("height: 100%"),t.push("width: "+Math.abs(x)+"px"))}return t.join("; ")}),30720&t.$$.dirty[0]&&(e(14,U=j||N||L),Z&&(U?Z.classList.add("editing-annotations"):Z.classList.remove("editing-annotations")))},[v,u,c,l,s,f,p,d,o,x,M,j,N,L,U,W,H,a,g,m,y,b,w,_,P,B,q,I,function(t){if(null===t.detail)return e(0,v.selectedTextAnnotations=[],v),e(0,v.selectedRangeAnnotations=[],v),void e(24,P=!1);if("text"===t.detail.type){var n=v.selectedTextAnnotations,r=n.length>1;(n[0]!==t.detail.index||r)&&(e(24,P=!1),e(0,v.selectedTextAnnotations=[t.detail.index],v),e(0,v.selectedRangeAnnotations=[],v))}else e(0,v.selectedRangeAnnotations=[t.detail.index],v),e(0,v.selectedTextAnnotations=[],v)},function(t){var n=Object.entries(t.detail)[0],r=n[0],i=n[1];e(0,v[r]=i,v)},function(t){d&&"Escape"===t.key&&L&&C()},function(t){d&&(e(0,v.selectedTextAnnotations=[],v),e(0,v.selectedRangeAnnotations=[],v))},function(t){d&&((j||L||N&&["l","r"].includes(_))&&(e(9,x+=t.movementX),t.movementX&&(e(24,P=!1),O=!0)),(j||L||N&&["t","b"].includes(_))&&(e(10,M+=t.movementY),t.movementY&&(e(24,P=!1),O=!0)),e(22,w=!1),t.ctrlKey&&!m&&e(22,w=!0))},function(t){d&&(O||e(24,P=t.target.classList.contains("text-edit")||t.target.parentNode.classList&&t.target.parentNode.classList.contains("text-edit")),D(),L&&(function(){if("text"===v.createMode){var t=c(z,T),n=t[0],o=t[1],a=function(t,n){var e=t<0,r=n<0;return e&&r?"br":e&&!r?"tr":!e&&r?"bl":"tl"}(x,M),u=Math.abs(x/f*100),l=Object.assign({},Ar(v.defaults.text),{x:n,y:o,align:a,width:u});Math.abs(x)<10&&Math.abs(M)<10&&(l.width=25,l.align="mc",l.dy=T<100?50:-50,l.connectorLine.enabled=!0),W&&(l.mobileFallback=!1),r.unshift(l),e(36,r)}else if("range"===v.createMode){var s=c(z,T),h=s[0],p=s[1],d=c(z+x,T+M),g=d[0],m=d[1],y=Math.abs(x)>Math.abs(M)?"x":"y",b="range";("x"===y&&Math.abs(x)<10||"y"===y&&Math.abs(M)<10)&&(b="line");var w=Object.assign({},Ar(v.defaults[b]),{type:y,display:b,x0:h,x1:g,y0:p,y1:m});i.unshift(w),e(37,i)}}(),function(){if("text"===v.createMode){if(e(0,v.selectedTextAnnotations=[0],v),e(0,v.selectedRangeAnnotations=[],v),Y()[0].render)return;e(24,P=!0),setTimeout((function(){var t=r.length-1,n=a.querySelectorAll(".text-annotation")[t].querySelector(".text-edit");n.focus(),function(t){var n=document.createRange();n.selectNodeContents(t);var e=window.getSelection();e.removeAllRanges(),e.addRange(n)}(n)}))}"range"===v.createMode&&(e(0,v.selectedTextAnnotations=[],v),e(0,v.selectedRangeAnnotations=[0],v))}(),C()))},function(){d&&(j||N)&&D()},function(t){d&&v.createMode&&(e(13,L=!0),e(39,z=t.offsetX),e(40,T=t.offsetY))},r,i,h,z,T,Y,function(){e(8,o=window.innerWidth)},function(t){e(19,m=t)},function(t){e(24,P=t)},function(t){e(11,j=t)},function(t){e(21,b=t)},function(t){e(20,y=t)},function(t){e(9,x=t)},function(t){e(10,M=t)},function(t){e(12,N=t)},function(t){e(23,_=t)},function(n){E(t,n)},function(t){$[t?"unshift":"push"]((function(){e(17,a=t)}))},function(t){e(11,j=t)},function(t){e(9,x=t)},function(t){e(10,M=t)},function(t){e(12,N=t)},function(t){e(23,_=t)},function(t){$[t?"unshift":"push"]((function(){e(18,g=t)}))}]}return function(t){function n(n){t.call(this),Q(this,n,Lr,Tr,a,{textAnnotations:36,rangeAnnotations:37,dataToPx:1,pxToData:2,theme:3,cm:4,visWidth:5,annotationKeysSel:38,ariaLabel:6,editMode:7,editorState:0},[-1,-1,-1])}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(tt)}()}));bt.prototype.translate=$i,bt.prototype.append=Ni,bt.prototype.insert=Ti,bt.prototype.parent=Li,bt.prototype.selectAppend=Pi,bt.prototype.tspans=Di,bt.prototype.appendMany=Ci,bt.prototype.at=Fi,bt.prototype.st=qi,bt.prototype.prop=bt.prototype.property;var Hl="1.13.1",Il="object"==("undefined"==typeof self?"undefined":Xt(self))&&self.self===self&&self||"object"==("undefined"==typeof global?"undefined":Xt(global))&&global.global===global&&global||Function("return this")()||{},Ul=Array.prototype,Zl=Object.prototype,Xl="undefined"!=typeof Symbol?Symbol.prototype:null,Vl=Ul.push,Gl=Ul.slice,Kl=Zl.toString,Jl=Zl.hasOwnProperty,Ql="undefined"!=typeof ArrayBuffer,ts="undefined"!=typeof DataView,ns=Array.isArray,es=Object.keys,rs=Object.create,is=Ql&&ArrayBuffer.isView,os=isNaN,as=isFinite,us=!{toString:null}.propertyIsEnumerable("toString"),cs=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ls=Math.pow(2,53)-1;function ss(t,n){return n=null==n?t.length-1:+n,function(){for(var e=Math.max(arguments.length-n,0),r=Array(e),i=0;i<e;i++)r[i]=arguments[i+n];switch(n){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(n+1);for(i=0;i<n;i++)o[i]=arguments[i];return o[n]=r,t.apply(this,o)}}function fs(t){var n=Xt(t);return"function"===n||"object"===n&&!!t}function hs(t){return void 0===t}function ps(t){return!0===t||!1===t||"[object Boolean]"===Kl.call(t)}function ds(t){var n="[object "+t+"]";return function(t){return Kl.call(t)===n}}var gs=ds("String"),vs=ds("Number"),ms=ds("Date"),ys=ds("RegExp"),bs=ds("Error"),ws=ds("Symbol"),_s=ds("ArrayBuffer"),xs=ds("Function"),Ms=Il.document&&Il.document.childNodes;"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":Xt(Int8Array))&&"function"!=typeof Ms&&(xs=function(t){return"function"==typeof t||!1});var ks=xs,Ss=ds("Object"),As=ts&&Ss(new DataView(new ArrayBuffer(8))),Es="undefined"!=typeof Map&&Ss(new Map),js=ds("DataView");var $s=As?function(t){return null!=t&&ks(t.getInt8)&&_s(t.buffer)}:js,Os=ns||ds("Array");function Ns(t,n){return null!=t&&Jl.call(t,n)}var zs=ds("Arguments");!function(){zs(arguments)||(zs=function(t){return Ns(t,"callee")})}();var Ts=zs;function Ls(t){return vs(t)&&os(t)}function Ps(t){return function(){return t}}function Ds(t){return function(n){var e=t(n);return"number"==typeof e&&e>=0&&e<=ls}}function Cs(t){return function(n){return null==n?void 0:n[t]}}var Rs=Cs("byteLength"),Fs=Ds(Rs),Bs=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var qs=Ql?function(t){return is?is(t)&&!$s(t):Fs(t)&&Bs.test(Kl.call(t))}:Ps(!1),Ws=Cs("length");function Ys(t,n){n=function(t){for(var n={},e=t.length,r=0;r<e;++r)n[t[r]]=!0;return{contains:function(t){return n[t]},push:function(e){return n[e]=!0,t.push(e)}}}(n);var e=cs.length,r=t.constructor,i=ks(r)&&r.prototype||Zl,o="constructor";for(Ns(t,o)&&!n.contains(o)&&n.push(o);e--;)(o=cs[e])in t&&t[o]!==i[o]&&!n.contains(o)&&n.push(o)}function Hs(t){if(!fs(t))return[];if(es)return es(t);var n=[];for(var e in t)Ns(t,e)&&n.push(e);return us&&Ys(t,n),n}function Is(t){if(null==t)return!0;var n=Ws(t);return"number"==typeof n&&(Os(t)||gs(t)||Ts(t))?0===n:0===Ws(Hs(t))}function Us(t,n){var e=Hs(n),r=e.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=e[o];if(n[a]!==i[a]||!(a in i))return!1}return!0}function Zs(t){return t instanceof Zs?t:this instanceof Zs?void(this._wrapped=t):new Zs(t)}function Xs(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Rs(t))}Zs.VERSION=Hl,Zs.prototype.value=function(){return this._wrapped},Zs.prototype.valueOf=Zs.prototype.toJSON=Zs.prototype.value,Zs.prototype.toString=function(){return String(this._wrapped)};var Vs="[object DataView]";function Gs(t,n,e,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var i=Xt(t);return("function"===i||"object"===i||"object"==Xt(n))&&Ks(t,n,e,r)}function Ks(t,n,e,r){t instanceof Zs&&(t=t._wrapped),n instanceof Zs&&(n=n._wrapped);var i=Kl.call(t);if(i!==Kl.call(n))return!1;if(As&&"[object Object]"==i&&$s(t)){if(!$s(n))return!1;i=Vs}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return Xl.valueOf.call(t)===Xl.valueOf.call(n);case"[object ArrayBuffer]":case Vs:return Ks(Xs(t),Xs(n),e,r)}var o="[object Array]"===i;if(!o&&qs(t)){if(Rs(t)!==Rs(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;o=!0}if(!o){if("object"!=Xt(t)||"object"!=Xt(n))return!1;var a=t.constructor,u=n.constructor;if(a!==u&&!(ks(a)&&a instanceof a&&ks(u)&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}r=r||[];for(var c=(e=e||[]).length;c--;)if(e[c]===t)return r[c]===n;if(e.push(t),r.push(n),o){if((c=t.length)!==n.length)return!1;for(;c--;)if(!Gs(t[c],n[c],e,r))return!1}else{var l,s=Hs(t);if(c=s.length,Hs(n).length!==c)return!1;for(;c--;)if(!Ns(n,l=s[c])||!Gs(t[l],n[l],e,r))return!1}return e.pop(),r.pop(),!0}function Js(t,n){return Gs(t,n)}function Qs(t){if(!fs(t))return[];var n=[];for(var e in t)n.push(e);return us&&Ys(t,n),n}function tf(t){var n=Ws(t);return function(e){if(null==e)return!1;var r=Qs(e);if(Ws(r))return!1;for(var i=0;i<n;i++)if(!ks(e[t[i]]))return!1;return t!==af||!ks(e[nf])}}var nf="forEach",ef=["clear","delete"],rf=["get","has","set"],of=ef.concat(nf,rf),af=ef.concat(rf),uf=["add"].concat(ef,nf,"has"),cf=Es?tf(of):ds("Map"),lf=Es?tf(af):ds("WeakMap"),sf=Es?tf(uf):ds("Set"),ff=ds("WeakSet");function hf(t){for(var n=Hs(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=t[n[i]];return r}function pf(t){for(var n=Hs(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=[n[i],t[n[i]]];return r}function df(t){for(var n={},e=Hs(t),r=0,i=e.length;r<i;r++)n[t[e[r]]]=e[r];return n}function gf(t){var n=[];for(var e in t)ks(t[e])&&n.push(e);return n.sort()}function vf(t,n){return function(e){var r=arguments.length;if(n&&(e=Object(e)),r<2||null==e)return e;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),u=a.length,c=0;c<u;c++){var l=a[c];n&&void 0!==e[l]||(e[l]=o[l])}return e}}var mf=vf(Qs),yf=vf(Hs),bf=vf(Qs,!0);function wf(t){if(!fs(t))return{};if(rs)return rs(t);var n=function(){};n.prototype=t;var e=new n;return n.prototype=null,e}function _f(t){return fs(t)?Os(t)?t.slice():mf({},t):t}function xf(t){return Os(t)?t:[t]}function Mf(t){return Zs.toPath(t)}function kf(t,n){for(var e=n.length,r=0;r<e;r++){if(null==t)return;t=t[n[r]]}return e?t:void 0}function Sf(t,n,e){var r=kf(t,Mf(n));return hs(r)?e:r}function Af(t){return t}function Ef(t){return t=yf({},t),function(n){return Us(n,t)}}function jf(t){return t=Mf(t),function(n){return kf(n,t)}}function $f(t,n,e){if(void 0===n)return t;switch(null==e?3:e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)}}return function(){return t.apply(n,arguments)}}function Of(t,n,e){return null==t?Af:ks(t)?$f(t,n,e):fs(t)&&!Os(t)?Ef(t):jf(t)}function Nf(t,n){return Of(t,n,1/0)}function zf(t,n,e){return Zs.iteratee!==Nf?Zs.iteratee(t,n):Of(t,n,e)}function Tf(){}function Lf(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))}Zs.toPath=xf,Zs.iteratee=Nf;var Pf=Date.now||function(){return(new Date).getTime()};function Df(t){var n=function(n){return t[n]},e="(?:"+Hs(t).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,n):t}}var Cf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Rf=Df(Cf),Ff=Df(df(Cf)),Bf=Zs.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},qf=/(.)^/,Wf={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Yf=/\\|'|\r|\n|\u2028|\u2029/g;function Hf(t){return"\\"+Wf[t]}var If=/^\s*(\w|\$)+\s*$/;var Uf=0;function Zf(t,n,e,r,i){if(!(r instanceof n))return t.apply(e,i);var o=wf(t.prototype),a=t.apply(o,i);return fs(a)?a:o}var Xf=ss((function(t,n){var e=Xf.placeholder;return function r(){for(var i=0,o=n.length,a=Array(o),u=0;u<o;u++)a[u]=n[u]===e?arguments[i++]:n[u];for(;i<arguments.length;)a.push(arguments[i++]);return Zf(t,r,this,this,a)}}));Xf.placeholder=Zs;var Vf=ss((function(t,n,e){if(!ks(t))throw new TypeError("Bind must be called on a function");var r=ss((function(i){return Zf(t,r,n,this,e.concat(i))}));return r})),Gf=Ds(Ws);function Kf(t,n,e,r){if(r=r||[],n||0===n){if(n<=0)return r.concat(t)}else n=1/0;for(var i=r.length,o=0,a=Ws(t);o<a;o++){var u=t[o];if(Gf(u)&&(Os(u)||Ts(u)))if(n>1)Kf(u,n-1,e,r),i=r.length;else for(var c=0,l=u.length;c<l;)r[i++]=u[c++];else e||(r[i++]=u)}return r}var Jf=ss((function(t,n){var e=(n=Kf(n,!1,!1)).length;if(e<1)throw new Error("bindAll must be passed function names");for(;e--;){var r=n[e];t[r]=Vf(t[r],t)}return t}));var Qf=ss((function(t,n,e){return setTimeout((function(){return t.apply(null,e)}),n)})),th=Xf(Qf,Zs,1);function nh(t,n,e){var r,i,o,a,u,c=function c(){var l=Pf()-i;n>l?r=setTimeout(c,n-l):(r=null,e||(a=t.apply(u,o)),r||(o=u=null))},l=ss((function(l){return u=this,o=l,i=Pf(),r||(r=setTimeout(c,n),e&&(a=t.apply(u,o))),a}));return l.cancel=function(){clearTimeout(r),r=o=u=null},l}function eh(t){return function(){return!t.apply(this,arguments)}}function rh(t,n){var e;return function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=null),e}}var ih=Xf(rh,2);function oh(t,n,e){n=zf(n,e);for(var r,i=Hs(t),o=0,a=i.length;o<a;o++)if(n(t[r=i[o]],r,t))return r}function ah(t){return function(n,e,r){e=zf(e,r);for(var i=Ws(n),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(e(n[o],o,n))return o;return-1}}var uh=ah(1),ch=ah(-1);function lh(t,n,e,r){for(var i=(e=zf(e,r,1))(n),o=0,a=Ws(t);o<a;){var u=Math.floor((o+a)/2);e(t[u])<i?o=u+1:a=u}return o}function sh(t,n,e){return function(r,i,o){var a=0,u=Ws(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+u,a):u=o>=0?Math.min(o+1,u):o+u+1;else if(e&&o&&u)return r[o=e(r,i)]===i?o:-1;if(i!=i)return(o=n(Gl.call(r,a,u),Ls))>=0?o+a:-1;for(o=t>0?a:u-1;o>=0&&o<u;o+=t)if(r[o]===i)return o;return-1}}var fh=sh(1,uh,lh),hh=sh(-1,ch);function ph(t,n,e){var r=(Gf(t)?uh:oh)(t,n,e);if(void 0!==r&&-1!==r)return t[r]}function dh(t,n,e){var r,i;if(n=$f(n,e),Gf(t))for(r=0,i=t.length;r<i;r++)n(t[r],r,t);else{var o=Hs(t);for(r=0,i=o.length;r<i;r++)n(t[o[r]],o[r],t)}return t}function gh(t,n,e){n=zf(n,e);for(var r=!Gf(t)&&Hs(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var u=r?r[a]:a;o[a]=n(t[u],u,t)}return o}function vh(t){var n=function(n,e,r,i){var o=!Gf(n)&&Hs(n),a=(o||n).length,u=t>0?0:a-1;for(i||(r=n[o?o[u]:u],u+=t);u>=0&&u<a;u+=t){var c=o?o[u]:u;r=e(r,n[c],c,n)}return r};return function(t,e,r,i){var o=arguments.length>=3;return n(t,$f(e,i,4),r,o)}}var mh=vh(1),yh=vh(-1);function bh(t,n,e){var r=[];return n=zf(n,e),dh(t,(function(t,e,i){n(t,e,i)&&r.push(t)})),r}function wh(t,n,e){n=zf(n,e);for(var r=!Gf(t)&&Hs(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!n(t[a],a,t))return!1}return!0}function _h(t,n,e){n=zf(n,e);for(var r=!Gf(t)&&Hs(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(n(t[a],a,t))return!0}return!1}function xh(t,n,e,r){return Gf(t)||(t=hf(t)),("number"!=typeof e||r)&&(e=0),fh(t,n,e)>=0}var Mh=ss((function(t,n,e){var r,i;return ks(n)?i=n:(n=Mf(n),r=n.slice(0,-1),n=n[n.length-1]),gh(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=kf(t,r)),null==t)return;o=t[n]}return null==o?o:o.apply(t,e)}))}));function kh(t,n){return gh(t,jf(n))}function Sh(t,n,e){var r,i,o=-1/0,a=-1/0;if(null==n||"number"==typeof n&&"object"!=Xt(t[0])&&null!=t)for(var u=0,c=(t=Gf(t)?t:hf(t)).length;u<c;u++)null!=(r=t[u])&&r>o&&(o=r);else n=zf(n,e),dh(t,(function(t,e,r){((i=n(t,e,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)}));return o}function Ah(t,n,e){if(null==n||e)return Gf(t)||(t=hf(t)),t[Lf(t.length-1)];var r=Gf(t)?_f(t):hf(t),i=Ws(r);n=Math.max(Math.min(n,i),0);for(var o=i-1,a=0;a<n;a++){var u=Lf(a,o),c=r[a];r[a]=r[u],r[u]=c}return r.slice(0,n)}function Eh(t,n,e){var r=0;return n=zf(n,e),kh(gh(t,(function(t,e,i){return{value:t,index:r++,criteria:n(t,e,i)}})).sort((function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(e<r||void 0===r)return-1}return t.index-n.index})),"value")}function jh(t,n){return function(e,r,i){var o=n?[[],[]]:{};return r=zf(r,i),dh(e,(function(n,i){var a=r(n,i,e);t(o,n,a)})),o}}var $h=jh((function(t,n,e){Ns(t,e)?t[e].push(n):t[e]=[n]})),Oh=jh((function(t,n,e){t[e]=n})),Nh=jh((function(t,n,e){Ns(t,e)?t[e]++:t[e]=1})),zh=jh((function(t,n,e){t[e?0:1].push(n)}),!0),Th=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Lh(t,n,e){return n in e}var Ph=ss((function(t,n){var e={},r=n[0];if(null==t)return e;ks(r)?(n.length>1&&(r=$f(r,n[1])),n=Qs(t)):(r=Lh,n=Kf(n,!1,!1),t=Object(t));for(var i=0,o=n.length;i<o;i++){var a=n[i],u=t[a];r(u,a,t)&&(e[a]=u)}return e})),Dh=ss((function(t,n){var e,r=n[0];return ks(r)?(r=eh(r),n.length>1&&(e=n[1])):(n=gh(Kf(n,!1,!1),String),r=function(t,e){return!xh(n,e)}),Ph(t,r,e)}));function Ch(t,n,e){return Gl.call(t,0,Math.max(0,t.length-(null==n||e?1:n)))}function Rh(t,n,e){return null==t||t.length<1?null==n||e?void 0:[]:null==n||e?t[0]:Ch(t,t.length-n)}function Fh(t,n,e){return Gl.call(t,null==n||e?1:n)}var Bh=ss((function(t,n){return n=Kf(n,!0,!0),bh(t,(function(t){return!xh(n,t)}))})),qh=ss((function(t,n){return Bh(t,n)}));function Wh(t,n,e,r){ps(n)||(r=e,e=n,n=!1),null!=e&&(e=zf(e,r));for(var i=[],o=[],a=0,u=Ws(t);a<u;a++){var c=t[a],l=e?e(c,a,t):c;n&&!e?(a&&o===l||i.push(c),o=l):e?xh(o,l)||(o.push(l),i.push(c)):xh(i,c)||i.push(c)}return i}var Yh=ss((function(t){return Wh(Kf(t,!0,!0))}));function Hh(t){for(var n=t&&Sh(t,Ws).length||0,e=Array(n),r=0;r<n;r++)e[r]=kh(t,r);return e}var Ih=ss(Hh);function Uh(t,n){return t._chain?Zs(n).chain():n}function Zh(t){return dh(gf(t),(function(n){var e=Zs[n]=t[n];Zs.prototype[n]=function(){var t=[this._wrapped];return Vl.apply(t,arguments),Uh(this,e.apply(Zs,t))}})),Zs}dh(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var n=Ul[t];Zs.prototype[t]=function(){var e=this._wrapped;return null!=e&&(n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0]),Uh(this,e)}})),dh(["concat","join","slice"],(function(t){var n=Ul[t];Zs.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=n.apply(t,arguments)),Uh(this,t)}}));var Xh=Zh(Object.freeze({__proto__:null,VERSION:Hl,restArguments:ss,isObject:fs,isNull:function(t){return null===t},isUndefined:hs,isBoolean:ps,isElement:function(t){return!(!t||1!==t.nodeType)},isString:gs,isNumber:vs,isDate:ms,isRegExp:ys,isError:bs,isSymbol:ws,isArrayBuffer:_s,isDataView:$s,isArray:Os,isFunction:ks,isArguments:Ts,isFinite:function(t){return!ws(t)&&as(t)&&!isNaN(parseFloat(t))},isNaN:Ls,isTypedArray:qs,isEmpty:Is,isMatch:Us,isEqual:Js,isMap:cf,isWeakMap:lf,isSet:sf,isWeakSet:ff,keys:Hs,allKeys:Qs,values:hf,pairs:pf,invert:df,functions:gf,methods:gf,extend:mf,extendOwn:yf,assign:yf,defaults:bf,create:function(t,n){var e=wf(t);return n&&yf(e,n),e},clone:_f,tap:function(t,n){return n(t),t},get:Sf,has:function(t,n){for(var e=(n=Mf(n)).length,r=0;r<e;r++){var i=n[r];if(!Ns(t,i))return!1;t=t[i]}return!!e},mapObject:function(t,n,e){n=zf(n,e);for(var r=Hs(t),i=r.length,o={},a=0;a<i;a++){var u=r[a];o[u]=n(t[u],u,t)}return o},identity:Af,constant:Ps,noop:Tf,toPath:xf,property:jf,propertyOf:function(t){return null==t?Tf:function(n){return Sf(t,n)}},matcher:Ef,matches:Ef,times:function(t,n,e){var r=Array(Math.max(0,t));n=$f(n,e,1);for(var i=0;i<t;i++)r[i]=n(i);return r},random:Lf,now:Pf,escape:Rf,unescape:Ff,templateSettings:Bf,template:function(t,n,e){!n&&e&&(n=e),n=bf({},n,Zs.templateSettings);var r=RegExp([(n.escape||qf).source,(n.interpolate||qf).source,(n.evaluate||qf).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,(function(n,e,r,a,u){return o+=t.slice(i,u).replace(Yf,Hf),i=u+n.length,e?o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),n})),o+="';\n";var a,u=n.variable;if(u){if(!If.test(u))throw new Error("variable is not a bare identifier: "+u)}else o="with(obj||{}){\n"+o+"}\n",u="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(u,"_",o)}catch(t){throw t.source=o,t}var c=function(t){return a.call(this,t,Zs)};return c.source="function("+u+"){\n"+o+"}",c},result:function(t,n,e){var r=(n=Mf(n)).length;if(!r)return ks(e)?e.call(t):e;for(var i=0;i<r;i++){var o=null==t?void 0:t[n[i]];void 0===o&&(o=e,i=r),t=ks(o)?o.call(t):o}return t},uniqueId:function(t){var n=++Uf+"";return t?t+n:n},chain:function(t){var n=Zs(t);return n._chain=!0,n},iteratee:Nf,partial:Xf,bind:Vf,bindAll:Jf,memoize:function(t,n){var e=function e(r){var i=e.cache,o=""+(n?n.apply(this,arguments):r);return Ns(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return e.cache={},e},delay:Qf,defer:th,throttle:function(t,n,e){var r,i,o,a,u=0;e||(e={});var c=function(){u=!1===e.leading?0:Pf(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=Pf();u||!1!==e.leading||(u=l);var s=n-(l-u);return i=this,o=arguments,s<=0||s>n?(r&&(clearTimeout(r),r=null),u=l,a=t.apply(i,o),r||(i=o=null)):r||!1===e.trailing||(r=setTimeout(c,s)),a};return l.cancel=function(){clearTimeout(r),u=0,r=i=o=null},l},debounce:nh,wrap:function(t,n){return Xf(n,t)},negate:eh,compose:function(){var t=arguments,n=t.length-1;return function(){for(var e=n,r=t[n].apply(this,arguments);e--;)r=t[e].call(this,r);return r}},after:function(t,n){return function(){if(--t<1)return n.apply(this,arguments)}},before:rh,once:ih,findKey:oh,findIndex:uh,findLastIndex:ch,sortedIndex:lh,indexOf:fh,lastIndexOf:hh,find:ph,detect:ph,findWhere:function(t,n){return ph(t,Ef(n))},each:dh,forEach:dh,map:gh,collect:gh,reduce:mh,foldl:mh,inject:mh,reduceRight:yh,foldr:yh,filter:bh,select:bh,reject:function(t,n,e){return bh(t,eh(zf(n)),e)},every:wh,all:wh,some:_h,any:_h,contains:xh,includes:xh,include:xh,invoke:Mh,pluck:kh,where:function(t,n){return bh(t,Ef(n))},max:Sh,min:function(t,n,e){var r,i,o=1/0,a=1/0;if(null==n||"number"==typeof n&&"object"!=Xt(t[0])&&null!=t)for(var u=0,c=(t=Gf(t)?t:hf(t)).length;u<c;u++)null!=(r=t[u])&&r<o&&(o=r);else n=zf(n,e),dh(t,(function(t,e,r){((i=n(t,e,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)}));return o},shuffle:function(t){return Ah(t,1/0)},sample:Ah,sortBy:Eh,groupBy:$h,indexBy:Oh,countBy:Nh,partition:zh,toArray:function(t){return t?Os(t)?Gl.call(t):gs(t)?t.match(Th):Gf(t)?gh(t,Af):hf(t):[]},size:function(t){return null==t?0:Gf(t)?t.length:Hs(t).length},pick:Ph,omit:Dh,first:Rh,head:Rh,take:Rh,initial:Ch,last:function(t,n,e){return null==t||t.length<1?null==n||e?void 0:[]:null==n||e?t[t.length-1]:Fh(t,Math.max(0,t.length-n))},rest:Fh,tail:Fh,drop:Fh,compact:function(t){return bh(t,Boolean)},flatten:function(t,n){return Kf(t,n,!1)},without:qh,uniq:Wh,unique:Wh,union:Yh,intersection:function(t){for(var n=[],e=arguments.length,r=0,i=Ws(t);r<i;r++){var o=t[r];if(!xh(n,o)){var a;for(a=1;a<e&&xh(arguments[a],o);a++);a===e&&n.push(o)}}return n},difference:Bh,unzip:Hh,transpose:Hh,zip:Ih,object:function(t,n){for(var e={},r=0,i=Ws(t);r<i;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e},range:function(t,n,e){null==n&&(n=t||0,t=0),e||(e=n<t?-1:1);for(var r=Math.max(Math.ceil((n-t)/e),0),i=Array(r),o=0;o<r;o++,t+=e)i[o]=t;return i},chunk:function(t,n){if(null==n||n<1)return[];for(var e=[],r=0,i=t.length;r<i;)e.push(Gl.call(t,r,r+=n));return e},mixin:Zh,default:Zs}));function Vh(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!n)return t;for(var r=Array.isArray(n)?n:n.split("."),i=t,o=0;o<r.length&&null!=i;o++)i=i[r[o]];return null==i?e:i}Xh._=Xh;var Gh=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,Kh=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,Jh="<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>";function Qh(t,n){if(null===t)return null;if(void 0!==t){if((t=String(t)).indexOf("<")<0&&t.indexOf(">")<0)return t;if(t=function(t,n){n=(((void 0!==n?n||"":Jh)+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var e=t,r=t;for(;;)if(r=(e=r).replace(Kh,"").replace(Gh,(function(t,e){return n.indexOf("<"+e.toLowerCase()+">")>-1?t:""})),e===r)return r}(t,n),"undefined"==typeof document)return t;var e=document.createElement("div");e.innerHTML="<span>".concat(t,"</span>");for(var r=e.childNodes[0].querySelectorAll("*"),i=0;i<r.length;i++){"a"===r[i].nodeName.toLowerCase()&&("_self"!==r[i].getAttribute("target")&&r[i].setAttribute("target","_blank"),r[i].setAttribute("rel","nofollow noopener noreferrer"),r[i].getAttribute("href")&&r[i].getAttribute("href").trim().replace(/[^a-zA-Z0-9 -:]/g,"").startsWith("javascript:")&&r[i].setAttribute("href",""));for(var o=[],a=0;a<r[i].attributes.length;a++){var u=r[i].attributes[a];u.specified&&"on"===u.name.substr(0,2)&&o.push(u.name)}o.forEach((function(t){return r[i].removeAttribute(t)}))}return e.childNodes[0].innerHTML}}function tp(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700,e=!1,r=!0;return{set:function(i){e!==i&&setTimeout((function(){r=!1,t(e)}),r?n:0),e=i},clear:function(){e=null,r=!0,t(null)},get:function(){return e}}}var np={horizontal:90,vertical:0,"diagonal-up":135,"diagonal-down":45};function ep(t,n,e){var r=n.swatches,i=n.swatchWidth,o=n.swatchHeight,a=n.itemMarginBottom,u=n.itemMarginRight,c=n.swatchBorderRadius,l=n.swatchLabelDistance,s=n.fontWeight,f=n.highlight,h=n.reverse,p=t.append("div.legend-categories").st({fontWeight:s}),d=tp((function(t){null!==t?(f&&(p.classed("highlighted",!0),v.classed("highlight",(function(n){return n.key===t.key}))),e("mouseenter",t)):(f&&(p.classed("highlighted",!1),v.classed("highlight",!1)),e("mouseleave"))})),g=h?r.slice(0).reverse():r,v=p.appendMany("div.legend-swatch",g).attr("aria-hidden",!0).st({marginBottom:a,marginRight:u}).on("mouseenter",(function(t){return d.set(t)}));p.on("mouseleave",d.clear);var m=v.append("div.legend-no-break"),y="50%"===c?"dw-circle":"export-rect";m.filter((function(t){return!t.pattern})).append("div.legend-color.".concat(y)).st({width:function(t){return t.width||i},height:o,marginRight:l,borderRadius:c,background:function(t){return t.color}});var b=m.filter((function(t){return!!t.pattern})).append("svg").attr("width",i).attr("height",o).style("vertical-align","middle").style("margin-right",l+"px").style("border-radius",c);function w(t){return t.pattern.lineGap+t.pattern.strokeWidth}function _(t){var n=t.trim().indexOf(" "),e=t.trim().indexOf("-");return n<0&&e<0?t:e<0||n<e?t.substr(0,n):t.substr(0,e+1)}return b.append("defs").append("pattern").attr("id",(function(t,n){return"color-legend-fill-pattern-".concat(n)})).attr("patternTransform",(function(t){return"rotate(".concat(180-np[t.pattern.type]," 0 0)")})).attr("patternUnits","userSpaceOnUse").attr("height",(function(t){return w(t)})).attr("width",(function(t){return w(t)})).append("line").attr("x1",(function(t){return w(t)/2})).attr("y1",0).attr("x2",(function(t){return w(t)/2})).attr("y2",(function(t){return w(t)})).attr("stroke",(function(t){return t.color})).attr("stroke-width",(function(t){return t.pattern.strokeWidth})),b.append("rect").attr("width",i).attr("height",o).attr("fill",(function(t,n){return"url(#color-legend-fill-pattern-".concat(n,")")})),m.append("div.legend-label").html((function(t){return Qh(_(t.label))})),v.append("div.legend-label").html((function(t){return Qh((n=t.label,e=_(n),n.substr(e.length)));var n,e})),{highlight:function(t){p.classed("highlighted",!!t),t?v.classed("highlight",(function(n){return n.key===t})):v.classed("highlight",!1)}}}function rp(t){if("function"==typeof t.colors){var n=[t.limits[0],t.limits[t.limits.length-1]].map(t.format),e=s(n,2),r=e[0],i=e[1];return"Continuous color legend".concat(t.title?', titled "'.concat(t.title,'"'):"",", ranging from ").concat(r," to ").concat(i,".")}var o=[t.swatches[0].label,t.swatches[t.swatches.length-1].label].map((function(t){return t.replace("<","less than").replace("≥","greater or equal than")})),a=s(o,2),u=a[0],c=a[1];return"Color legend with ".concat(t.swatches.length," steps ").concat(t.title?', titled "'.concat(t.title,'"'):"",", ranging from ").concat(u," to ").concat(c,".")}function ip(t){var n=t.swatches.map((function(t){return t.label})),e=n.length<=5?"".concat(n.slice(0,-1).join(", "),", and ").concat(n[n.length-1]):"".concat(n.slice(0,3).join(", "),", ending with ").concat(n[n.length-1],".");return"Category legend with ".concat(t.swatches.length," items").concat(t.title?', titled "'.concat(t.title,'"'):"",". The items are ").concat(e)}function op(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function ap(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?op(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):op(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function up(t,n){if("svg"===t.nodeName.toLowerCase()||t.ownerSVGElement)throw new Error("can only render in HTML elements");var e,r=ap(ap({title:"",horizontal:!0,swatches:[{color:"#dd0000",label:"A red swatch",key:"red"},{color:"#0033dd",label:"A blue swatch",key:"blue"}],reverse:!1,width:"100%",height:"auto",swatchWidth:20,swatchHeight:20,itemMarginBottom:3,itemMarginRight:10,swatchBorderRadius:0,swatchLabelDistance:3,paddingTop:0,paddingBottom:10,color:"inherit",fontSize:"inherit",fontWeight:"inherit",fontFamily:"inherit",textAlign:"left",highlight:!1},n.theme?Dh({swatchWidth:Vh(n.theme,"style.chart.legend.swatch.width",14),swatchHeight:Vh(n.theme,"style.chart.legend.swatch.height",14),swatchBorderRadius:Vh(n.theme,"style.chart.legend.swatch.borderRadius"),swatchLabelDistance:Vh(n.theme,"style.chart.legend.swatch.marginRight"),paddingBottom:Vh(n.theme,"style.chart.legend.padding.bottom"),itemMarginRight:Vh(n.theme,"style.chart.legend.text.marginRight"),itemMarginBottom:Vh(n.theme,"style.chart.legend.rowSpacing"),paddingTop:Vh(n.theme,"style.chart.legend.padding.top"),textAlign:Vh(n.theme,"style.chart.legend.alignment"),color:Vh(n.theme,"style.chart.labels.legend.color")},(function(t){return null==t})):{}),n),i={},o=wt(t).append("div.category-legend").classed("horizontal",r.horizontal).classed("vertical",!r.horizontal).st({paddingTop:r.paddingTop,paddingBottom:r.paddingBottom,textAlign:r.textAlign,color:r.color,fontSize:r.fontSize,fontFamily:r.fontFamily,width:r.width,height:r.height});return r.title&&o.append("div.legend-title.label").attr("aria-hidden",!0).append("span").html(Qh(r.title)),e=ep(o,r,(function(t,n){i[t]&&i[t].length&&i[t].forEach((function(t){"function"==typeof t&&t(n)}))})),o.at({role:"graphics-legend","aria-label":ip(r)}),e=ap({container:o,on:function(t,n){return"function"!=typeof n||"string"!=typeof t||(i[t]||(i[t]=[]),i[t].push(n)),e}},e)}function cp(){var t=window.navigator.userAgent;return/MSIE|Trident/.test(t)}var lp=function(t){var n=Xt(t);return null!=t&&("object"==n||"function"==n)},sp="object"==Xt(t)&&t&&t.Object===Object&&t,fp="object"==("undefined"==typeof self?"undefined":Xt(self))&&self&&self.Object===Object&&self,hp=sp||fp||Function("return this")(),pp=function(){return hp.Date.now()},dp=/\s/;var gp=function(t){for(var n=t.length;n--&&dp.test(t.charAt(n)););return n},vp=/^\s+/;var mp=function(t){return t?t.slice(0,gp(t)+1).replace(vp,""):t},yp=hp.Symbol,bp=Object.prototype,wp=bp.hasOwnProperty,_p=bp.toString,xp=yp?yp.toStringTag:void 0;var Mp=function(t){var n=wp.call(t,xp),e=t[xp];try{t[xp]=void 0;var r=!0}catch(t){}var i=_p.call(t);return r&&(n?t[xp]=e:delete t[xp]),i},kp=Object.prototype.toString;var Sp=function(t){return kp.call(t)},Ap=yp?yp.toStringTag:void 0;var Ep=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ap&&Ap in Object(t)?Mp(t):Sp(t)};var jp=function(t){return null!=t&&"object"==Xt(t)};var $p=function(t){return"symbol"==Xt(t)||jp(t)&&"[object Symbol]"==Ep(t)},Op=/^[-+]0x[0-9a-f]+$/i,Np=/^0b[01]+$/i,zp=/^0o[0-7]+$/i,Tp=parseInt;var Lp=function(t){if("number"==typeof t)return t;if($p(t))return NaN;if(lp(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=lp(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=mp(t);var e=Np.test(t);return e||zp.test(t)?Tp(t.slice(2),e?2:8):Op.test(t)?NaN:+t},Pp=Math.max,Dp=Math.min;var Cp=function(t,n,e){var r,i,o,a,u,c,l=0,s=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(n){var e=r,o=i;return r=i=void 0,l=n,a=t.apply(o,e)}function d(t){return l=t,u=setTimeout(v,n),s?p(t):a}function g(t){var e=t-c;return void 0===c||e>=n||e<0||f&&t-l>=o}function v(){var t=pp();if(g(t))return m(t);u=setTimeout(v,function(t){var e=n-(t-c);return f?Dp(e,o-(t-l)):e}(t))}function m(t){return u=void 0,h&&r?p(t):(r=i=void 0,a)}function y(){var t=pp(),e=g(t);if(r=arguments,i=this,c=t,e){if(void 0===u)return d(c);if(f)return clearTimeout(u),u=setTimeout(v,n),p(c)}return void 0===u&&(u=setTimeout(v,n)),a}return n=Lp(n)||0,lp(e)&&(s=!!e.leading,o=(f="maxWait"in e)?Pp(Lp(e.maxWait)||0,n):o,h="trailing"in e?!!e.trailing:h),y.cancel=function(){void 0!==u&&clearTimeout(u),l=0,r=c=i=u=void 0},y.flush=function(){return void 0===u?a:m(pp())},y},Rp=[],Fp=!1;function Bp(){if(Rp.length){var t=Rp.map((function(t){try{return t.measure&&t.measure()}catch(t){return t}}));Rp.forEach((function(n,e){try{n.update&&n.update(t[e])}catch(n){}})),Rp=[],Fp=!1}}function qp(t){Rp.push(t),Fp||(Fp=!0,requestAnimationFrame(Bp))}function Wp(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Yp(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Wp(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Wp(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var Hp={categories:ep,continuous:function(t,n,e){for(var r=n.colors,i=n.limits,o=n.format,a=n.labels,u=n.horizontal,c=n.width,l=n.height,s=n.rulerSize,f=n.swatchLabelDistance,h=n.highlight,p=n.reverse,d=3===i.length,g=t.parent().append("defs"),v=[],m=0;m<17;m++)v.push(m/16);var y="g-".concat(Math.floor(1e6*Math.random()).toString(32));g.append("linearGradient").attr("id",y).attr(u?"y2":"x2",0).attr(u?"x2":"y2",1).appendMany("stop",v).attr("offset",(function(t){return"".concat(100*t,"%")})).attr("stop-color",p?function(t){return E(1-t)}:E),t.append("rect").at({width:u?c:s,height:u?s:l}).style("fill","url(#".concat(y,")"));var b=(a||i.map(o)).slice(0),w=i.slice(0);p&&(b.reverse(),w.reverse());var _=cp();t.append("g.labels").attr("aria-hidden",!0).translate(u?[0,s+f+(_?8:0)]:[s+f,0]).appendMany("text",b).attr("class",(function(t,n){return 0===n?"min":1===n&&d?"center":"max"})).translate(u?function(t,n){return[c*n/(d?2:1),0]}:function(t,n){return[0,l*n/(d?2:1)]}).tspans((function(t){return t.split("<br>")}));var x=t.append("g.highlight").attr("aria-hidden","true");x.append("path.triangle").translate(u?[0,s+7]:[s+7,0]).attr("d",u?"M-5,0 L 5,0 L 0,-7 Z":"M0,-5 L-7,0 L 0,5 Z"),x.append("g.text").translate(u?[0,s+12+(_?8:0)]:[s+12,0]).append("text.buffer").parent().append("text");var M=x.selectAll("text"),k=tp((function(n){if(null!==n){if(h){t.classed("highlighted",!0),x.style("transform","translate(".concat((u?[n*c,0]:[0,n*l]).map((function(t){return t+"px"})),")")),x.translate(u?[n*c,0]:[0,n*l]);var r=S(n);M.text(o(r))}e("mouseenter",{min:S(n*(p?1.1:.9)),max:S(n*(p?.9:1.1))})}else h&&t.classed("highlighted",!1),e("mouseleave")}));return t.parent().on("mouseenter",(function(){t.parent().classed("no-transition",!0)})),t.parent().on("mousemove",(function(){var n=Mt(t.node())[u?0:1]/(u?c:l);k.set(Math.min(1,Math.max(0,n)))})),t.parent().on("mouseleave",(function(){k.clear(),t.parent().classed("no-transition",!1)})),{highlight:function(n){null!=n?(t.parent().classed("no-transition",!t.classed("highlighted")),t.classed("highlighted",!0),x.style("transform","translate(".concat((u?[A(n)*c,0]:[0,A(n)*l]).map((function(t){return t+"px"})),")")),x.translate(u?[A(n)*c,0]:[0,A(n)*l]),M.text(o(n))):t.classed("highlighted",!1)}};function S(t){return d?t<.5?w[0]+2*t*(w[1]-w[0]):w[1]+2*(t-.5)*(w[2]-w[1]):w[0]+t*(w[1]-w[0])}function A(t){return d?t<w[1]?.5*(t-w[0])/(w[1]-w[0]):.5+.5*(t-w[1])/(w[2]-w[1]):(t-w[0])/(w[1]-w[0])}function E(t){var n=d?t<=.5?2*t*(i[1]-i[0])+i[0]:2*(t-.5)*(i[2]-i[1])+i[1]:t*(i[1]-i[0])+i[0];return r(n)}},ruler:function(t,n,e){var r=n.colors,i=n.format,o=n.breaks,a=n.width,u=n.height,c=n.rulerSize,l=n.tickLength,s=n.tickWidth,f=n.horizontal,h=n.reverse,p=n.rulerLabelDistance,d=n.highlight,g=[],v=r.map((function(t,n){return{color:t,min:0===n?-1/0:+o[n],max:n===r.length-1?1/0:+o[n+1],label:n===(h?r.length-1:0)?"":"".concat(i(o[h?n+1:n]))}}));h&&v.reverse();var m=f?Math.floor(a/r.length)-1:c,y=f?c:Math.floor(u/r.length)-1,b=t.appendMany("g.swatch",v).attr("aria-hidden",!0).translate(f?function(t,n){return[n*(m+s),0]}:function(t,n){return[0,n*(y+s)]}),w=tp((function(n){null!==n?(d&&(t.classed("highlighted",!0),b.classed("highlight",(function(t){return n===t}))),e("mouseenter",n)):(d&&(t.classed("highlighted",!1),b.classed("highlight",!1)),e("mouseleave"))}));if(b.on("mouseenter",(function(t){return w.set(t)})),t.parent().on("mouseleave",w.clear),b.append("rect").at({width:m,height:y}).style("fill",(function(t){return t.color})),b.append("text").translate(f?[0,y+p+l+(cp()?8:0)]:[m+p+l,0]).text((function(t){return t.label})),l>0&&b.filter((function(t,n){return n>0})).append("path.tick").style("stroke-width",s).attr("d","M".concat(f?"-".concat(.5*s,",0"):"0,-".concat(.5*s)).concat(f?"v":"h").concat((f?y:m)+l)),f){var _=Cp((function(){x&&(b.selectAll("text").st({textAnchor:"end"}).at({transform:"translate(".concat(.5*-m,",").concat(y+p+l,") rotate(-90)")}),g.forEach((function(t){return t()})))}),20),x=!1;b.selectAll("text").each((function(){var t=this;qp({measure:function(){return t.getBoundingClientRect()},update:function(t){t.width>m+2&&(x=!0,_())}})}))}return{highlight:function(n){null!=n?(t.classed("highlighted",!0),b.classed("highlight",(function(t){return n>=t.min&&n<t.max}))):(t.classed("highlighted",!1),b.classed("highlight",!1))},onupdate:function(t){g.push(t)}}},ranges:function(t,n,e){var r=n.colors,i=n.format,o=n.labels,a=n.breaks,u=n.width,c=n.swatchWidth,l=n.swatchHeight,s=n.itemMarginBottom,f=n.swatchBorderRadius,h=n.swatchLabelDistance,p=n.rulerSize,d=n.horizontal,g=n.highlight,v=n.reverse,m=[],y=r.map((function(t,n){return{color:t,min:0===n?-1/0:+a[n],max:n===r.length-1?1/0:+a[n+1],label:o?o[n]:0===n?"< ".concat(i(a[1])):n===r.length-1?"≥ ".concat(i(a[n])):"".concat(i(a[n]),"–").concat(i(a[n+1]))}})),b=d?Math.floor(u/r.length)-1:c,w=d?p:l;v&&y.reverse();var _=t.appendMany("g.swatch",y).attr("aria-hidden",!0).translate(d?function(t,n){return[n*(b+1),0]}:function(t,n){return[0,n*(w+s)]}).on("mouseenter",(function(t){return x.set(t)})),x=tp((function(n){null!==n?(g&&(t.classed("highlighted",!0),_.classed("highlight",(function(t){return n===t}))),e("mouseenter",n)):(g&&(t.classed("highlighted",!1),_.classed("highlight",!1)),e("mouseleave"))}));if(t.parent().on("mouseleave",x.clear),_.append("rect").at({width:b,height:w,rx:Math.min(f,.5*w),ry:Math.min(f,.5*b)}).style("fill",(function(t){return t.color})).parent().append("text").translate(d?[.5*b,w+h]:[b+h,.5*w]).text((function(t){return t.label})),d){var M=Cp((function(){if(k){var e=t.parent(),r=e.parent();e.remove(),r.classed("ranges",!1).classed("color-legend",!1).classed("category-legend",!0).classed("categories",!0),ep(r,Yp(Yp({},n),{},{swatches:y,reverse:!1})),m.forEach((function(t){return t()}))}}),20),k=!1;_.selectAll("text").each((function(){var t=this;qp({measure:function(){return t.getBoundingClientRect()},update:function(t){t.width>b+2&&(k=!0,M())}})}))}return{highlight:function(n){null!=n?(t.classed("highlighted",!0),_.classed("highlight",(function(t){return n>=t.min&&n<t.max}))):(t.classed("highlighted",!1),_.classed("highlight",!1))},onupdate:function(t){m.push(t)}}},winner:function(t,n){var e=n.colors,r=n.format,i=n.breaks,o=n.labels,a=n.width,u=n.height,c=n.rulerSize,l=n.tickLength,s=n.tickWidth,f=n.horizontal,h=n.reverse,p=n.itemMarginBottom,d=n.swatchLabelDistance,g=o.map((function(t){return{label:t,swatches:e[t].map((function(n,o){return{color:n,label:(h?o===e[t].length-1:0===o)?"":"".concat(r(i[h?o+1:o]))}}))}}));g[g.length-1].isLast=!0;var v=i.length-1,m=f?Math.floor(a/(v+3))-1:c,y=f?c:Math.floor(u/(v+3))-1,b=t.appendMany("g.group",g).attr("aria-hidden",!0).translate((function(t,n){return f?[0,(y+p)*n]:[(m+p)*n,0]}));b.append("text.label").attr("transform",f?"translate(".concat([(m+s)*v+d,.5*y+1],")"):"translate(".concat([.5*m,(y+s)*v+d],") rotate(-90)")).text((function(t){return t.label}));var w=b.appendMany("g.swatch",(function(t){return h?t.swatches.slice(0).reverse():t.swatches})).translate(f?function(t,n){return[n*(m+s),0]}:function(t,n){return[0,n*(y+s)]});return w.append("rect").at({width:m,height:y}).style("fill",(function(t){return t.color})),b.filter((function(t){return t.isLast})).selectAll("g.swatch").append("text").translate(f?[0,y+d+l]:[m+d+l,0]).text((function(t){return t.label})),l>0&&w.append("path.tick").style("stroke-width",s).attr("d","M".concat(f?"-".concat(Math.ceil(.5*s),",0"):"0,-".concat(Math.ceil(.5*s))).concat(f?"v":"h").concat((f?y:m)+l)),{highlight:function(){}}}};function Ip(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Up(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Ip(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Ip(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function Zp(t,n){if("svg"===t.nodeName.toLowerCase()||t.ownerSVGElement)throw new Error("can only render in HTML elements");var e,r=Up(Up({title:"",width:100,height:200,horizontal:!0,colors:["white","yellow","red"],breaks:!1,limits:!1,ruler:!1,labels:!1,format:function(t){return String(+t.toFixed(2))},swatchWidth:20,swatchHeight:20,itemMarginBottom:3,itemMarginRight:10,swatchBorderRadius:0,swatchLabelDistance:3,rulerLabelDistance:3,rulerSize:13,tickLength:0,tickWidth:1,highlight:!1,reverse:!1},n.theme?Dh({rulerSize:Vh(n.theme,"style.chart.legend.ruler.thickness",13),tickWidth:Vh(n.theme,"style.chart.legend.ruler.tickWidth",1),tickLength:Vh(n.theme,"style.chart.legend.ruler.tickLength",0),rulerLabelDistance:Vh(n.theme,"style.chart.legend.ruler.labelDistance.".concat(n.horizontal?"horizontal":"vertical"),3),swatchWidth:Vh(n.theme,"style.chart.legend.swatch.width",14),swatchHeight:Vh(n.theme,"style.chart.legend.swatch.height",14),swatchBorderRadius:Vh(n.theme,"style.chart.legend.swatch.borderRadius"),swatchLabelDistance:Vh(n.theme,"style.chart.legend.swatch.marginRight"),paddingBottom:Vh(n.theme,"style.chart.legend.padding.bottom"),itemMarginRight:Vh(n.theme,"style.chart.legend.text.marginRight"),itemMarginBottom:Vh(n.theme,"style.chart.legend.rowSpacing"),paddingTop:Vh(n.theme,"style.chart.legend.padding.top"),textAlign:Vh(n.theme,"style.chart.legend.alignment"),color:Vh(n.theme,"style.chart.labels.legend.color")},(function(t){return null==t})):{}),n),i={},o=Array.isArray(r.colors)&&!r.ruler&&!r.horizontal,a=wt(t).append("div.".concat(o?"category":"color","-legend")).classed("horizontal",r.horizontal).classed("vertical",!r.horizontal);r.title&&a.append("div.title.legend-title.label").attr("aria-hidden",!0).style("max-width",r.width+"px").append("span").html(Qh(r.title));var u=o?null:a.append("svg").at({width:r.width,height:r.height}),c=o?null:u.append("g");if("function"==typeof r.colors)a.classed("continuous",!0),e=Hp.continuous(c,r,f);else if(Array.isArray(r.colors)){var l=r.ruler?"ruler":o?"categories":"ranges";a.classed(l,!0),r.swatches=function(t){var n=t.colors,e=t.labels,r=t.breaks,i=t.format;return n.map((function(t,o){return{color:t,min:0===o?-1/0:+r[o],max:o===n.length-1?1/0:+r[o+1],label:e?e[o]:0===o?"< ".concat(i(r[1])):o===n.length-1?"≥ ".concat(i(r[o])):"".concat(i(r[o]),"–").concat(i(r[o+1]))}}))}(r),e=Hp[l](o?a:c,r,f)}else a.classed("winner",!0),e=Hp.winner(c,r,f);function s(){var t=c.node().getBoundingClientRect();u.attr("height",t.height).attr("width",t.width)}function f(t,n){i[t]&&i[t].length&&i[t].forEach((function(t){"function"==typeof t&&t(n)}))}return a.at({role:"graphics-legend","aria-label":rp(r)}),s(),e.onupdate&&e.onupdate(s),e=Up({container:a,on:function(t,n){return"function"!=typeof n||"string"!=typeof t||(i[t]||(i[t]=[]),i[t].push(n)),e}},e)}function Xp(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Vp(t,n){if(n=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Xp(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Xp(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({format:"0.[00]",prepend:"",append:"",minusChar:"−",plusMinusChar:"±",multiply:1},n),void 0===t||isNaN(t)||""===t||null===t)return"";var e=n,r=e.append,o=e.prepend,a=e.minusChar,u=e.plusMinusChar,c=e.multiply,l=n.format;l.includes("%")&&Number.isFinite(t)&&(t*=.01),t*=c;var s=l.indexOf("(")>-1,f=l.indexOf(";")>-1;l=l.replace(/;/g,",");var h=Dl(s?t:Math.abs(t)).format(l);if(f){var p=Dl.options.currentLocale,d=Dl.locales[p].delimiters.thousands,g=l.includes("%")?t/.01:t;h=Math.abs(g)<1e4?h.replace(d,""):h}return o&&!s&&t<0&&Gp.has(o.trim().toLowerCase())?"".concat(a).concat(o).concat(h.replace("+","")).concat(r):o&&t>=0&&Gp.has(o.trim().toLowerCase())&&l.includes("+")?"".concat(0===t?u:"+").concat(o).concat(h.replace("+","")).concat(r):0===t&&l.includes("+")?"".concat(o).concat(h.replace("+",u)).concat(r):t<0&&!s?"".concat(o).concat(a).concat(h.replace("+","")).concat(r):"".concat(o).concat(h).concat(r)}var Gp=new Set(["฿","₿","¢","$","€","eur","£","gbp","¥","yen","usd","cad","us$","ca$","can$"]);function Kp(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Jp(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Kp(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Kp(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function Qp(t){var n,e=t.vis;this.update=function(t){var r=t.container,i=t.colorScale,o=t.map,a=e.colorMap(),u=e.theme(),c=e.size(),l=e.chart().getMetadata("data.column-format",{}),s=Wl({width:c[0],settings:e.get("legend"),column:{type:e.axes(!0).values.type(),name:e.axes(!0).values.name()},cs:{limits:i._limits,colors:i._colors,labels:i._labels,stops:i._stops},zoomable:e.get("zoomable"),zoomBtnPos:e.get("zoom-button-pos"),hideRegions:e.get("hide-empty-regions"),colorscale:e.get("colorscale",{}),colorSim:e.colorMode()||"normal"});if(!Js(s,n)&&(n=s,wt(r).select(".map-key").remove(),e.get("legend.enabled",!0)&&(!i._limits||void 0!==i._limits[0]))){var f="text"===e.axes(!0).values.type(),h=c[0]<450,p=e.get("legend.interactive"),d=e.get("legend.position","mt"),g="div.map-key.export-rect.map-key-"+d+(["mt","mb"].includes(d)?"":".map-key-inside"),v="mt"===d?wt(r).insert(g,".map-outer"):wt(r).append(g),m="m"===d.charAt(0);v.classed("mobile",h),p&&v.style("pointer-events","all"),m||v.style("b"===d.charAt(0)?"bottom":"top",e.get("legend.offsetTop",0)+"%").style("r"===d.charAt(1)?"right":"left",e.get("legend.offsetLeft",0)+"%");var y,b,w={title:e.get("legend.title"),highlight:p,width:h?c[0]-10:220,horizontal:h||m||"horizontal"===e.get("legend.orientation","horizontal"),reverse:!f&&e.get("legend.reverse",!1),theme:u},_="discrete"===e.get("colorscale.mode")&&"ruler"!==e.get("legend.labels")&&!w.horizontal,x=e.get("legend.hideItems",[]),M=!f&&i._colors&&"ruler"!==e.get("legend.labels")&&("m"===e.get("legend.position","br").charAt(0)||_);if(h||m?!m||h||"number"!==e.axes(!0).values.type()||"continuous"!==e.get("colorscale.mode")&&"ruler"!==e.get("legend.labels")||(w.width=e.get("legend.size",200)):w[w.horizontal||f||_?"width":"height"]=e.get("legend.size",170),"number"===e.axes(!0).values.type()){var k=ql(u,"typography.chart.minusCharacter","−"),S=ql(u,"typography.chart.plusMinusCharacter","±"),A=e.get("legend.labelFormat","0.[00]"),E=l[e.axes().values]||{},j=E["number-prepend"]||"",$=E["number-append"]||"",O=Math.pow(10,-E["number-divisor"]||0);b=function(t){return Vp(t,{format:A,multiply:O,prepend:j,append:$,minusChar:k,plusMinusChar:S})}}if(f){var N=ql(u,"colors.categories",[[]])[e.get("colorscale.palette",0)],z=e.get("colorscale.map",{}),T=e.get("colorscale.categoryOrder",[]),L=e.get("colorscale.categoryLabels",{}),P=0;(w=Jp(Jp({},w),{},{swatches:Wh(i._labels.sort((function(t,n){return T.indexOf(t)-T.indexOf(n)})).map((function(t,n){var e=null!=L[t]?L[t]:t,r=z[t]?z[t]:N[P++];return{key:"".concat(r,"///").concat(e),label:e,value:t,index:n,color:a(r)}})),(function(t){return t.key})).sort((function(t,n){return t.index-n.index})).filter((function(t){return t.label}))})).horizontal||(w.height="auto",w.paddingBottom=0),y=up(v.node(),w)}else if(M){var D="discrete"===e.get("colorscale.mode")&&"custom"===e.get("legend.labels")&&e.get("legend.customLabels",[]);w=Jp(Jp({},w),{},{swatches:i._stops.slice(1).map((function(t,n){return{key:"class-".concat(n),color:a(i._colors[n]),index:n,min:0===n?-1/0:+i._stops[n],max:n===i._stops.length-2?1/0:+i._stops[n+1],label:D?D[n]:0===n?"<&nbsp;".concat(b(t)):n<i._colors.length-1?"".concat(b(i._stops[n]),"–").concat(b(t)):"≥&nbsp;".concat(b(i._stops[n]))}}))}),"custom"===e.get("legend.labels")&&(w.swatches=w.swatches.filter((function(t,n){return!x.includes(n)}))),w.horizontal||(w.height="auto",w.paddingBottom=0),y=up(v.node(),w)}else{w=Jp(Jp({},w),{},{limits:i._limits,breaks:i._stops,ruler:"ruler"===e.get("legend.labels"),colors:i._colors?i._colors.map((function(t){return a(t)})):function(t){return a(i(t))},format:b}),"categories"===e.get("colorscale.mode")?w.labels=i._labels:"continuous"===e.get("colorscale.mode")&&"custom"===e.get("legend.labels")?(w.labels=[e.get("legend.labelMin",""),e.get("legend.labelMax","")],""!==e.get("colorscale.rangeCenter")&&void 0!==e.get("colorscale.rangeCenter")&&w.labels.splice(1,0,e.get("legend.labelCenter",""))):"discrete"===e.get("colorscale.mode")&&"custom"===e.get("legend.labels")&&(w.labels=e.get("legend.customLabels",[]).filter((function(t,n){return!x.includes(n)})),w.colors=w.colors.filter((function(t,n){return!x.includes(n)})),w.breaks=w.breaks.filter((function(t,n){return 0===n||n===w.breaks.length-1||!x.includes(n-1)}))),y=Zp(v.node(),w);var C=v.select(".color-legend").node();o.setBottomMargin(h&&C&&C.clientHeight||0)}if(p){y.on("mouseenter",(function(t){o.highlight(t)})),y.on("mouseleave",(function(){o.highlight(null)}));var R=e.axes(!0).values,F=e.get("colorscale.categoryLabels",{});o.onHighlight=function(t){if(!t)return y.highlight();var n=t.data?t.data[R.name()]:t.properties._cluster?t.properties._val2:t.properties[R.name()];if(M){var e=i._stops.filter((function(t,e){return e===i._stops.length-2||0===e?t<=n:t<n})).length-1;n="class-".concat(e)}y.highlight("text"===R.type()?"".concat(t.fill||t.properties._color,"///").concat(F[n]||n):n)}}}}}var td={circle:"M -1,0 a 1,1 0 1,0 2,0 a 1,1 0 1,0 -2,0 Z",square:"M-0.88622,-0.88622L0.88622,-0.88622L0.88622,0.88622L-0.88622,0.88622Z",diamond:"M0,-1.25331L1.25331,0L0,1.25331L-1.25331,0Z",marker:"m0.004066,-2.757056c-0.466801,0 -0.84528,0.378395 -0.84528,0.845279c0,0.130754 0.029717,0.254741 0.082794,0.365187c0.00297,0.006277 0.762485,1.494428 0.762485,1.494428l0.753324,-1.475938c0.058773,-0.115068 0.091955,-0.245496 0.091955,-0.383677c0,-0.466885 -0.378395,-0.845279 -0.84528,-0.845279zm0,1.352447c-0.280083,0 -0.507168,-0.227169 -0.507168,-0.507168s0.227085,-0.507168 0.507168,-0.507168c0.279999,0 0.507167,0.227169 0.507167,0.507168s-0.227168,0.507168 -0.507167,0.507168z",hexagon:"M0,-1.09963 L 0.952436,-0.549815 l 0,1.09963 L 0,1.09963 L -0.952436,0.549815 l 0,-1.09963 Z",triangle_up:"M0,-1.16635 L 1.34677,1.16635 l-2.69354,0 Z",triangle_down:"M0,1.16635 L 1.34677,-1.16635 l-2.69354,0 Z",spike:"M-1,0L0,-1L1,0"},nd={circle:function(t){t.moveTo(1,0),t.arc(0,0,1,0,2*Math.PI)},square:function(t){var n=.88622;t.rect(-n,-n,2*n,2*n)},diamond:function(t){var n=.88622,e=.25*Math.PI;t.rotate(e),t.rect(-n,-n,2*n,2*n),t.rotate(-e)},hexagon:function(t){var n=1.09963,e=n/2,r=.952436;t.moveTo(0,-n),t.lineTo(r,-e),t.lineTo(r,e),t.lineTo(0,n),t.lineTo(-r,e),t.lineTo(-r,-e),t.lineTo(0,-n)},triangle_up:function(t){var n=1.16635,e=1.34677;t.moveTo(0,-n),t.lineTo(e,n),t.lineTo(-e,n),t.lineTo(0,-n)},triangle_down:function(t){var n=1.16635,e=1.34677;t.moveTo(0,n),t.lineTo(e,-n),t.lineTo(-e,-n),t.lineTo(0,n)},marker:function(t){t.moveTo(.004066,-2.757056),t.bezierCurveTo(-.462735,-2.757056,-.841214,-2.378661,-.841214,-1.9117769999999998),t.bezierCurveTo(-.841214,-1.7810229999999998,-.811497,-1.6570359999999997,-.75842,-1.54659),t.bezierCurveTo(-.75545,-1.5403129999999998,.004064999999999985,-.05216199999999982,.004064999999999985,-.05216199999999982),t.lineTo(.757389,-1.5280999999999998),t.bezierCurveTo(.8161619999999999,-1.6431679999999997,.849344,-1.7735959999999997,.849344,-1.9117769999999998),t.bezierCurveTo(.849344,-2.378662,.470949,-2.757056,.0040639999999999565,-2.757056),t.arc(0,-1.404609-.507167,.507167,0,2*Math.PI)},spike:function(t){t.moveTo(-1,0),t.lineTo(0,-1),t.lineTo(1,0)}};function ed(t){var n=t.map,e=t.vis,r=t.theme,i=(0,t.getZoom)(),o=/<br *\/?>|\n/g,a=Wl(e.get("labels.places")).filter((function(t){return t.origAlign=t.align,t.visible}));if(n.g.selectAll("g.places").remove(),a.length&&e.get("labels.enabled")&&"places"===e.get("labels.type")){var u=n.g.append("g.places"),c=u.appendMany("g.place",a).attr("class",(function(t){return["place",t.inverted?"inverted":"",t.type,t._visible?"":"place-hidden"].join(" ")})),l={country:13},f={capital:td.square,point:td.circle};c.each((function(t){t.fontSize=ql(r,"vis.d3-maps-core.places.".concat(t.type,".label.fontSize"),ql(r,"vis.d3-maps-core.places.general.label.fontSize",l[t.type]||10)),t.symbolSize=ql(r,"vis.d3-maps-core.places.".concat(t.type,".symbol.size"),ql(r,"vis.d3-maps-core.places.general.symbol.size",3)),t.symbolPath=ql(r,"vis.d3-maps-core.places.".concat(t.type,".symbol.path"),f[t.type]||!1)})),c.attr("transform",(function(t){var e=n.proj(n.mapProj([t.x,t.y]));return t.anchor=e,"translate(".concat(t.anchor,") scale(").concat(1/i.k,")")}));var h=c.append("g.text-wrapper");h.append("text.buffer"),h.append("text.place-label"),c.append("path.place-symbol").attr("d",(function(t){return t.symbolPath||""})).attr("transform",(function(t){return"scale(".concat(t.symbolSize,")")})),p(),n.updateLabelOverlaps(u,"g.place"),p(),c.classed("place-hidden",(function(t){return!t._visible})),n.addZoomLayer("place-labels-layer",u,c),n.updatePlacesAfterZoom=nh((function(){n.updateLabelOverlaps(u,"g.place"),p(),c.classed("place-hidden",(function(t){return!t._visible}));var t=!1;a.forEach((function(n){n.align!==n.origAlign&&(n.align=n.origAlign,t=!0)})),t&&p(),n.updateLabelOverlaps(u,"g.place"),p(),c.classed("place-hidden",(function(t){return!t._visible}))}),200),n.onZoom(n.updatePlacesAfterZoom)}function p(){c.each((function(t){var n=t.text.replace(/-/g,"- ");t.__lines=(n?n.match(o)?n.trim().split(o):function(t,n,e,r){var i,o,a,u,c,l,s=[],f=[],h=[];return(o=t.split(" ")).forEach((function(t,n){var e=t.split("-"),r=n<o.length-1?" ":"";e.length>1?e.forEach((function(t,n){f.push(t+(n<e.length-1?"-":r))})):f.push(t+r)})),a=n||40,u=e||Math.max(3,Math.min(.5*a,.75*f.map((function(t){return t.length})).sort((function(t,n){return t-n}))[Math.round(f.length/2)])),c=a*Wi.a,l=u*Wi.a,i=0,f.forEach((function(t){var n=Pt(t.split("").map(p));return i+n>c&&i>l&&(s.push(h.join("")),h.length=0,i=0),i+=n,h.push(t)})),h.length&&s.push(h.join("")),s.filter((function(t){return""!==t}));function p(t){return!r&&Wi[t]||Wi.a}}(n,10):[]).map((function(t){return t.replace(/- /g,"-")})),"t"===t.align.split("")[0]&&t.__lines.reverse()})),h.attr("transform",(function(t){var n=t.align.split(""),e=s(n,2),i=e[0],o=e[1],a=ql(r,"vis.d3-maps-core.places.".concat(t.type,".label.translateX"),0),u=ql(r,"vis.d3-maps-core.places.".concat(t.type,".label.translateY"),0),c=(t.symbolSize+a)*{l:1,c:0,r:-1}[o],l=(t.fontSize+t.symbolSize+u)*{t:-1,m:0,b:1}[i];return"translate(".concat(c,",").concat(l,")")})),c.selectAll("text").style("text-anchor",(function(t){return{l:"end",c:"middle",r:"start"}[t.align.split("")[1]]})),n.g.selectAll("tspan").remove(),c.selectAll("text").tspans((function(t){return t.__lines}),(function(t){var n=t.align;return((t.fontSize||10)+4)*{t:-1,m:1,b:1}[n.split("")[0]]}))}}function rd(t,n,e){return"left"===e?0:"right"===e?n-t:(n-t)/2}function id(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function od(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?id(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):id(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}bt.prototype.at=Fi,bt.prototype.append=Ni,bt.prototype.translate=$i,bt.prototype.tspans=Di,Cl.extend(Rl),Cl.extend(Fl),Cl.extend((function(t,n){var e=n.prototype,r=e.format;e.format=function(t){var n=this,e=t||"YYYY-MM-DDTHH:mm:ssZ",i=this.$locale().seasonSeparator||"-",o=e.replace(/(\[[^\]]+])|BB|B/g,(function(t,e){var r,o,a=n.$y,u=a+1,c="B"===t,l=c?[String(a).slice(-2),2]:[a,4],s=[String(u).slice(-2),2];return e||"".concat(c?"'":"").concat((r=n.$utils()).s.apply(r,l.concat(["0"]))).concat(i).concat(c?"'":"").concat((o=n.$utils()).s.apply(o,s.concat(["0"])))}));return r.bind(this)(o)}}));var ad=.45;function ud(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,c,l,s,f,h,p=t._root,d={data:r},g=t._x0,v=t._y0,m=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=n>=(o=(g+m)/2))?g=o:m=o,(s=e>=(a=(v+y)/2))?v=a:y=a,i=p,!(p=p[f=s<<1|l]))return i[f]=d,t;if(u=+t._x.call(null,p.data),c=+t._y.call(null,p.data),n===u&&e===c)return d.next=p,i?i[f]=d:t._root=d,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(l=n>=(o=(g+m)/2))?g=o:m=o,(s=e>=(a=(v+y)/2))?v=a:y=a}while((f=s<<1|l)==(h=(c>=a)<<1|u>=o));return i[h]=p,i[f]=d,t}function cd(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function ld(t){return t[0]}function sd(t){return t[1]}function fd(t,n,e){var r=new hd(null==n?ld:n,null==e?sd:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function hd(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function pd(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}dw.visualization.register("d3-maps-core",(function(){var t;return{init:function(t){this.svg=t.node(),this.mapKey=new Qp({vis:this});try{var n=this.chart().locales.numeral;n&&function(t){Bl||(Dl.register("locale","dw",t),Dl.locale("dw"),Bl=!0)}(n);var e=this.chart().locales.dayjs;e&&Cl.locale(e)}catch(t){console.warn("Couldnt register locale",t)}},initBaseMap:function(n,e,r,i){var o=this,a=o.size(),u=o.axes(),c=o.theme(),l=JSON.parse(o.chart().asset("".concat(e,".json"))),f=0,h=0,p=a[0],d=a[1],g=+o.get("max-map-height",650),v=r.fitchart||r.fitheight,m=r.svgonly,y="custom_upload"===e?o.get("layers",{}):{};if(l){var b=wt(n);Pn(A()).l<50&&b.classed("color-invert",!0);var w=b.append("div.map-outer"),_=!1,x=window.devicePixelRatio||1;m||(_=w.append("canvas").at({width:p*x,height:d*x}).st({width:p,height:d}));var M=w.append("svg.svg-main").classed(e,!0).st({overflow:"hidden",position:"relative"}).at({width:p,height:d});o.init(M),["borders","exteriorBorders","innerborders"].forEach((function(t){y[t]&&(l.meta[t]=y[t])})),function(e,r,m,b,w,_){var x=o.get("basemap");r.maxZoom=r.maxZoom||("custom_upload"===x?20:8);var M=function(t,n,e){return{getBorder:function(n,r){return ql(e,"vis.".concat(t.meta.id,".borders.").concat(n),ql(e,"vis.d3-maps-core.borders.".concat(n),r))},getThemeProp:function(n,r){return ql(e,"vis.".concat(t.meta.id,".").concat(n),ql(e,"vis.d3-maps-core.".concat(n),r))}}}(o,0,c),E=M.getBorder,j=M.getThemeProp,$="d3-maps-choropleth"===o.meta.id?ql(c,"colors.background","#ffffff"):"#888",O="d3-maps-choropleth"===o.meta.id?"#eeeeed":"#f8f8f8",N="d3-maps-choropleth"===o.meta.id?.5:1,z=w?w.node().getContext("2d"):null,T=[],L=[],P=r.projection,D=r.extent;"custom_upload"===x&&"string"==typeof y.extent&&(D.layer=y.extent);var C=!Is(D.exclude);w&&Pl(e);var R=Al(e,e.objects[r.regions]),F="geoNaturalEarth"===P.type?"geoNaturalEarth1":P.type,B=P.rotate,q=P.center,W=!1===D.padding||void 0===D.padding?0:D.padding,Y=od(od({},bl),{},{geoAlbersUsaTerritories:Ml.geoAlbersUsaTerritories})[F]();B&&Y.rotate&&Y.rotate(B);var H=JSON.stringify(l.content).length,I=w?function(){var t,n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,r=e,i=zc({point:function(t,n,e){if(!e||e>=r){var i=a([t,n]);this.stream.point(i[0],i[1])}}}),o=dl().stream,a=dl();return a.stream=function(e){var r=a.postclip()||o;return t&&n===e?t:t=i.stream(r(n=e))},a.areaThreshold=function(t){r=t*e},a.log=function(){},a}(H>5e5?r.weight||.01:-99):dl(),U=function(){var t=R.features;return Object.keys(D.exclude).forEach((function(n){D.exclude[n].forEach((function(e){t=t.filter((function(t){return t.properties[n]!==e}))}))})),{type:"FeatureCollection",features:t}},Z=C?U():R;D.layer&&!o.get("hide-empty-regions")&&(Z=Al(e,e.objects[D.layer]));d=k(I,W,Z),q&&I.center&&console.warn("todo: what to do with projection center?");var X=Nc().projection(I),V=b.append("g.map"),G=V.append("rect.background").attr("width",p).attr("height",d);if(D.layer&&!o.get("hide-empty-regions")){var K=j("backgroundLayer.color",O),J=j("backgroundLayer.opacity",N);if(w){var Q=yn(K),tt=Q.r,nt=Q.g,et=Q.b;T.push({id:"bg",style:{fill:"rgba(".concat(tt,",").concat(nt,",").concat(et,",").concat(J,")")},features:[Al(e,e.objects[D.layer])]})}else L.push({id:"bg",selection:V.append("path.bg.geo").datum(Al(e,e.objects[D.layer])).attr("d",X).st({fill:K,opacity:J})})}var rt=function(t,n){var e,r,i,o=t.features;if(o.forEach((function(t){t.anchor=Et(t)})),w&&!n)T.push({id:"region",features:o,style:{fill:"#999999"}});else{var a=(r=(e=V.append("g.regions")).selectAll(".region").data(o).enter().append("g.region")).append("path.geo.region").attr("d",(function(t){return X(t)})).classed("highlight",(function(t){return"#id="===location.hash.substr(0,4)&&location.hash.substr(4).split(",").indexOf(t.properties.RS)>-1}));n||(L.push({id:"gregion",selection:r}),L.push({id:"region",selection:a}))}return{regionShapes:o,regions:e,gregion:r,region:i}}(R),it=rt.regionShapes,ot=rt.regions,at=[{id:"regions",defaultStyle:{lineWidth:1,stroke:$},meshFunc:function(t,n){return t!==n}},{id:"borders",defaultStyle:{lineWidth:3.33,stroke:$},meshFunc:function(t,n){return t!==n}},{id:"innerborders",defaultStyle:{lineWidth:.3,stroke:$,opacity:.9},meshFunc:function(){return!0}},{id:"exteriorBorders",defaultStyle:{lineWidth:2,stroke:$,strokeDasharray:"2,8"},meshFunc:function(){return!0}}];E("outerBorder")&&(r.outerBorder=r.regions,at.push({id:"outerBorder",defaultStyle:{lineWidth:1,stroke:$},meshFunc:function(t,n){return t===n}}));if(at.forEach((function(t){var n=t.id,i=t.defaultStyle,o=t.meshFunc;if(r[n]){var a={stroke:j("borders.".concat(n,".stroke"),i.stroke),lineWidth:j("borders.".concat(n,".scale"),i.lineWidth),strokeDasharray:j("borders.".concat(n,".strokeDasharray"),i.strokeDasharray),opacity:i.opacity},u=function(t){return jl(t,Ol.apply(this,arguments))}(e,e.objects[r[n]],o);if(w){var c=yn(a.stroke),l=c.r,s=c.g,f=c.b;T.push({id:n,style:{stroke:"rgba(".concat(l,",").concat(s,",").concat(f,",").concat(a.opacity||1,")"),lineWidth:a.lineWidth*ad,dash:a.strokeDasharray?a.strokeDasharray.split(",").map((function(t){return Number(t)*ad})):null},features:[u]})}else{var h=V.append("path.geo.borders.".concat(n)).datum(u).st(a).attr("d",X);L.push({id:n,type:"border",selection:h,style:a})}}})),!w&&"d3-maps-choropleth"===o.meta.id){var ut=V.append("g.outlines").selectAll(".region-outline").data(it).enter().append("path.geo.region-outline").attr("d",X);L.push({id:"outlines",type:"border",selection:ut,style:{lineWidth:ql(c,"vis.d3-maps-choropleth.borders.hoverOutline.scale",3)}})}var lt,st=[],ft={};v||(b.at({height:d}),w&&w.at({height:d*_}).st({height:d}));var ht={svg:b,canvas:w,scale:1,meta:r,getZoom:yt,g:V,data:it,proj:I,mapProj:Y,path:X,feat:R,svgBorderList:L.filter((function(t){return"border"===t.type})),svgLayers:L,canvasLayers:T,isDatawrapperEditor:o.chart().inEditor(),draw:mt,getThemeBgColor:A,SVG_TO_CANVAS_SCALE:ad,renderPlaces:function(){ed({map:ht,vis:o,theme:c,getZoom:yt})},updateLabelOverlaps:Tt,clearZoomLayer:function(){st.forEach((function(t){return t.g.remove()})),st.length=0},addZoomLayer:function(t,n,e){ft[t]={g:n,feat:e},st.push(ft[t])},updateZoomLayerSelection:function(t,n){ft[t].feat=n},onZoom:function(t){lt=t},setBottomMargin:function(t){return h=t,xt(o.size()),ht},setUserPadding:function(t){return f=t,xt(o.size()),ht},zoomVisRegions:function(){Z=ht.getVisRegions(),k(I,W,Z),xt(o.size())},getVisRegions:function(){return{type:"FeatureCollection",features:Z.features.filter((function(t){return!ht.hasNoData(t)}))}},hasNoData:function(t){return!t.data||void 0===t.data[u.values]||null===t.data[u.values]||"null"===t.data[u.values]||"-"===t.data[u.values]},sizeTooltip:jt(a),resizeMap:xt,fixZoom:At,zoomBehavior:!1};w&&mt();var pt=m.select(".map-outer").append("div.annotations"),dt=$t(),gt="";zt(pt);var vt=nh(ht.renderPlaces,100);t&&dt&&t.$on("update",(function(){var t=dt.get().editorState,n=JSON.stringify(ql(t,"selectedAnnotationProps",""));ql(t,"selectedTextAnnotations",[]).length&&n!==gt&&vt(),gt=n}));function mt(){!function(t){var n=t.context,e=t.getZoom,r=t.proj,i=t.mapProj,o=t.width,a=t.height,u=t.canvasScale,c=t.canvasLayers,l=t.theme,s=e(),f=["vis.d3-maps-symbols.labels.clusters","typography.chart"],h=[ql(l,"".concat(f[0],".fontWeight"),ql(l,"".concat(f[1],".fontWeight"),400)),ql(l,"".concat(f[0],".fontSize"),ql(l,"".concat(f[1],".fontSize"),14))/s.k+"px",ql(l,"".concat(f[0],".typeface"),ql(l,"".concat(f[1],".typeface"),"sans-serif"))].filter((function(t){return t})).join(" "),p=Nc(r,n);n.clearRect(0,0,o*u,a*u),n.lineJoin="round",n.lineCap="round",n.save(),n.scale(u,u),n.translate(s.x,s.y),n.scale(s.k,s.k),c.forEach((function(t){var e=t.features.filter((function(t){return!t.__hidden}));n.globalCompositeOperation=t.blendMode||"source-over",e.forEach((function(e){n.beginPath();var o="function"==typeof t.style?t.style(e):t.style,a="Feature"===e.type?e.geometry:e;if(a){if("Point"===a.type){var u;if(e.properties.__projCache?u=e.properties.__projCache:e.properties.__projCache=u=i(e.geometry.coordinates),!u)return;var c=r(u);n.save(),n.translate(c[0],c[1]);var l=void 0!==e.properties.__r?e.properties.__r:1;if(e.properties.__symbol){switch(e.properties.__symbolProps.scale){case"y":n.scale(2.5/s.k,l/s.k);break;case"area":default:n.scale(l/s.k,l/s.k)}e.properties.__symbol(n),e.properties.__symbolProps.fill&&n.closePath()}n.restore()}else p(e);n.strokeStyle=o.stroke?o.stroke:null,o.fill&&(n.fillStyle=o.fill,n.fill()),o.stroke&&(n.lineWidth=(o.lineWidth||1)/s.k,n.strokeStyle=o.stroke,n.setLineDash(o.dash?o.dash.map((function(t){return t/s.k})):[]),n.stroke())}})),n.globalCompositeOperation="source-over",n.font=h,n.textAlign="center",n.textBaseline="middle",e.forEach((function(e){var i="Feature"===e.type?e.geometry:e;if(i&&"Point"===i.type&&e.properties.__label){var o="function"==typeof t.style?t.style(e):t.style;n.fillStyle=o.labelFill||"#000000";var a=e.properties.__projCache;if(!a)return;var u=r(a);if(n.save(),"marker"===e.properties.__symbolProps.id){var c=.85*(void 0!==e.properties.__r?e.properties.__r:1)/s.k;n.translate(u[0],u[1]-c)}else n.translate(u[0],u[1]);n.fillText(e.properties.__label,0,0),n.restore()}}))})),n.restore(),r.log()}({context:z,getZoom:yt,proj:I,mapProj:Y,width:p,height:d,canvasScale:_,canvasLayers:T,theme:c})}function yt(){return ht&&void 0!==ht.zoomBehavior&&!1!==ht.zoomBehavior?bi(b.node()):yi}if(o.get("zoomable",!1)){ht.zoomBehavior=ji().scaleExtent([1,r.maxZoom]).extent(S(I,W,R).extent).translateExtent(S(I,W,R).extent).filter((function(){var t="wheel"===ct.type&&!ct.ctrlKey,n=ct.touches&&1===ct.touches.length;return!ct.button&&!t&&!n})).on("zoom",kt),b.call(ht.zoomBehavior).style("touch-action","auto");var bt={in:"M1,5 h4 v-4 h2 v4 h4 v2 h-4 v4 h-2 v-4 h-4 v-2 Z",out:"M1,5 h10 v2 h-10 v-2 Z",home:"M0,2h2v-2h2v4h-4v-2Z M0,8h4v4h-2v-2h-2v-2z M8,0h2v2h2v2h-4v-4z M8,8h4v2h-2v2h-2v-4z"},wt=o.get("zoom-button-pos","br");m.select(".map-outer").append("div.zoom-buttons.zoom-buttons-".concat(wt)).selectAll(".zoom-btn").data("b"===wt.charAt(0)?["home","in","out"]:["in","out","home"]).enter().append("button").attr("class",(function(t){return"zoom-btn zoom-btn-".concat(t)})).on("click",St).append("svg").at({width:12,height:12}).append("path").attr("d",(function(t){return bt[t]}));var _t=!1;m.on("keypress",(function(){if(!_t&&ct.target.classList.contains("zoom-btn")&&(" "===ct.key||"Enter"===ct.key)){var t=m.append("div").st({position:"absolute",left:0,right:0,top:0,fontSize:15,textAlign:"center",padding:"10px 40px",zIndex:9,background:"rgba(255,255,255,0.8)",color:"black"}).html("Hint: you can use the <tt>w</tt>,<tt>a</tt>,<tt>s</tt>,<tt>d</tt> keys to pan around the map");setTimeout((function(){t.remove()}),1e4),_t=!0}if("wasd".includes(ct.key)){var n=yt();if(n.k>1){var e="a"===ct.key?100:"d"===ct.key?-100:0,r="w"===ct.key?100:"s"===ct.key?-100:0;ht.zoomBehavior.translateBy(b,e/n.k,r/n.k)}}}))}function xt(e){if(g=+o.get("max-map-height",650),o.size(e[0],e[1]),p=e[0],d=e[1]-h,v){var r=n.querySelector(".annotation-keys:not(.hide)"),i=r&&r.clientHeight>0?r.clientHeight+0:0,a=n.querySelector(".map-key-mt,.map-key-mb"),u=a&&a.clientHeight>0?a.clientHeight+5:0;d-=u+i}if(d=k(I,W,Z),ht.zoomBehavior&&ht.zoomBehavior.extent(S(I,W,R).extent).translateExtent(S(I,W,R).extent),w?mt():b.selectAll("path.geo").attr("d",(function(t){return X(t)})),b.at({width:p,height:d}),w&&w.at({width:p*_,height:d*_}).st({width:p,height:d}),G.attr("width",p).attr("height",d),ht.sizeTooltip=jt(e),w?ht.data.forEach((function(t){t.anchor=Et(t)})):ot.selectAll("g.region").each((function(t){return t.anchor=Et(t)})),t){var c=Ot(),l=Nt();t.$set({dataToPx:c,pxToData:l,visWidth:p})}At()}return i(ht);function Mt(t,n,e){return Math.max(n,Math.min(e,t))}function kt(){var n=ct.transform;if(m.classed("d3-maps-zoomed-in",n.k>1),At(),t){var e=Ot(),r=Nt();t.$set({dataToPx:e,pxToData:r})}lt&&lt(n.k,[n.x,n.y])}function St(t){if("home"===t)ht.zoomBehavior.transform(b.transition().duration(750),yi);else{var n=Mt(yt().k*Math.pow(2,+("in"===t?1:-1)),1,r.maxZoom);Math.abs(n-1)<1e-4?ht.zoomBehavior.transform(b.transition().duration(750),yi):ht.zoomBehavior.scaleTo(b.transition().duration(750),n)}}function At(){var t=yt(),n=ht.scale=t.k;w&&I.areaThreshold(n===r.maxZoom?0:1/Math.pow(n,1.5)/Math.pow(Math.min(600,p)/600,2));var e=(.45+.25*Math.pow(Math.min(1,n-1),.5))/n,i=L.filter((function(t){return"border"===t.type}));w&&mt(),V.attr("transform",t),i.forEach((function(t){var n=t.id,i=t.selection,o=t.style;if((r[n]||"outlines"===n)&&i.style("stroke-width",e*o.lineWidth+"px"),o.strokeDasharray){var a=o.strokeDasharray.split(",").map((function(t){return Number(t)*e}));i.style("stroke-dasharray",a.join(","))}}));for(var o=st.length,a=0;a<o;a++)st[a].feat.attr("transform",u);function u(t){return"translate("+t.anchor+") scale("+1/n+")"}}function Et(t){if(void 0===t.properties.cx||void 0===t.properties.cy)return X.centroid(t);var n=Y([t.properties.cx,t.properties.cy]);return n?I(n):X.centroid(t)}function jt(t){return function(n,e,r){if(t[0]<400){var i=n[1]/t[1],a=!0===o.__chart.get("metadata.describe.hide-title")||""===o.__chart.get("metadata.describe.intro")&&""===o.__chart.get("title");r.st({top:i<.5?"auto":a?"0px":"-20px",bottom:i<.5?"20px":"auto",left:0,right:0,"max-width":"100%","max-height":.45*t[1]+"px"})}else{var u=r.property("offsetWidth"),c=r.property("offsetHeight"),l=e.offsetWidth,s=e.offsetHeight,f=n[0]+10+u<l,h=n[1]+10+c<s;r.st({top:h?n[1]-10+"px":"auto",bottom:h?"auto":Math.min(s-c,s-n[1]+10)+"px",left:f?n[0]+10+"px":"auto",right:f?"auto":l-n[0]+10+"px","max-height":.55*t[1]+"px"}),r.style("max-width",null)}}}function $t(){if(o.chart().inEditor()){var t=window.parent.dw.backend.hooks.call("get-annotation-controls").results;if(t&&t.length)return window.__registerAnnotationControls=void 0,t[t.length-1];window.__registerAnnotationControls=function(t){window.__annotationLayer.$set({editMode:!0}),t.syncAnnotationLayer(window.__annotationLayer)}}return null}function Ot(){var t;return function(n,e){var r=t||[20,20];if(Math.abs(n)>180||Math.abs(e)>90)return r;var i=Y([n,e]);if(!i)return r;var o=s(i,2),a=o[0],u=o[1],c=I([a,u]),l=s(c,2),f=l[0],h=l[1],p=yt().apply([f,h]),d=s(p,2),g=d[0],v=d[1];return t=[g,v].map((function(t){return+t.toFixed(1)}))}}function Nt(){return function(t,n){var e=yt().invert([t,n]),r=s(e,2),i=r[0],o=r[1],a=I.invert([i,o]),u=s(a,2),c=u[0],l=u[1];return Y.invert([c,l])}}function zt(n){var e=o.chart().inEditor(),r=e&&$t(),i=Wl(o.get("text-annotations",[]));if(!i.length&&!e)return!1;var a=Ot(),u=Nt(),c=m.append("div.annotation-keys");if(t)try{t.$destroy()}catch(t){console.warn("Annotation layer not destroyed, error caught to prevent issue in IE")}return t=new Yl({target:n.node(),props:{textAnnotations:i,dataToPx:a,pxToData:u,theme:o.theme(),cm:o.colorMap(),visWidth:p,annotationKeysSel:c}}),r&&(t.$set({editMode:!0}),r.syncAnnotationLayer(t),V.on("mousedown",(function(){var t=r.get().editorState;t.selectedTextAnnotations=[],r.set({editorState:t})}))),t}function Tt(t,n){var e=yt(),r=!1;if(o.get("avoid-label-overlap",!0)||"column"!==o.get("labels.type","places")){var i=[],a=o.__chart.getElementBounds(ht.svg.node()),u=m.selectAll(".text-annotation .text"),c=2;return u.each((function(){var t=o.__chart.getElementBounds(this),n=t.top-a.top-c,e=t.bottom-a.top+c,r=t.left-a.left-c,u=t.right-a.left+c;i.push({t:n,l:r,b:e,r:u})})),t.selectAll(n).each((function(t){var n=o.__chart.getElementBounds(this),i=l(n,t);if(i&&("point"===t.type||"capital"===t.type)&&"places"===o.get("labels.type","places")&&1===e.k){var u=Wl(n),c=t.anchor,s=t.symbolSize;Wh(["tr","br","bl","tl"]).forEach((function(n){if(i){switch(n){case"tr":u.left=c[0]-s,u.right=c[0]+u.width-s,u.top=c[1]-u.height+a.top+2*s,u.bottom=c[1]+a.top;break;case"tl":u.left=c[0]-u.width+s,u.right=c[0]+s,u.top=c[1]-u.height+a.top+2*s,u.bottom=c[1]+a.top;break;case"bl":u.left=c[0]-u.width+s,u.right=c[0]+s,u.top=c[1]+a.top,u.bottom=c[1]+u.height+a.top-2*s;break;case"br":u.left=c[0]-s,u.right=c[0]+u.width-s,u.top=c[1]+a.top,u.bottom=c[1]+u.height+a.top-2*s}l(u,t)||(t.align=n,r=!0,i=!1)}}))}t._visible=!i})),{alignmentChanged:r}}function l(t,n){var r=t.top-a.top-c,o=t.bottom-a.top+c,u=t.left-a.left-c,l=t.right-a.left+c,s=!1;return(u<0||r<0||o>a.height||l>a.width)&&1===e.k&&(s=!0),s||i.forEach((function(t){r>t.b||l<t.l||o<t.t||u>t.r||n!==t.data&&(s=!0)})),s||i.push({t:r,l:u,b:o,r:l,data:n}),s}}}(l.content,l.meta,b,M,_,x)}else setTimeout((function(){return location.reload()}),2e3);function k(t,n,e){var r=S(t,n,e),i=r.extent,o=r.h;return t.fitExtent(i,e),o||d}function S(t,n,e){var r=function(t,n,e,r){var i=Math.round(t*e/2)+(r||0),o=Math.round(n*e/2)+(r||0);return{left:i,right:i,top:o,bottom:o}}(p,d,f,n),i=o.get("map-align","center"),a=(p||50)-r.left-r.right,u=(v?d||50:g)-r.top-r.bottom,c=Nc().projection(t).bounds(e),l=function(t,n,e,r){var i=t/n;return i>e/r?[e,Math.round(e/i)]:[r*i,r]}(c[1][0]-c[0][0],c[1][1]-c[0][1],a,u),h=s(l,2),m=h[0],y=h[1],b=v?u:y,w=rd(m,a,i),_=rd(y,b,"center"),x=[r.left+w,r.top+_];return{extent:[x,[x[0]+m,x[1]+y]],h:b+r.top+r.bottom}}function A(){return o.theme().colors.background}},_svgCanvas:function(){return this.svg},getFormat:function(t,n,e){if(!n)return Af;var r=this,i=r.get(t,e),o=i.indexOf("%")>-1,a="number"===n.type()?function(t){return Dl(o?.01*t:t).format((n=i,e={f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".1s":"0a",".2s":"0.0a",".3s":"0.00a"},Object.prototype.hasOwnProperty.call(e,n)?e[n]:n));var n,e}:"date"===n.type()?function(n){return moment(n).format(r.get(t)||"YYYY")}:Af;return function(t){return"date"===n.type()?ms(t)?a(t):t:a(t)}},getColorScale:function(t){var n=this,e=n.dataset,r=n.axes(!0).values,i=r.type(),o=n.get(t+".colors",function(t){var n=[{c:"#fff",p:0},{c:"#000",p:1}],e=t.theme(),r=e.colors?e.colors.gradients:null;if(!r)return n;var i=r[0];return!i||!gs(i[0])||i.length<2?n:i.map((function(t,n){return{c:t,p:n/(i.length-1)}}))}(n)),a=n.get(t+".stops",function(t,n){var e=[{p:0,v:0},{p:1,v:1}],r=n.name();if(!r)return e;var i=t.column(r).range();return i?[{p:0,v:i[0]},{p:1,v:i[1]}]:e}(e,r));if(window.ds=e,"number"===i){var u=Ve().range(a.map(Bi("p"))).domain(a.map(Bi("v"))),c=Ve().clamp(!0).domain(o.map(Bi("p"))).range(o.map(Bi("c")));return Bi(u,c)}var l=Wh(r.values()).filter(Af);return o=n.__categoryColors=function(t,n,e){var r=Wt(t),i=[].concat(e.colors.palette).concat(e.colors.secondary).filter((function(t){return r.indexOf(t)<0})),o=Object.assign({},t);return n.forEach((function(t){if(!o[t]){var n=i.shift();o[t]=n}})),o}(n.get("categories",{}),l,n.theme()),Zt().domain(function(t){var n=[];for(var e in t)n.push(e);return n}(o)).range(Wt(o))}}}));var dd=fd.prototype=hd.prototype;function gd(t){return t.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"").replace(/-/g,"_").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(and|or|in|true|false)$/,"$1_")}function vd(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function md(t){var n=t,e=t;function r(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r}return 1===t.length&&(n=function(n,e){return t(n)-e},e=function(t){return function(n,e){return vd(t(n),e)}}(t)),{left:r,center:function(t,e,i,o){null==i&&(i=0),null==o&&(o=t.length);var a=r(t,e,i,o-1);return a>i&&n(t[a-1],e)>-n(t[a],e)?a-1:a},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}dd.copy=function(){var t,n,e=new hd(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=pd(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=pd(n));return e},dd.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return ud(this.cover(n,e),n,e,t)},dd.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),c=1/0,l=1/0,s=-1/0,f=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<c&&(c=r),r>s&&(s=r),i<l&&(l=i),i>f&&(f=i));if(c>s||l>f)return this;for(this.cover(c,l).cover(s,f),e=0;e<o;++e)ud(this,a[e],u[e],t[e]);return this},dd.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a,u,c=i-e,l=this._root;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,(a=new Array(4))[u]=l,l=a,c*=2,u){case 0:i=e+c,o=r+c;break;case 1:e=i-c,o=r+c;break;case 2:i=e+c,r=o-c;break;case 3:e=i-c,r=o-c}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},dd.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},dd.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},dd.find=function(t,n,e){var r,i,o,a,u,c,l,s=this._x0,f=this._y0,h=this._x1,p=this._y1,d=[],g=this._root;for(g&&d.push(new cd(g,s,f,h,p)),null==e?e=1/0:(s=t-e,f=n-e,h=t+e,p=n+e,e*=e);c=d.pop();)if(!(!(g=c.node)||(i=c.x0)>h||(o=c.y0)>p||(a=c.x1)<s||(u=c.y1)<f))if(g.length){var v=(i+a)/2,m=(o+u)/2;d.push(new cd(g[3],v,m,a,u),new cd(g[2],i,m,v,u),new cd(g[1],v,o,a,m),new cd(g[0],i,o,v,m)),(l=(n>=m)<<1|t>=v)&&(c=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=c)}else{var y=t-+this._x.call(null,g.data),b=n-+this._y.call(null,g.data),w=y*y+b*b;if(w<e){var _=Math.sqrt(e=w);s=t-_,f=n-_,h=t+_,p=n+_,r=g.data}}return r},dd.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,c,l,s,f,h,p=this._root,d=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(u=(d+v)/2))?d=u:v=u,(s=a>=(c=(g+m)/2))?g=c:m=c,n=p,!(p=p[f=s<<1|l]))return this;if(!p.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(p=n[0]||n[1]||n[2]||n[3])&&p===(n[3]||n[2]||n[1]||n[0])&&!p.length&&(e?e[h]=p:this._root=p),this):(this._root=i,this)},dd.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},dd.root=function(){return this._root},dd.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},dd.visit=function(t){var n,e,r,i,o,a,u=[],c=this._root;for(c&&u.push(new cd(c,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&c.length){var l=(r+o)/2,s=(i+a)/2;(e=c[3])&&u.push(new cd(e,l,s,o,a)),(e=c[2])&&u.push(new cd(e,r,s,l,a)),(e=c[1])&&u.push(new cd(e,l,i,o,s)),(e=c[0])&&u.push(new cd(e,r,i,l,s))}return this},dd.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new cd(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,c=n.x1,l=n.y1,s=(a+c)/2,f=(u+l)/2;(o=i[0])&&e.push(new cd(o,a,u,s,f)),(o=i[1])&&e.push(new cd(o,s,u,c,f)),(o=i[2])&&e.push(new cd(o,a,f,s,l)),(o=i[3])&&e.push(new cd(o,s,f,c,l))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},dd.x=function(t){return arguments.length?(this._x=t,this):this._x},dd.y=function(t){return arguments.length?(this._y=t,this):this._y};e((function(t){var n=function(t){var n,e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{c({},"")}catch(t){c=function(t,n,e){return t[n]=e}}function l(t,n,e,r){var i=n&&n.prototype instanceof v?n:v,o=Object.create(i.prototype),a=new j(r||[]);return o._invoke=function(t,n,e){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return O()}for(e.method=i,e.arg=o;;){var a=e.delegate;if(a){var u=S(a,e);if(u){if(u===g)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(r===f)throw r=d,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r=p;var c=s(t,n,e);if("normal"===c.type){if(r=e.done?d:h,c.arg===g)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r=d,e.method="throw",e.arg=c.arg)}}}(t,e,a),o}function s(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",g={};function v(){}function m(){}function y(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w($([])));_&&_!==e&&r.call(_,o)&&(b=_);var x=y.prototype=v.prototype=Object.create(b);function M(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function k(t,n){function e(i,o,a,u){var c=s(t[i],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"===Xt(f)&&r.call(f,"__await")?n.resolve(f.__await).then((function(t){e("next",t,a,u)}),(function(t){e("throw",t,a,u)})):n.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return e("throw",t,a,u)}))}u(c.arg)}var i;this._invoke=function(t,r){function o(){return new n((function(n,i){e(t,r,n,i)}))}return i=i?i.then(o,o):o()}}function S(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,S(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=s(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function A(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function E(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function $(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}return{next:O}}function O(){return{value:n,done:!0}}return m.prototype=x.constructor=y,y.constructor=m,m.displayName=c(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},M(k.prototype),k.prototype[a]=function(){return this},t.AsyncIterator=k,t.async=function(n,e,r,i,o){void 0===o&&(o=Promise);var a=new k(l(n,e,r,i),o);return t.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},M(x),c(x,u,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=$,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(r,i){return u.type="throw",u.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),E(e),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var i=r.arg;E(e)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:$(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),g}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}}));function yd(t){return null===t?NaN:+t}var bd=md(vd).right,wd=(md(yd).center,e((function(t){t.exports=function(t){if(Array.isArray(t))return u(t)},t.exports.default=t.exports,t.exports.__esModule=!0}))),_d=e((function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0})),xd=e((function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0})),Md=n(e((function(t){t.exports=function(t){return wd(t)||_d(t)||c(t)||xd()},t.exports.default=t.exports,t.exports.__esModule=!0}))),kd=Math.sqrt(50),Sd=Math.sqrt(10),Ad=Math.sqrt(2);function Ed(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=jd(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(a=-a,t=Math.ceil(t*a),n=Math.floor(n*a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)/a;return r&&o.reverse(),o}function jd(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=kd?10:o>=Sd?5:o>=Ad?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=kd?10:o>=Sd?5:o>=Ad?2:1)}function $d(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yd;if(r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),u=+e(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function Od(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function Nd(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function zd(t){return+t}var Td=[0,1];function Ld(t){return t}function Pd(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Dd(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Pd(i,r),o=e(a,o)):(r=Pd(r,i),o=e(o,a)),function(t){return o(r(t))}}function Cd(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Pd(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=bd(t,n,1,r)-1;return o[e](i[e](n))}}function Rd(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fd(){var t,n,e,r,i,o,a=Td,u=Td,c=re,l=Ld;function s(){var t=Math.min(a.length,u.length);return l!==Ld&&(l=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(a[0],a[t-1])),r=t>2?Cd:Dd,i=o=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,c)))(t(l(n)))}return f.invert=function(e){return l(n((o||(o=r(u,a.map(t),Jn)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,zd),s()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),s()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),c=ie,s()},f.clamp=function(t){return arguments.length?(l=!!t||Ld,s()):l!==Ld},f.interpolate=function(t){return arguments.length?(c=t,s()):c},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,s()}}function Bd(){return Fd()(Ld,Ld)}function qd(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=kd?i*=10:o>=Sd?i*=5:o>=Ad&&(i*=2),n<t?-i:i}(t,n,e);switch((r=Te(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=Ie(o,a))||(r.precision=i),Be(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Ue(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=He(o))||(r.precision=i-2*("%"===r.type))}return Fe(r)}function Wd(t){var n=t.domain;return t.ticks=function(t){var e=n();return Ed(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return qd(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,c=o[a],l=o[u],s=10;for(l<c&&(i=c,c=l,l=i,i=a,a=u,u=i);s-- >0;){if((i=jd(c,l,e))===r)return o[a]=c,o[u]=l,n(o);if(i>0)c=Math.floor(c/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function Yd(){var t=Bd();return t.copy=function(){return Rd(t,Yd())},Nd.apply(t,arguments),Wd(t)}function Hd(){var t,n=[.5],e=[0,1],r=1;function i(i){return i<=i?e[bd(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return Hd().domain(n).range(e).unknown(t)},Nd.apply(i,arguments)}var Id,Ud=function(t){if(!lp(t))return!1;var n=Ep(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n},Zd=hp["__core-js_shared__"],Xd=(Id=/[^.]+$/.exec(Zd&&Zd.keys&&Zd.keys.IE_PROTO||""))?"Symbol(src)_1."+Id:"";var Vd=function(t){return!!Xd&&Xd in t},Gd=Function.prototype.toString;var Kd=function(t){if(null!=t){try{return Gd.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Jd=/^\[object .+?Constructor\]$/,Qd=Function.prototype,tg=Object.prototype,ng=Qd.toString,eg=tg.hasOwnProperty,rg=RegExp("^"+ng.call(eg).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ig=function(t){return!(!lp(t)||Vd(t))&&(Ud(t)?rg:Jd).test(Kd(t))};var og=function(t,n){return null==t?void 0:t[n]};var ag=function(t,n){var e=og(t,n);return ig(e)?e:void 0},ug=function(){try{var t=ag(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var cg=function(t,n,e){"__proto__"==n&&ug?ug(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e};var lg=function(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];n(r,a,e(a),t)}return r};var sg=function(t){return function(n,e,r){for(var i=-1,o=Object(n),a=r(n),u=a.length;u--;){var c=a[t?u:++i];if(!1===e(o[c],c,o))break}return n}}();var fg=function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r};var hg=function(t){return jp(t)&&"[object Arguments]"==Ep(t)},pg=Object.prototype,dg=pg.hasOwnProperty,gg=pg.propertyIsEnumerable,vg=hg(function(){return arguments}())?hg:function(t){return jp(t)&&dg.call(t,"callee")&&!gg.call(t,"callee")},mg=Array.isArray;var yg=function(){return!1},bg=e((function(t,n){var e=n&&!n.nodeType&&n,r=e&&t&&!t.nodeType&&t,i=r&&r.exports===e?hp.Buffer:void 0,o=(i?i.isBuffer:void 0)||yg;t.exports=o})),wg=/^(?:0|[1-9]\d*)$/;var _g=function(t,n){var e=Xt(t);return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&wg.test(t))&&t>-1&&t%1==0&&t<n};var xg=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Mg={};Mg["[object Float32Array]"]=Mg["[object Float64Array]"]=Mg["[object Int8Array]"]=Mg["[object Int16Array]"]=Mg["[object Int32Array]"]=Mg["[object Uint8Array]"]=Mg["[object Uint8ClampedArray]"]=Mg["[object Uint16Array]"]=Mg["[object Uint32Array]"]=!0,Mg["[object Arguments]"]=Mg["[object Array]"]=Mg["[object ArrayBuffer]"]=Mg["[object Boolean]"]=Mg["[object DataView]"]=Mg["[object Date]"]=Mg["[object Error]"]=Mg["[object Function]"]=Mg["[object Map]"]=Mg["[object Number]"]=Mg["[object Object]"]=Mg["[object RegExp]"]=Mg["[object Set]"]=Mg["[object String]"]=Mg["[object WeakMap]"]=!1;var kg=function(t){return jp(t)&&xg(t.length)&&!!Mg[Ep(t)]};var Sg=function(t){return function(n){return t(n)}},Ag=e((function(t,n){var e=n&&!n.nodeType&&n,r=e&&t&&!t.nodeType&&t,i=r&&r.exports===e&&sp.process,o=function(){try{var t=r&&r.require&&r.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=o})),Eg=Ag&&Ag.isTypedArray,jg=Eg?Sg(Eg):kg,$g=Object.prototype.hasOwnProperty;var Og=function(t,n){var e=mg(t),r=!e&&vg(t),i=!e&&!r&&bg(t),o=!e&&!r&&!i&&jg(t),a=e||r||i||o,u=a?fg(t.length,String):[],c=u.length;for(var l in t)!n&&!$g.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||_g(l,c))||u.push(l);return u},Ng=Object.prototype;var zg=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||Ng)};var Tg=function(t,n){return function(e){return t(n(e))}}(Object.keys,Object),Lg=Object.prototype.hasOwnProperty;var Pg=function(t){if(!zg(t))return Tg(t);var n=[];for(var e in Object(t))Lg.call(t,e)&&"constructor"!=e&&n.push(e);return n};var Dg=function(t){return null!=t&&xg(t.length)&&!Ud(t)};var Cg=function(t){return Dg(t)?Og(t):Pg(t)};var Rg=function(t,n){return function(e,r){if(null==e)return e;if(!Dg(e))return t(e,r);for(var i=e.length,o=n?i:-1,a=Object(e);(n?o--:++o<i)&&!1!==r(a[o],o,a););return e}}((function(t,n){return t&&sg(t,n,Cg)}));var Fg=function(t,n,e,r){return Rg(t,(function(t,i,o){n(r,t,e(t),o)})),r};var Bg=function(){this.__data__=[],this.size=0};var qg=function(t,n){return t===n||t!=t&&n!=n};var Wg=function(t,n){for(var e=t.length;e--;)if(qg(t[e][0],n))return e;return-1},Yg=Array.prototype.splice;var Hg=function(t){var n=this.__data__,e=Wg(n,t);return!(e<0)&&(e==n.length-1?n.pop():Yg.call(n,e,1),--this.size,!0)};var Ig=function(t){var n=this.__data__,e=Wg(n,t);return e<0?void 0:n[e][1]};var Ug=function(t){return Wg(this.__data__,t)>-1};var Zg=function(t,n){var e=this.__data__,r=Wg(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this};function Xg(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}Xg.prototype.clear=Bg,Xg.prototype.delete=Hg,Xg.prototype.get=Ig,Xg.prototype.has=Ug,Xg.prototype.set=Zg;var Vg=Xg;var Gg=function(){this.__data__=new Vg,this.size=0};var Kg=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e};var Jg=function(t){return this.__data__.get(t)};var Qg=function(t){return this.__data__.has(t)},tv=ag(hp,"Map"),nv=ag(Object,"create");var ev=function(){this.__data__=nv?nv(null):{},this.size=0};var rv=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},iv=Object.prototype.hasOwnProperty;var ov=function(t){var n=this.__data__;if(nv){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return iv.call(n,t)?n[t]:void 0},av=Object.prototype.hasOwnProperty;var uv=function(t){var n=this.__data__;return nv?void 0!==n[t]:av.call(n,t)};var cv=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=nv&&void 0===n?"__lodash_hash_undefined__":n,this};function lv(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}lv.prototype.clear=ev,lv.prototype.delete=rv,lv.prototype.get=ov,lv.prototype.has=uv,lv.prototype.set=cv;var sv=lv;var fv=function(){this.size=0,this.__data__={hash:new sv,map:new(tv||Vg),string:new sv}};var hv=function(t){var n=Xt(t);return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t};var pv=function(t,n){var e=t.__data__;return hv(n)?e["string"==typeof n?"string":"hash"]:e.map};var dv=function(t){var n=pv(this,t).delete(t);return this.size-=n?1:0,n};var gv=function(t){return pv(this,t).get(t)};var vv=function(t){return pv(this,t).has(t)};var mv=function(t,n){var e=pv(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this};function yv(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}yv.prototype.clear=fv,yv.prototype.delete=dv,yv.prototype.get=gv,yv.prototype.has=vv,yv.prototype.set=mv;var bv=yv;var wv=function(t,n){var e=this.__data__;if(e instanceof Vg){var r=e.__data__;if(!tv||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new bv(r)}return e.set(t,n),this.size=e.size,this};function _v(t){var n=this.__data__=new Vg(t);this.size=n.size}_v.prototype.clear=Gg,_v.prototype.delete=Kg,_v.prototype.get=Jg,_v.prototype.has=Qg,_v.prototype.set=wv;var xv=_v;var Mv=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var kv=function(t){return this.__data__.has(t)};function Sv(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new bv;++n<e;)this.add(t[n])}Sv.prototype.add=Sv.prototype.push=Mv,Sv.prototype.has=kv;var Av=Sv;var Ev=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1};var jv=function(t,n){return t.has(n)};var $v=function(t,n,e,r,i,o){var a=1&e,u=t.length,c=n.length;if(u!=c&&!(a&&c>u))return!1;var l=o.get(t),s=o.get(n);if(l&&s)return l==n&&s==t;var f=-1,h=!0,p=2&e?new Av:void 0;for(o.set(t,n),o.set(n,t);++f<u;){var d=t[f],g=n[f];if(r)var v=a?r(g,d,f,n,t,o):r(d,g,f,t,n,o);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!Ev(n,(function(t,n){if(!jv(p,n)&&(d===t||i(d,t,e,r,o)))return p.push(n)}))){h=!1;break}}else if(d!==g&&!i(d,g,e,r,o)){h=!1;break}}return o.delete(t),o.delete(n),h},Ov=hp.Uint8Array;var Nv=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e};var zv=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e},Tv=yp?yp.prototype:void 0,Lv=Tv?Tv.valueOf:void 0;var Pv=function(t,n,e,r,i,o,a){switch(e){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=n.byteLength||!o(new Ov(t),new Ov(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return qg(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var u=Nv;case"[object Set]":var c=1&r;if(u||(u=zv),t.size!=n.size&&!c)return!1;var l=a.get(t);if(l)return l==n;r|=2,a.set(t,n);var s=$v(u(t),u(n),r,i,o,a);return a.delete(t),s;case"[object Symbol]":if(Lv)return Lv.call(t)==Lv.call(n)}return!1};var Dv=function(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t};var Cv=function(t,n,e){var r=n(t);return mg(t)?r:Dv(r,e(t))};var Rv=function(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[i++]=a)}return o};var Fv=function(){return[]},Bv=Object.prototype.propertyIsEnumerable,qv=Object.getOwnPropertySymbols,Wv=qv?function(t){return null==t?[]:(t=Object(t),Rv(qv(t),(function(n){return Bv.call(t,n)})))}:Fv;var Yv=function(t){return Cv(t,Cg,Wv)},Hv=Object.prototype.hasOwnProperty;var Iv=function(t,n,e,r,i,o){var a=1&e,u=Yv(t),c=u.length;if(c!=Yv(n).length&&!a)return!1;for(var l=c;l--;){var s=u[l];if(!(a?s in n:Hv.call(n,s)))return!1}var f=o.get(t),h=o.get(n);if(f&&h)return f==n&&h==t;var p=!0;o.set(t,n),o.set(n,t);for(var d=a;++l<c;){var g=t[s=u[l]],v=n[s];if(r)var m=a?r(v,g,s,n,t,o):r(g,v,s,t,n,o);if(!(void 0===m?g===v||i(g,v,e,r,o):m)){p=!1;break}d||(d="constructor"==s)}if(p&&!d){var y=t.constructor,b=n.constructor;y==b||!("constructor"in t)||!("constructor"in n)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(n),p},Uv=ag(hp,"DataView"),Zv=ag(hp,"Promise"),Xv=ag(hp,"Set"),Vv=ag(hp,"WeakMap"),Gv="[object Map]",Kv="[object Promise]",Jv="[object Set]",Qv="[object WeakMap]",tm="[object DataView]",nm=Kd(Uv),em=Kd(tv),rm=Kd(Zv),im=Kd(Xv),om=Kd(Vv),am=Ep;(Uv&&am(new Uv(new ArrayBuffer(1)))!=tm||tv&&am(new tv)!=Gv||Zv&&am(Zv.resolve())!=Kv||Xv&&am(new Xv)!=Jv||Vv&&am(new Vv)!=Qv)&&(am=function(t){var n=Ep(t),e="[object Object]"==n?t.constructor:void 0,r=e?Kd(e):"";if(r)switch(r){case nm:return tm;case em:return Gv;case rm:return Kv;case im:return Jv;case om:return Qv}return n});var um=am,cm="[object Arguments]",lm="[object Array]",sm="[object Object]",fm=Object.prototype.hasOwnProperty;var hm=function(t,n,e,r,i,o){var a=mg(t),u=mg(n),c=a?lm:um(t),l=u?lm:um(n),s=(c=c==cm?sm:c)==sm,f=(l=l==cm?sm:l)==sm,h=c==l;if(h&&bg(t)){if(!bg(n))return!1;a=!0,s=!1}if(h&&!s)return o||(o=new xv),a||jg(t)?$v(t,n,e,r,i,o):Pv(t,n,c,e,r,i,o);if(!(1&e)){var p=s&&fm.call(t,"__wrapped__"),d=f&&fm.call(n,"__wrapped__");if(p||d){var g=p?t.value():t,v=d?n.value():n;return o||(o=new xv),i(g,v,e,r,o)}}return!!h&&(o||(o=new xv),Iv(t,n,e,r,i,o))};var pm=function t(n,e,r,i,o){return n===e||(null==n||null==e||!jp(n)&&!jp(e)?n!=n&&e!=e:hm(n,e,r,i,t,o))};var dm=function(t,n,e,r){var i=e.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var u=e[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var c=(u=e[i])[0],l=t[c],s=u[1];if(a&&u[2]){if(void 0===l&&!(c in t))return!1}else{var f=new xv;if(r)var h=r(l,s,c,t,n,f);if(!(void 0===h?pm(s,l,3,r,f):h))return!1}}return!0};var gm=function(t){return t==t&&!lp(t)};var vm=function(t){for(var n=Cg(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,gm(i)]}return n};var mm=function(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in Object(e)))}};var ym=function(t){var n=vm(t);return 1==n.length&&n[0][2]?mm(n[0][0],n[0][1]):function(e){return e===t||dm(e,t,n)}},bm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wm=/^\w*$/;var _m=function(t,n){if(mg(t))return!1;var e=Xt(t);return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!$p(t))||(wm.test(t)||!bm.test(t)||null!=n&&t in Object(n))};function xm(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var e=function e(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return e.cache=o.set(i,a)||o,a};return e.cache=new(xm.Cache||bv),e}xm.Cache=bv;var Mm=xm;var km=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sm=/\\(\\)?/g,Am=function(t){var n=Mm(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(km,(function(t,e,r,i){n.push(r?i.replace(Sm,"$1"):e||t)})),n}));var Em=function(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i},jm=yp?yp.prototype:void 0,$m=jm?jm.toString:void 0;var Om=function t(n){if("string"==typeof n)return n;if(mg(n))return Em(n,t)+"";if($p(n))return $m?$m.call(n):"";var e=n+"";return"0"==e&&1/n==-Infinity?"-0":e};var Nm=function(t){return null==t?"":Om(t)};var zm=function(t,n){return mg(t)?t:_m(t,n)?[t]:Am(Nm(t))};var Tm=function(t){if("string"==typeof t||$p(t))return t;var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Lm=function(t,n){for(var e=0,r=(n=zm(n,t)).length;null!=t&&e<r;)t=t[Tm(n[e++])];return e&&e==r?t:void 0};var Pm=function(t,n,e){var r=null==t?void 0:Lm(t,n);return void 0===r?e:r};var Dm=function(t,n){return null!=t&&n in Object(t)};var Cm=function(t,n,e){for(var r=-1,i=(n=zm(n,t)).length,o=!1;++r<i;){var a=Tm(n[r]);if(!(o=null!=t&&e(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&xg(i)&&_g(a,i)&&(mg(t)||vg(t))};var Rm=function(t,n){return null!=t&&Cm(t,n,Dm)};var Fm=function(t,n){return _m(t)&&gm(n)?mm(Tm(t),n):function(e){var r=Pm(e,t);return void 0===r&&r===n?Rm(e,t):pm(n,r,3)}};var Bm=function(t){return t};var qm=function(t){return function(n){return null==n?void 0:n[t]}};var Wm=function(t){return function(n){return Lm(n,t)}};var Ym=function(t){return _m(t)?qm(Tm(t)):Wm(t)};var Hm=function(t){return"function"==typeof t?t:null==t?Bm:"object"==Xt(t)?mg(t)?Fm(t[0],t[1]):ym(t):Ym(t)};var Im=function(t,n){return function(e,r){var i=mg(e)?lg:Fg,o=n?n():{};return i(e,t,Hm(r),o)}},Um=Object.prototype.hasOwnProperty,Zm=Im((function(t,n,e){Um.call(t,e)?++t[e]:cg(t,e,1)}));function Xm(t){if(!t||"object"!==Xt(t))return t;try{return JSON.parse(JSON.stringify(t))}catch(n){return t}}var Vm={values:[],margins:null,mode:"continuous",rangeMin:null,rangeCenter:null,rangeMax:null,colors:[{color:"#ffffff",position:0},{color:"#000000",position:1}],stops:"equidistant",customStops:[],stopCount:5,palette:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],fallback:"#eeeeee",map:{}};var Gm=function(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1};var Km=function(t){return t!=t};var Jm=function(t,n,e){for(var r=e-1,i=t.length;++r<i;)if(t[r]===n)return r;return-1};var Qm=function(t,n,e){return n==n?Jm(t,n,e):Gm(t,Km,e)};var ty=function(t,n){return!!(null==t?0:t.length)&&Qm(t,n,0)>-1};var ny=function(t,n,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1};var ey=function(){},ry=Xv&&1/zv(new Xv([,-0]))[1]==1/0?function(t){return new Xv(t)}:ey;var iy=function(t,n,e){var r=-1,i=ty,o=t.length,a=!0,u=[],c=u;if(e)a=!1,i=ny;else if(o>=200){var l=n?null:ry(t);if(l)return zv(l);a=!1,i=jv,c=new Av}else c=n?[]:u;t:for(;++r<o;){var s=t[r],f=n?n(s):s;if(s=e||0!==s?s:0,a&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue t;n&&c.push(f),u.push(s)}else i(c,f,e)||(c!==u&&c.push(f),u.push(s))}return u};var oy=function(t){return t&&t.length?iy(t):[]};function ay(t){var n={},e=t.palette,r=t.categoryOrder||[],i=r.length?r:oy(t.values).sort(),o=0;i.forEach((function(r){r&&(n[r]=t.map[r]||(o>=e.length?t.fallback:e[o++]))}));var a=function(e){return n[e]||t.fallback};return a._labels=Object.keys(n),a._colors=a._labels.map((function(t){return n[t]})),a}function uy(t){return(+t).toFixed(function(t){return Math.max(0,String(t-Math.floor(t)).replace(/00000*[0-9]+$/,"").replace(/33333*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2)}(t))}function cy(t){var n,e=t.stops,r=t.mode,i=t.stopCount,o=t.customStops,a=t.values,u=t.rangeMin,c=t.rangeCenter,l=t.rangeMax;if(""!==(n=c)&&null!=n&&"continuous"===r){if("equidistant"===e)return[u,c,l];i++;var s=[],f=[];a.filter((function(t){return t>=u&&t<=l})).forEach((function(t){return(t<c?s:f).push(t)})),s.push(c),uy(f[0])>c&&f.unshift(c);var h=Math.floor((i-1)/2)+1,p=Od(h).map((function(t,n){return n/(h-1)})).map((function(t){return $d(s,t)})),d=Od(h).map((function(t,n){return n/(h-1)})).map((function(t){return $d(f,t)}));return p.length+d.length>i?d.shift():d[0]+=1e-7,[].concat(Md(p),Md(d))}if("continuous"===r&&"equidistant"===e)return[u,l];var g=Math.LOG10E*Math.log(u),v=Math.LOG10E*Math.log(l),m=a.filter((function(t){return t>=u&&t<=l})),y="custom"===e?o.map((function(t){return+t})):"pretty"===e?Ed(u,l,i):"natural"===e?[].concat(Md(function(t,n){for(var e=[],r=[],i=[],o=!1,a=0;a<n;a++)e[a]=[];for(var u=Math.round(t.length/(n+1)),c=0;c<n;c++)r[c]=t[u*(c+1)];var l,s,f=20;do{for(var h=0;h<n;h++)e[h].length=0;o=!1;for(var p=-1,d=0;d<t.length;d++){for(var g=-1,v=0;v<n;v++){var m=Math.abs(r[v]-t[d]);(-1===g||m<=g)&&(g=m,p=v)}e[p].push(t[d])}i=r.slice(0);for(var y=0;y<n;y++){for(var b=0,w=0;w<e[y].length;w++)b+=e[y][w];r[y]=b/e[y].length}for(var _=0;_<n;_++)l=r[_],s=i[_],Math.abs(l-s)<1e-6||(o=!0)}while(o&&f-- >0);return e.filter((function(t){return t.length}))}(m,i).map((function(t){return t[0]}))),[l]):"logarithmic"===e?Od(1,i).map((function(t){return Math.pow(10,g+t/i*(v-g))})):"quantiles"===e?Od(0,1.001,1/i).map((function(t){return $d(m,t)})):Od(u,l+1e-5,(l-u)/i);return["natural","custom"].includes(e)||(uy(y[0])>u&&y.unshift(u),uy(y[y.length-1])<l&&y.push(l)),y}function ly(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function sy(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?ly(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ly(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function fy(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("categories"===(t=sy(sy({},Xm(Vm)),Xm(t))).mode)return t.margins?hy(t):ay(t);var n=Zm(t.values);t.values.forEach((function(e,r){n[e]>1&&n[e]>.1*n.length&&(t.values[r]+=1e-6*(Math.random()-.5))})),t.values=t.values.filter(Number.isFinite).sort((function(t,n){return t-n}));var e=t.values[0],r=t.values[t.values.length-1];py(t.rangeMin)&&(t.rangeMin=e),py(t.rangeMax)&&(t.rangeMax=r),["rangeMin","rangeMax","rangeCenter","stopCount"].forEach((function(n){py(t[n])||(t[n]=+t[n])})),(t.ranceCenter<=t.rangeMin||t.ranceCenter>=t.rangeMax)&&(t.rangeCenter=""),t.colors&&t.colors.length||(t.colors=[{color:"#ffffff",position:0},{color:"#000000",position:1}]);var i=Yd().domain(t.colors.map((function(t){return t.position}))).range(t.colors.map((function(t){return t.color}))).interpolate(ye),o=cy(sy(sy({},t),{},{rangeCenter:"discrete"===t.mode?void 0:t.rangeCenter,stopCount:t.stopCount-("continuous"===t.mode?1:0)}));if("continuous"===t.mode){var a=o.map((function(t,n){return n/(o.length-1)})),u=Yd(o,a).clamp(!0),c=function(t){return i(u(t))+""};return c._limits=py(t.rangeCenter)?[t.rangeMin,t.rangeMax]:[t.rangeMin,+t.rangeCenter,t.rangeMax],c._stops=o,c}if("discrete"===t.mode){var l=Od(0,1.0001,1/(o.length-2)).map(i);l.unshift(l[0]),l.push(l[l.length-1]);var s=Hd(o,l);return s._stops=o,s._colors=l.slice(1,-1),s}}function hy(t){var n=t.margins.sort((function(t,n){return t-n})),e=[n[0],n[n.length-1]],r=ay(t),i={},o=cy(sy(sy({},t),{},{values:n,rangeMin:e[0],rangeMax:e[1]})),a=Od(o.length-1).map((function(t){return.5*(o[t]+o[t+1])})),u=Yd().domain([a[0],a[a.length-1]]).range([90,20]);function c(t,n){return i[t](n)}return c._stops=o,c._colors={},c._labels=r._labels,c._labels.forEach((function(t){var n=Pn(r(t)),e=a.map((function(t){return Pn(u(t),n.a,n.b)+""}));i[t]=Hd(o.slice(1,-1),e),c._colors[t]=o.slice(0,-1).map((function(n,e){return i[t](.5*(n+o[e+1]))}))})),c}function py(t){return""===t||null==t}function dy(t,n){return t.replace(/{{ *([a-zA-Z0-9_]+) *}}/g,(function(t,e){return n[e]?"{{ ".concat(gd(n[e])," }}"):t}))}function gy(t){return"<div class=\"tooltip-warning\"'>Woops! There's an error in your tooltip formula: ".concat(t.message,"</div>")}function vy(t){var n=t.ctx,e=t.columns,r=t.data,i=t.useKeys,o=void 0!==i&&i,a=t.colFmts,u=new Set,c=new Map;e.forEach((function(t){for(var n=gd(t.name()),e=n,r=0;u.has(e);)e="".concat(n,"_").concat(++r);u.add(e),c.set(t.name(),e)})),e.forEach((function(t){var e=gd(t.name()),i=c.get(t.name()),u=a[t.name()]||{},l=Math.pow(10,-u["number-divisor"]||0);if(n[i]=r[o?e:t.name()],"number"===t.type()){n[i]*=l;var f=t.range(),h=s(f,2),p={min:h[0],max:h[1],sum:t.sum(),mean:t.mean(),median:t.median()};Object.keys(p).forEach((function(t){n["".concat(i,"__").concat(t)]=p[t]}))}}))}function my(t,n){return ms(t)?Cl(t).format(n):Vp(+t,{format:n})}var yy=Math.PI/3,by=[0,yy,2*yy,3*yy,4*yy,5*yy];function wy(t){return t[0]}function _y(t){return t[1]}var xy={max:Tt,mean:function(t,n){var e,r=t.length,i=r,o=-1,a=0;if(null==n)for(;++o<r;)isNaN(e=Et(t[o]))?--i:a+=e;else for(;++o<r;)isNaN(e=Et(n(t[o],o,t)))?--i:a+=e;if(i)return a/i},median:function(t,n){var e,r=t.length,i=-1,o=[];if(null==n)for(;++i<r;)isNaN(e=Et(t[i]))||o.push(e);else for(;++i<r;)isNaN(e=Et(n(t[i],i,t)))||o.push(e);return function(t,n,e){if(null==e&&(e=Et),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}}(o.sort(St),.5)},sum:Pt,first:function(t){return t[0]},common:function(t){return Eh(pf(Nh(t)),(function(t){return-t[1]}))[0][0]}};function My(t){var n=t.symbols,e=t.aggregateFunc,r=t.radFunc,i=t.map,o=t.size,a=t.gridSize;return function(){var t,n,e,r=0,i=0,o=1,a=1,u=wy,c=_y;function l(t){var r,i={},o=[],a=t.length;for(r=0;r<a;++r)if(!isNaN(s=+u.call(null,l=t[r],r,t))&&!isNaN(f=+c.call(null,l,r,t))){var l,s,f,h=Math.round(f/=e),p=Math.round(s=s/n-(1&h)/2),d=f-h;if(3*Math.abs(d)>1){var g=s-p,v=p+(s<p?-1:1)/2,m=h+(f<h?-1:1),y=s-v,b=f-m;g*g+d*d>y*y+b*b&&(p=v+(1&h?1:-1)/2,h=m)}var w=p+"-"+h,_=i[w];_?_.push(l):(o.push(_=i[w]=[l]),_.x=(p+(1&h)/2)*n,_.y=h*e)}return o}function s(t){var n=0,e=0;return by.map((function(r){var i=Math.sin(r)*t,o=-Math.cos(r)*t,a=i-n,u=o-e;return n=i,e=o,[a,u]}))}return l.hexagon=function(n){return"m"+s(null==n?t:+n).join("l")+"z"},l.centers=function(){for(var u=[],c=Math.round(i/e),l=Math.round(r/n),s=c*e;s<a+t;s+=e,++c)for(var f=l*n+(1&c)*n/2;f<o+n/2;f+=n)u.push([f,s]);return u},l.mesh=function(){var n=s(t).slice(0,4).join("l");return l.centers().map((function(t){return"M"+t+"m"+n})).join("")},l.x=function(t){return arguments.length?(u=t,l):u},l.y=function(t){return arguments.length?(c=t,l):c},l.radius=function(r){return arguments.length?(n=2*(t=+r)*Math.sin(yy),e=1.5*t,l):t},l.size=function(t){return arguments.length?(r=i=0,o=+t[0],a=+t[1],l):[o-r,a-i]},l.extent=function(t){return arguments.length?(r=+t[0][0],i=+t[0][1],o=+t[1][0],a=+t[1][1],l):[[r,i],[o,a]]},l.radius(1)}().x((function(t){return t._x})).y((function(t){return t._y})).size([o[0],o[1]]).radius(a/i.scale)(n).map((function(t){var n={_val:"none"===e?t.length:xy[e](kh(t.slice(0),"_val")),_x:t.x,_y:t.y,_cluster:!0,_symbols:t.slice(0),_id:"bin-"+kh(t.slice(0),"_id").join("|")};return n._r="none"===e?.85*a:r(n),n}))}var ky="ontouchstart"in window||navigator.msMaxTouchPoints,Sy=-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Internet Explorer/")>-1||window.navigator.appVersion.indexOf("Trident/7.0")>-1;function Ay(t){for(var n,e=t.map,r=t.qtree,i=Mt(e.svg.node()),o=e.getZoom().invert(i),a=e.proj.invert(o),u=e.proj.invert(e.getZoom().invert([0,0])),c=e.proj.invert(e.getZoom().invert([1,1]))[0]-u[0],l=r.copy();n=l.find(a[0],a[1],100*c);){if((n?Math.sqrt(Math.pow(n.properties.__projCache[0]-a[0],2)+Math.pow(n.properties.__projCache[1]-a[1],2))/c:1/0)<=Math.max(10,n.properties.__r))break;l.remove(n)}return n}function Ey(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function jy(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Ey(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Ey(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function $y(){}function Oy(t){return t.get("labels.enabled")&&"places"===t.get("labels.type")&&t.get("labels.places").find((function(t){return t.visible}))}bt.prototype.append=Ni,bt.prototype.st=qi,dw.visualization.register("d3-maps-symbols","d3-maps-core",(function(){var t,n,e,r,i,o,a,u=!1,c={},l=["zoomable","zoom-button-pos"],s=new Map;return{render:function(f,h){var p=function(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];try{return Promise.resolve(t.apply(this,n))}catch(t){return Promise.reject(t)}}}((function(){var n,e=g.colorMap();return function(t,n){var e=t();return e&&e.then?e.then(n):n(e)}((function(){if(g.axes().values){var e=kh(w,O.values);return n=function(t){var n=t.column,e=t.vis,r=t.values,i=t.theme,o=ql(i,"colors.gradients.0",["#f0f9e8","#b6e3bb","#75c8c5","#4ba8c9","#2989bd","#0a6aad","#254b8c"]),a=ql(i,"colors.categories.0",["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]),u=o.map((function(t,n){return{color:t,position:n/(o.length-1)}})),c=e.get("colorscale.palette",0),l=e.get("colorscale.stopCount",14),s=Wl("custom"===e.get("colorscale.stops")?e.get("colorscale.customStops",[]):null);if(Array.isArray(s)){for(var f=1/0,h=-1/0,p=r.length-1;p>=0;p--)r[p]<f&&(f=r[p]),r[p]>h&&(h=r[p]);var d=(s=s.slice(1,l).map((function(t){return+t})))[s.length-1];s=[Math.min(f,s[0])].concat(Md(s),[Math.max(h,d)])}return fy("text"===n.type()?{mode:"categories",palette:ql(i,"colors.categories",[a])[Number.isFinite(c)?c:0],values:r,map:e.get("colorscale.map",{}),categoryOrder:e.get("colorscale.categoryOrder",[])}:"discrete"===e.get("colorscale.mode","continuous")?{values:r,mode:"discrete",colors:e.get("colorscale.colors",u),stops:e.get("colorscale.stops","equidistant"),customStops:s,stopCount:l,rangeMin:e.get("colorscale.rangeMin"),rangeCenter:e.get("colorscale.rangeCenter"),rangeMax:e.get("colorscale.rangeMax")}:{values:r,mode:"continuous",colors:e.get("colorscale.colors",u),stops:e.get("colorscale.interpolation","equidistant").split("-")[0],stopCount:+(e.get("colorscale.interpolation","equidistant").split("-")[1]||5),rangeMin:e.get("colorscale.rangeMin"),rangeCenter:e.get("colorscale.rangeCenter"),rangeMax:e.get("colorscale.rangeMax")})}({column:g.axes(!0).values,values:e,theme:v,vis:g}),g.mapKey.update({container:d,colorScale:n,map:t}),t.resizeMap(g.size()),function(t,n){if(!n)return t&&t.then?t.then($y):Promise.resolve()}(new Promise((function(t){return window.setTimeout(t,50)})))}}),(function(){if(t.canvas&&(s.get("region").style.fill=function(t,n){var e=ql(v,"vis.".concat(g.meta.id,".").concat(t));if(e)return e;var r=ql(v,"vis.d3-maps-core.".concat(t));return r||n}("regionFill","#f3f3f3")),t.data){t.clearZoomLayer(),t.setUserPadding(g.get("map-padding",0)/100),t.g.selectAll("g.symbols").remove();var r,i=Tt(kh(w,O.area)),o=0,c=N?g.get("clustering.aggregation"):"none",l=("y"===E.scale?Ve:nr)().domain([0,i]).range(["y"===E.scale?.1:1,"y"===E.scale?Math.pow(x,1.5):x]);w.forEach((function(n,e){var r=t.mapProj([n[O.lon],n[O.lat]]);null!==r&&null!==r[0]&&null!==r[1]&&(r=t.proj(r),n._x=r[0],n._y=r[1],n._id="row-"+e,n._val=N?n[O.area]:1,n._r=N?+l(n[O.area]):+M)})),N&&(w=w.filter((function(t){return t._val>0})));var h=t.g.append("g.symbols");Oy(g)&&t.renderPlaces(),t.addZoomLayer("symbols",h,h.selectAll("g.symbol")),t.onZoom(nh(p,300)),p(),g.renderingComplete()}function p(){var n,e;Oy(g)&&t.updatePlacesAfterZoom();var i=g.get("tooltip",{body:"",title:"",enabled:!1}),p=g.get("clusterTooltip",{body:"",title:"",enabled:!1}),x=g.get("clustering",{enabled:!1}),z=x.enabled&&t.scale+.5<t.meta.maxZoom&&"spike"!==g.get("symbol-shape")?ql(x,"type","noverlap"):"none";if(o="noverlap"===z?8:0,"noverlap"===z?r=function(t){var n=t.symbols,e=t.aggregateFunc,r=t.radFunc,i=t.tolerance,o=t.iterations,a=t.map;n=n.slice(0),e=e||"none";for(var u=0;u<o;u++){for(var c=n.length,l=0;l<c-1;l++)n[l]._r=r(n[l]),n[l]._overlaps=!1;n=n.sort((function(t,n){return n._r-t._r}));for(var s=fd().x((function(t){return t._x})).y((function(t){return t._y})).addAll(n),f=[],h=function(t){var o=n[t];if(s.remove(o),o._overlaps)return"continue";for(var u=o._r*(1-i)/a.scale,c=[],l=void 0;l=s.find(o._x,o._y,2*u);){var h=l._r/a.scale,p=l._x-o._x,d=l._y-o._y;p*p+d*d<(u+h)*(u+h)&&(c.push(l),o._overlaps=!0,l._overlaps=!0),s=s.remove(l)}if(c.length){c.push(o);for(var g={},v=[];c.length;){var m=c.shift();m._cluster?m._symbols.forEach((function(t){return c.push(t)})):v.push(m)}for(var y=0;y<v.length;y++)v[y]._in_cluster=g;g._val="none"===e?v.length:xy[e](kh(v,"_val")),g._x=o._x,g._y=o._y,g._cluster=!0,g._symbols=Wh(v).sort((function(t,n){return n._r-t._r})),g._id=kh(v,"_id").join("|"),g._r=r(g),f.unshift(g)}f.push(o)},p=0;p<c;p++)h(p);n=f.filter((function(t){return!t._overlaps}))}return n}({symbols:w,aggregateFunc:c,radFunc:function(t){return t._cluster&&"none"===c?+g.get("clustering.radius",12)+o:+(N?l(t._val):M*t._val)},tolerance:ql(x,"tolerance",0),iterations:ql(x,"iterations",4),map:t}):"hexbin"===z?r=My({symbols:w,aggregateFunc:c,radFunc:function(t){return t._cluster&&"none"===c?+g.get("clustering.gridSize",7)/2+o/2-1:+(N?l(t._val):M*t._val)},map:t,size:_,gridSize:ql(x,"gridSize",15)}):(r=w).forEach((function(t){delete t._overlaps,t._in_cluster=!1,t._prev_cluster=!1})),"none"!==z&&r.forEach((function(n){if(n._cluster){var e=t.proj.invert([n._x,n._y]);if(null===e||null===e[0]||null===e[1])return;e=t.mapProj.invert(e),n[O.lon]=e[0],n[O.lat]=e[1],n._symbols=n._symbols.map((function(t){var n={};return Object.keys(t).forEach((function(e){e.startsWith("_")||(n[gd(e)]=t[e])})),n}))}})),r=r.sort("y"===E.scale?function(t,n){return n[O.lat]-t[O.lat]}:function(t,n){return n._r-t._r}),t.canvas){var D=r.map((function(t){return{type:"Feature",geometry:{type:"Point",coordinates:[t[O.lon],t[O.lat]]},properties:jy(jy({},t),{},{__r:t._r,__symbol:A,__symbolProps:E,__label:t._cluster&&x.showCount&&t._r>10?"+".concat(t._symbols.length):null})}})),q=function(t){var n={},e=P(t.properties),r=!a||function(t){if(void 0!==a.min){var n=t.properties._val2;return n>=a.min&&n<a.max}if(a.value)return t.properties._color===a.color}(t)?1:.1,i=yn(e),u=i.r,c=i.g,l=i.b,s=i.opacity,f=Wn(e).l,h=s<1?s:F(t.properties),p="rgba(".concat(u,", ").concat(c,", ").concat(l,", ").concat(h*r,")");if(t.properties._cluster)n.fill="rgba(".concat(u,", ").concat(c,", ").concat(l,", ").concat((1===s?g.get("symbol-opacity",.9):s)*r,")"),n.stroke="rgba(".concat(u,", ").concat(c,", ").concat(l,", ").concat(B(t.properties)*r,")"),n.labelFill=f>75?"rgba(0,0,0,".concat(r,")"):"rgba(255,255,255,".concat(r,")"),n.lineWidth=o;else if(n.fill=p,g.get("symbol-stroke.enabled")){var d=B(t.properties),m="same"===g.get("symbol-stroke.mode","same")?yn(Wn(e).darker(.35)):yn(g.get("symbol-stroke.color","#ffffff"));n.stroke="rgba(".concat(m.r,", ").concat(m.g,", ").concat(m.b,", ").concat(d*r,")");var y=ql(v,"vis.d3-maps-symbols.symbols.stroke.default",{});n.lineWidth=y.width||1}return n},W=g.get("blend-multiply",!1)?"multiply":"source-over";if(s.has("symbols")){var Y=s.get("symbols");Y.features=D,Y.blendMode=W,Y.style=q}else{var H={id:"symbols",blendMode:W,style:q,features:D};t.canvasLayers.push(H),s.set("symbols",H)}t.draw()}else{var I=h.selectAll("g.symbol").data(r,Bi("_id")),U=I.enter().append("g.symbol").style("opacity",(function(t){return t._cluster?0:1}));U.append("path.shape"),g.get("clustering.showCount",!1)&&U.filter(m).append("text"),(e=h.selectAll("g.symbol").classed("hexbin","hexbin"===z).classed("cluster",m).classed("nocluster",y).classed("show-outline",(function(t){return b(t,i,p)}))).translate(L).style("display",(function(t){return t._prev_cluster&&t._in_cluster?"none":"block"})).style("opacity",(function(t){return t._prev_cluster?0:1})).each((function(t){wt(this).classed("export-hide",t._overlaps)})).transition().duration(500).style("opacity",(function(t){return t._overlaps?0:1})).on("end",(function(t){wt(this).style("display",t._overlaps?"none":"block")})),e.order(),e.select("path.shape").style("fill",P).style("fill-opacity",F).style("stroke",C).style("stroke-opacity",B).attr("d",S).attr("transform",T).style("stroke-width",(function(t){return R(t,"default")})).style("vector-effect","non-scaling-stroke"),g.get("clustering.showCount")&&e.filter(m).select("text").text((function(t){return"+"+t._symbols.length})).attr("y",(function(t){var n="marker"===k?.85*t._r:0;return.25*this.getBBox().height-n})).style("fill",(function(t){return Wn(t._color).l>75?"#000000":"#ffffff"})),I.exit().transition().duration(500).style("opacity",0).remove(),t.updateZoomLayerSelection("symbols",e),t.fixZoom()}if(i.enabled)try{i.template=dw.utils.htmlTemplate((i.title?"<h2>".concat(i.title,"</h2>"):"")+i.body)}catch(n){t.isDatawrapperEditor?i.template=dw.utils.htmlTemplate(gy(n)):i.template=function(){throw new Error}}if(p.enabled)try{p.template=dw.utils.htmlTemplate((p.title?"<h2>".concat(p.title,"</h2>"):"")+p.body)}catch(n){t.isDatawrapperEditor?p.template=dw.utils.htmlTemplate(gy(n)):p.template=function(){throw new Error}}if(i.enabled||p.enabled||g.get("legend.interactive")){var Z=d.querySelector(".dw-tooltip");if(Z&&Z.parentNode.removeChild(Z),n=wt(d).append("div.dw-tooltip").style("overflow-y","auto"),t.canvas){var X=s.get("symbols").features;if(!X.length)return;X[0].properties.__projCache||X.forEach((function(n){n.properties.__projCache=t.mapProj(n.geometry.coordinates)}));var V=fd(X.filter((function(t){return t.properties.__projCache})),(function(t){return t.properties.__projCache[0]}),(function(t){return t.properties.__projCache[1]}));t.svg.select("path.symbol-hover").remove();var G=t.g.append("path.symbol-hover").attr("d",S).style("display","none");Sy||G.attr("vector-effect","non-scaling-stroke"),t.svg.on("mousemove",(function(){if(!u&&!ky){var e=Ay({map:t,qtree:V}),r=!!e&&b(e.properties,i,p);e&&$("symbol.mouseenter",Wl(e.properties)),e&&(r||g.get("legend.interactive"))?(t.onHighlight&&t.onHighlight(e),r&&J(e.properties),G.attr("transform","translate(".concat(t.proj(e.properties.__projCache).join(", "),") ").concat(T(e.properties)," scale(").concat(1/t.scale,")")).classed("nocluster",y(e.properties)).classed("cluster",m(e.properties)).style("stroke-width",(function(){return R(e.properties,"hover")})).style("stroke",C(e.properties)).style("display","block")):($("symbol.mouseleave"),t.onHighlight&&t.onHighlight(null),n.style("visibility","hidden"),G.style("display","none"))}})).on("click",(function(){var e=Ay({map:t,qtree:V}),r=ql(e,"properties._cluster",!1);if(e&&$("symbol.click",Wl(e.properties)),e&&e!==u&&(!r&&i.enabled||r&&p.enabled)){if(!ky&&(!r&&!g.get("tooltip.sticky")||r&&!g.get("clusterTooltip.sticky")))return;if(u&&(K(G),!e))return;u=e,G.attr("transform","translate(".concat(t.proj(e.properties.__projCache).join(", "),") ").concat(T(e.properties)," scale(").concat(1/t.scale,")")).style("display","block").style("stroke-width",R(e.properties,"sticky")).classed("sticky",!0),J(e.properties),n.classed("sticky",!0)}else K(G)}))}else e.on("mouseover",null).on("mousemove",null).on("mouseout",null).on("mouseover",(function(t){$("symbol.mouseenter",t),t._cluster&&!p||!t._cluster&&!i||!u&&i.enabled&&(wt(this).select("path.shape").style("stroke-width",(function(t){return R(t,"hover")})),J(t))})).on("mousemove",(function(t){t._cluster&&!p||!t._cluster&&!i||u||J(t,!0)})).on("mouseout",(function(t){$("symbol.mouseleave",t),t._cluster&&!p||!t._cluster&&!i||u||(n.style("visibility","hidden"),wt(this).select("path.shape").style("stroke-width",(function(t){return R(t,"default")})))})).on("click",(function(t){$("symbol.click",t),g.get("tooltip.sticky")&&(t._cluster&&!p||!t._cluster&&!i||(J(t),u=u!==t&&t,e.classed("sticky",!1),wt(this).classed("sticky",!1!==u).select("path.shape").style("stroke-width",(function(t){return R(t,u?"sticky":"hover")}))))})),t.svg.selectAll("g.map > *").on("click",(function(){this.classList.contains("symbols")||K()}))}function K(r){u=!1,t.canvas?r.style("display","none").classed("sticky",!1):e.classed("sticky",!1),n.style("visibility","hidden").classed("sticky",!1)}function J(e,r){if(!e._cluster||p.enabled){if(!r){var o={FORMAT:my};e._cluster?(o.value=e._val,o.symbols=e._symbols,o.first=e._symbols[0],o.last=e._symbols[e._symbols.length-1]):vy({ctx:o,columns:g.dataset.columns(),data:e,colFmts:j});var a=e._cluster?p:i;try{e._cluster&&(o.TOOLTIP=function(t){var n={FORMAT:o.FORMAT};return vy({ctx:n,columns:g.dataset.columns(),data:t,useKeys:!0,colFmts:j}),"<div>".concat(i.template(n).replace(/\n\n/g,"<br>"),"</div>")});var u=a.template(o).replace(/\n\n/g,"<br>");u&&n.style("visibility","visible").html(u)}catch(e){if(!t.isDatawrapperEditor)return;n.style("visibility","visible").html(gy(e))}}var c=Mt(d),l=f.clientWidth<450?.55:.45;t.sizeTooltip(c,d,n),n.style("max-height",f.clientHeight*l+"px")}}}function m(t){return t._cluster}function y(t){return!t._cluster}function b(t,n,e){return!m(t)&&n.enabled||m(t)&&e.enabled}function z(t){return t._r}function T(t){var n=z(t);return n=isFinite(n)?n:0,"y"===E.scale?"scale(2.5, ".concat(n,")"):"scale(".concat(n,")")}function L(t){return isFinite(t._x)&&isFinite(t._y)?t.anchor=[t._x,t._y]:t.anchor=[0,0],t.anchor}function P(t){if(t._cluster){var r=g.get("clustering.aggregationColor","none");if(n&&"none"!==r){var i=xy[r](kh(t._symbols,gd(g.axes().values)));return t._val2=i,e(t._color=n(i))}return e(t._color=D("clustering.color",v.colors.palette[0]))}return t._val2=t[g.axes().values],e(t._color=n?n(t[g.axes().values]):D("symbol-color",v.colors.palette[0]))}function C(t){return"fixed"===g.get("symbol-stroke.mode")?e(g.get("symbol-stroke.color","#000000")):e(t._cluster?t._color:Wn(t._color).darker(.35)+"")}function R(t,n){var e=ql(g.theme(),"vis.d3-maps-symbols.symbols.stroke.".concat(n,".width"),1);return(t._cluster&&"hexbin"!==g.get("cluster-symbols")?Math.min(.7*t._r,o):e)/(Sy?"spike"===g.get("symbol-shape")?1:z(t):1)}function F(t){var n=g.get("symbol-opacity",.9);return(t._cluster?.944:1)*n}function B(t){var n=g.get("symbol-stroke.opacity",1);return t._cluster?.25:n}}))}));if(n)return!1;n=!0;var d=f,g=this,v=g.theme(),m=g.chart();!function(t,n,e){var r,i=n.visualize,o=void 0===i?{}:i,a=n.data,u=void 0===a?{}:a,c=n.axes,l=void 0===c?{}:c;if(o.gradient||o.categories){var s={mode:"continuous",stops:"quantiles",interpolation:"equidistant",colors:[],rangeMin:"",rangeMax:"",rangeCenter:"",stopCount:5,palette:0,categoryOrder:[],categoryLabels:{},map:{}};if(o.categories&&(s.map=o.categories,delete o.categories),o.gradient){var f=o.gradient;if(f.colors&&(s.colors=f.colors.map((function(t){return{color:t.c,position:t.p}}))),f.stops){var h=f.stops.filter((function(t){return 0===t.p}))[0];h&&(s.rangeMin=h.v);var p=f.stops.filter((function(t){return 1===t.p}))[0];if(p&&(s.rangeMax=p.v),3===f.stops.length){var d=f.stops.filter((function(t){return Math.abs(t.p-.5)<.03}))[0];d&&(s.rangeCenter=d.v),s.interpolation="quantiles-3"}else f.stops.length>3&&(s.interpolation=f.stops.length<6?"quantiles-5":"quantiles-6")}}o.colorscale=s,delete o.gradient}if(o.colorscale&&!o.colorscale.customStops&&(o.colorscale.customStops=["","","","","","","",""]),o.legend&&!o.legend.hideItems&&(o.legend.hideItems=[]),o.tooltip&&void 0===o.tooltip.enabled){var g={enabled:!1,sticky:!0,body:"",title:""};if(o.tooltip){var v=o.tooltip,m=v.title,y=v.body,b=v.fields;(m||y)&&(g.body=b?dy(y||"",b):y||"",g.title=b?dy(m||"",b):m||"",g.migrated=!0,g.enabled=!0)}o.tooltip=g}if(void 0===o["min-label-zoom"]&&o["map-key-position"]&&(o["min-label-zoom"]=1.5),"d3-maps-choropleth"===t&&o.tooltip&&(l.keys&&(o.tooltip.title=String(o.tooltip.title).replace("%REGION_NAME%","{{ ".concat(gd(l.keys)," }}"))),l.values&&(o.tooltip.body=String(o.tooltip.body).replace("%REGION_VALUE%","{{ ".concat(gd(l.values)," }}")))),o["map-key-position"]){var w="d3-maps-choropleth"===t?"hidden"!==o["map-key-position"]||!1===o["map-key-auto"]&&""===o["map-key-stops"]:!1!==o["show-map-key"];o.legend={enabled:w,orientation:"vertical",position:w?o["map-key-position"]:"mt",title:o["map-key-title"]||"",labelFormat:(r=o["map-key-format"],{"0,0.[00]":"0,0.[00]",f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".2%":"0.00%",".0s":"0a",".1s":"0.0a",".2s":"0.00a",".3s":"0.000a"}[r]||r),size:100,offsetTop:0,offsetLeft:0,labels:"ranges",reverse:!1,interactive:!1},delete o["map-key-position"],delete o["map-key-title"],delete o["map-key-format"],delete o["map-key-position"]}if(void 0===o["zoom-button-pos"]&&(o["zoom-button-pos"]="br"===ql(o,"legend.position")?"tr":"br"),o["cluster-symbols"]){var _=["noverlap","hexbin"].includes(o["cluster-symbols"]);o.clustering={enabled:_,type:_?o["cluster-symbols"]:"noverlap",showCount:ql(o,"cluster-count",!0),gridSize:ql(o,"hexbin-gridsize",15),aggregation:ql(o,"cluster-aggregation","none"),radius:ql(o,"cluster-radius",9),iterations:ql(o,"iterations",1),tolerance:ql(o,"tolerance",0),color:ql(o,"cluster-color",0)},delete o["cluster-color"],delete o["cluster-symbols"],delete o["cluster-count"],delete o["hexbin-gridsize"],delete o["cluster-aggregation"],delete o["cluster-radius"],delete o.iterations,delete o.tolerance}if(null===ql(o,"clustering.aggregationColor")&&ql(o,"clustering.aggregationColor",ql(o,"cluster-aggregation","none")),o["cluster-tooltip"]){var x=ql(o,"cluster-tooltip",{}),M=x.title,k=x.body,S=x.fields;o.clusterTooltip=(M||k)&&S?{enabled:!0,sticky:!0,title:dy(M||"",S),body:dy(k||"",S),migrated:!0}:{enabled:M||k,sticky:!0,title:M||"",body:k||""},delete o["cluster-tooltip"]}if(o["map-align"]||(o["map-align"]="center"),"d3-maps-symbols"===t&&void 0===o["blend-multiply"]&&(o["blend-multiply"]=!0),e&&l&&!e.hasColumn(l.values)&&delete l.values,l.values&&o["map-key-stops"]&&"number"===e.column(l.values).type()){var A={},E=e.column(l.values).values(),j=!0;o["map-key-stops"].split("\n").forEach((function(t){var n=t.split(",");A[n[0]]=n[1]}));for(var $=0;$<E.length;$++)if("number"==typeof E[$]&&isFinite(E[$])&&void 0===A[E[$]]){j=!1;break}if(j){u["column-format"][l.values]||(u["column-format"][l.values]={}),u["column-format"][l.values].type="text";var O=fy({values:E,mode:"continuous",colors:o.colorscale.colors,stops:o.colorscale.interpolation.split("-")[0],stopCount:+(o.colorscale.interpolation.split("-")[1]||5),rangeMin:o.colorscale.rangeMin,rangeCenter:o.colorscale.rangeCenter,rangeMax:o.colorscale.rangeMax});for(var N in o.colorscale.map={},A)void 0!==N&&""!==N&&(o.colorscale.map[N]=O(Number(N)),o.colorscale.categoryLabels[N]=A[N],o.colorscale.categoryOrder.push(N))}delete o["map-key-stops"]}if(void 0===o["text-annotations"]&&(o["text-annotations"]=[]),void 0===o.labels){var z=Boolean(l.labels);o.labels={},o.labels.enabled=z,o.labels.type=z?"column":"places",o.labels.places=[],o.labels.max=1}}(m.get("type"),m.get("metadata"),g.dataset);var y,b,w=g.dataset.list(),_=g.size(),x=g.get("max-radius",20),M=g.get("fixed-radius",5),k=g.get("symbol-shape","circle"),S=td[k],A=nd[k],E={id:y=k,scale:"spike"===y?"y":"area",stroke:"spike"!==y,fill:"spike"===y},j=m.getMetadata("data.column-format",{}),$=(b=m.get("id"),function(t,n){if(window.parent&&window.parent.postMessage){var e={source:"datawrapper",chartId:b,type:t,data:n};window.parent.postMessage(e,"*")}}),O=g.axes(),N=O.area,z=!e||e!==g.get("basemap","bl");if(z||l.forEach((function(t){void 0!==c[t]&&c[t]!==g.get(t)&&(z=!0)})),z)f.innerHTML="",l.forEach((function(t){c[t]=g.get(t)})),e=g.get("basemap","bl"),r=g.size(),i=g.get("max-map-height"),o=g.get("map-align","center"),u=!1,g.initBaseMap(d,e,h,(function(e){t=e,s.clear(),t.canvasLayers.forEach((function(t){var n=t.id,e=t.style,r=t.features;s.set(n,{style:e,features:r})})),t.highlight=function(n){g.get("legend.interactive")&&(a=n,t.canvas&&t.draw())},p().then((function(){n=!1}))}));else if(t.svg){var T=g.size(),L=g.get("max-map-height"),P=g.get("map-align","center");r[0]===T[0]&&r[1]===T[1]&&L===i&&P===o||(r=T,i=L,o=P,t.resizeMap(T)),p().then((function(){n=!1}))}else n=!1;function D(t,n){var e=g.get(t,n);return vs(e)?v.colors.palette[e]:e}},reset:function(){}}}))}();
//# sourceMappingURL=d3-maps-symbols.js.map
